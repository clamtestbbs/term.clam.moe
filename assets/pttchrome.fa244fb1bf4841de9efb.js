!function(n){var o={};function r(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="assets/",r(r.s=176)}([function(e,t){e.exports=React},function(e,t,n){e.exports=n(125)()},function(e,t,n){var o;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var s={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o,r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n))n.length&&(o=a.apply(null,n))&&e.push(o);else if("object"==r)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var i in n)s.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?e.exports=a.default=a:void 0!==(o=function(){return a}.apply(t,[]))&&(e.exports=o)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),s=n(129),n=o(n(18));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(function(e,t,n,o,r){return e=e[t],i.default.isValidElement(e)?new Error("Invalid "+o+" `"+r+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,s.isValidElementType)(e)?null:new Error("Invalid "+o+" `"+r+"` of value `"+e+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")}),e.exports=t.default},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e){var t;return"number"==typeof(e=e&&"object"==typeof e&&(t=e.which||e.keyCode||e.charCode)?t:e)?a[e]:(t=String(e),o[t.toLowerCase()]||r[t.toLowerCase()]||(1===t.length?t.charCodeAt(0):void 0))}n.isEventKey=function(e,t){if(e&&"object"==typeof e){e=e.which||e.keyCode||e.charCode;if(null!=e)if("string"==typeof t){var n=o[t.toLowerCase()];if(n)return n===e;if(n=r[t.toLowerCase()])return n===e}else if("number"==typeof t)return t===e;return!1}};
/*!
 * Programatically add the following
 */
for(var o=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},i=97;i<123;i++)o[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)o[i-48]=i;for(i=1;i<13;i++)o["f"+i]=i+111;for(i=0;i<10;i++)o["numpad "+i]=i+96;var s,a=t.names=t.title={};for(i in o)a[o[i]]=i;for(s in r)o[s]=r[s]},function(e,t){e=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var o=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=o,e.exports=t.default},function(e,t,n){function m(e,t,n){var o,r,i,s=e&m.F,a=e&m.G,l=e&m.S,c=e&m.P,u=e&m.B,d=e&m.W,f=a?y:y[t]||(y[t]={}),p=f[x],h=a?g:l?g[t]:(g[t]||{})[x];for(o in n=a?t:n)(r=!s&&h&&void 0!==h[o])&&w(f,o)||(i=(r?h:n)[o],f[o]=a&&"function"!=typeof h[o]?n[o]:u&&r?b(i,g):d&&h[o]==i?function(o){function e(e,t,n){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(e);case 2:return new o(e,t)}return new o(e,t,n)}return o.apply(this,arguments)}return e[x]=o[x],e}(i):c&&"function"==typeof i?b(Function.call,i):i,c&&((f.virtual||(f.virtual={}))[o]=i,e&m.R)&&p&&!p[o]&&v(p,o,i))}var g=n(23),y=n(7),b=n(48),v=n(32),w=n(22),x="prototype";m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128,e.exports=m},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=void 0;o=o(n(8)).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):r(e,t)}:r;function r(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.default)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=null;return r.forEach(function(e){null==o&&null!=(e=e.apply(void 0,t))&&(o=e)}),o})};var n=n(18),o=(n=n)&&n.__esModule?n:{default:n};e.exports=t.default},,function(e,t,n){e.exports=!n(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(65)("wks"),r=n(67),i=n(23).Symbol,s="function"==typeof i;(e.exports=function(e){return o[e]||(o[e]=s&&i[e]||(s?i:r)("Symbol."+e))}).store=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.default)(o.default.findDOMNode(e))};var o=i(n(4)),r=i(n(16));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(c){function e(e,t,n,o,r,i){o=o||"<<anonymous>>",i=i||n;if(null==t[n])return e?new Error("Required "+r+" `"+i+"` was not specified in `"+o+"`."):null;for(var s=arguments.length,a=Array(6<s?s-6:0),l=6;l<s;l++)a[l-6]=arguments[l];return c.apply(void 0,[t,n,o,r,i].concat(a))}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t},e.exports=t.default},function(e,t,n){"use strict";function l(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function c(t){this.setState(function(e){return null!=(e=this.constructor.getDerivedStateFromProps(t,e))?e:null}.bind(this))}function u(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"==typeof e.getDerivedStateFromProps||"function"==typeof t.getSnapshotBeforeUpdate){var n,o,r=null,i=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==i||null!==s)throw n=e.displayName||e.name,o="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()",Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+n+" uses "+o+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks");if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=l,t.componentWillReceiveProps=c),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=u;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,n)}}}return e}n.r(t),n.d(t,"polyfill",function(){return o}),u.__suppressDeprecationWarning=c.__suppressDeprecationWarning=l.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(l){return function(e,t,n,o,r){if(null==e[t])return new Error("The "+o+" `"+(r||t)+"` is required to make `"+(n||"<<anonymous>>")+"` accessible for users of assistive technologies such as screen readers.");for(var i=arguments.length,s=Array(5<i?i-5:0),a=5;a<i;a++)s[a-5]=arguments[a];return l.apply(void 0,[e,t,n,o,r].concat(s))}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},o=_(n(54)),s=_(n(11)),i=_(n(8)),r=_(n(1)),a=_(n(37)),l=_(n(127)),c=_(n(3)),y=n(0),b=_(y),u=_(n(4)),d=_(n(10)),f=_(n(131)),v=_(n(75)),w=_(n(144)),p=_(n(76)),h=_(n(145)),m=_(n(39)),x=_(n(17));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}var n=new f.default,C=function(i){var e=m,t=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function m(){var e=this,t=m;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=E(this,i.call.apply(i,[this].concat(o))),S.call(t=e),E(e,t)}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),m.prototype.omitProps=function(t,n){var e=Object.keys(t),o={};return e.map(function(e){Object.prototype.hasOwnProperty.call(n,e)||(o[e]=t[e])}),o},m.prototype.render=function(){var e,t,n=this.props,o=n.show,r=n.container,i=n.children,s=n.transition,a=n.backdrop,l=n.className,c=n.style,u=n.onExit,d=n.onExiting,f=n.onEnter,p=n.onEntering,n=n.onEntered,i=b.default.Children.only(i),h=this.omitProps(this.props,m.propTypes);return o||s&&!this.state.exited?(e=(t=i.props).role,t=t.tabIndex,void 0!==e&&void 0!==t||(i=(0,y.cloneElement)(i,{role:void 0===e?"document":e,tabIndex:null==t?"-1":t})),s&&(i=b.default.createElement(s,{appear:!0,unmountOnExit:!0,in:o,onExit:u,onExiting:d,onExited:this.handleHidden,onEnter:f,onEntering:p,onEntered:n},i)),b.default.createElement(v.default,{ref:this.setMountNode,container:r,onRendered:this.onPortalRendered},b.default.createElement("div",g({ref:this.setModalNodeRef,role:e||"dialog"},h,{style:c,className:l}),a&&this.renderBackdrop(),b.default.createElement(w.default,{ref:this.setDialogRef},i)))):null},m.prototype.UNSAFE_componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},m.prototype.UNSAFE_componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},m.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},m.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},m.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,e=e.transition;this._isMounted=!1,(t||e&&!this.state.exited)&&this.onHide()},m.prototype.autoFocus=function(){var e,t;this.props.autoFocus&&(e=this.getDialogElement(),t=(0,o.default)((0,x.default)(this)),e)&&!(0,s.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,d.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus())},m.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},m.prototype.getDialogElement=function(){return u.default.findDOMNode(this.dialog)},m.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},m}(b.default.Component),S=(C.propTypes=g({},v.default.propTypes,{show:r.default.bool,container:r.default.oneOfType([a.default,r.default.func]),onShow:r.default.func,onHide:r.default.func,backdrop:r.default.oneOfType([r.default.bool,r.default.oneOf(["static"])]),renderBackdrop:r.default.func,onEscapeKeyDown:r.default.func,onEscapeKeyUp:(0,l.default)(r.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:r.default.func,backdropStyle:r.default.object,backdropClassName:r.default.string,containerClassName:r.default.string,keyboard:r.default.bool,transition:c.default,backdropTransition:c.default,autoFocus:r.default.bool,enforceFocus:r.default.bool,restoreFocus:r.default.bool,onEnter:r.default.func,onEntering:r.default.func,onEntered:r.default.func,onExit:r.default.func,onExiting:r.default.func,onExited:r.default.func,manager:r.default.object.isRequired}),C.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:n,renderBackdrop:function(e){return b.default.createElement("div",e)}},function(){var r=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var e=r.props,t=e.backdropStyle,n=e.backdropClassName,o=e.renderBackdrop,e=e.backdropTransition,o=o({ref:function(e){return r.backdrop=e},style:t,className:n,onClick:r.handleBackdropClick});return o=e?b.default.createElement(e,{appear:!0,in:r.props.show},o):o},this.onPortalRendered=function(){r.autoFocus(),r.props.onShow&&r.props.onShow()},this.onShow=function(){var e=(0,x.default)(r),t=(0,m.default)(r.props.container,e.body);r.props.manager.add(r,t,r.props.containerClassName),r._onDocumentKeydownListener=(0,p.default)(e,"keydown",r.handleDocumentKeyDown),r._onDocumentKeyupListener=(0,p.default)(e,"keyup",r.handleDocumentKeyUp),r._onFocusinListener=(0,h.default)(r.enforceFocus)},this.onHide=function(){r.props.manager.remove(r),r._onDocumentKeydownListener.remove(),r._onDocumentKeyupListener.remove(),r._onFocusinListener.remove(),r.props.restoreFocus&&r.restoreLastFocus()},this.setMountNode=function(e){r.mountNode=e&&e.getMountNode()},this.setModalNodeRef=function(e){r.modalNode=e},this.setDialogRef=function(e){r.dialog=e},this.handleHidden=function(){var e;r.setState({exited:!0}),r.onHide(),r.props.onExited&&(e=r.props).onExited.apply(e,arguments)},this.handleBackdropClick=function(e){e.target===e.currentTarget&&(r.props.onBackdropClick&&r.props.onBackdropClick(e),!0===r.props.backdrop)&&r.props.onHide()},this.handleDocumentKeyDown=function(e){r.props.keyboard&&27===e.keyCode&&r.isTopModal()&&(r.props.onEscapeKeyDown&&r.props.onEscapeKeyDown(e),r.props.onHide())},this.handleDocumentKeyUp=function(e){r.props.keyboard&&27===e.keyCode&&r.isTopModal()&&r.props.onEscapeKeyUp&&r.props.onEscapeKeyUp(e)},this.checkForFocus=function(){i.default&&(r.lastFocus=(0,o.default)())},this.enforceFocus=function(){var e,t;r.props.enforceFocus&&r._isMounted&&r.isTopModal()&&(e=r.getDialogElement(),t=(0,o.default)((0,x.default)(r)),e)&&!(0,s.default)(e,t)&&e.focus()}});C.Manager=f.default,t.default=C,e.exports=t.default},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t,n){var o=n(34);e.exports=function(e){if(o(e))return e;throw TypeError(e+" is not an object!")}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r,i,s,a){var l,c,u;if(!e)throw void 0===t?u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(l=[n,o,r,i,s,a],c=0,(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"),u.framesToPop=1,u}},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function s(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(!s(e,t)){if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(!i.call(t,n[r])||!s(e[n[r]],t[n[r]]))return!1}return!0}},function(e,t,n){e.exports=n(146)},function(e,t,n){e.exports=n.p+"clamtestbbs.2d3abf4734731b8be12ddc363eadf075.png"},function(e,t,n){var o=n(44);e.exports=function(e){return Object(o(e))}},function(e,t,n){var o=n(105),r=n(68);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t,n){var o=n(63),r=n(44);e.exports=function(e){return o(r(e))}},function(e,t,n){var o=n(33),r=n(36);e.exports=n(14)?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(24),r=n(69),i=n(71),s=Object.defineProperty;t.f=n(14)?Object.defineProperty:function(e,t,n){if(o(e),t=i(t,!0),o(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=o(n(0)),n=o(n(18));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(function(e,t,n,o,r){return e=e[t],t=void 0===e?"undefined":i(e),s.default.isValidElement(e)?new Error("Invalid "+o+" `"+r+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===t&&"function"==typeof e.render||1===e.nodeType?null:new Error("Invalid "+o+" `"+r+"` of value `"+e+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")}),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,o.default.findDOMNode(e)||t};var n=n(4),o=(n=n)&&n.__esModule?n:{default:n};e.exports=t.default},function(e,t,n){"use strict";var o,r=n(5),i=(t.__esModule=!0,t.default=function(e){(!o&&0!==o||e)&&i.default&&((e=document.createElement("div")).style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e));return o},r(n(8)));e.exports=t.default},function(e,t,n){e.exports=n(149)},function(e,o,r){"use strict";!function(e,t){var n=r(84),e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t,t=Object(n.a)(e);o.a=t}.call(this,r(101),r(102)(e))},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var o=function(e){{if(e&&e.__esModule)return e;var t,n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&((t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{}).get||t.set?Object.defineProperty(n,o,t):n[o]=e[o]);return n.default=e,n}}(n(1)),i=a(n(0)),s=a(n(4)),r=n(19);n(148);function a(e){return e&&e.__esModule?e:{default:e}}var l="unmounted",c=(t.UNMOUNTED=l,"exited"),u=(t.EXITED=c,"entering"),d=(t.ENTERING=u,"entered"),f=(t.ENTERED=d,"exiting"),n=(t.EXITING=f,function(r){var e;function t(e,t){var n,o=r.call(this,e,t)||this,t=t.transitionGroup,t=t&&!t.isMounting?e.enter:e.appear;return o.appearStatus=null,e.in?t?(n=c,o.appearStatus=u):n=d:n=e.unmountOnExit||e.mountOnEnter?l:c,o.state={status:n},o.nextCallback=null,o}e=r,(n=t).prototype=Object.create(e.prototype),(n.prototype.constructor=n).__proto__=e;var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null},n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;e!==this.props&&(e=this.state.status,this.props.in?e!==u&&e!==d&&(t=u):e!==u&&e!==d||(t=f)),this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n=this.props.timeout,o=e=t=n;return null!=n&&"number"!=typeof n&&(o=n.exit,e=n.enter,t=void 0!==n.appear?n.appear:e),{exit:o,enter:e,appear:t}},n.updateStatus=function(e,t){var n;void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),n=s.default.findDOMNode(this),t===u?this.performEnter(n,e):this.performExit(n)):this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},n.performEnter=function(e,t){var n=this,o=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),s=r?i.appear:i.enter;t||o?(this.props.onEnter(e,r),this.safeSetState({status:u},function(){n.props.onEntering(e,r),n.onTransitionEnd(e,s,function(){n.safeSetState({status:d},function(){n.props.onEntered(e,r)})})})):this.safeSetState({status:d},function(){n.props.onEntered(e)})},n.performExit=function(e){var t=this,n=this.props.exit,o=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:f},function(){t.props.onExiting(e),t.onTransitionEnd(e,o.exit,function(){t.safeSetState({status:c},function(){t.props.onExited(e)})})})):this.safeSetState({status:c},function(){t.props.onExited(e)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(t){var n=this,o=!0;return this.nextCallback=function(e){o&&(o=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);n=null==t&&!this.props.addEndListener;!e||n?setTimeout(this.nextCallback,0):(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t))},n.render=function(){var e,t,n=this.state.status;return n===l?null:(e=(t=this.props).children,delete(t=function(e,t){if(null==e)return{};for(var n,o={},r=Object.keys(e),i=0;i<r.length;i++)n=r[i],0<=t.indexOf(n)||(o[n]=e[n]);return o}(t,["children"])).in,delete t.mountOnEnter,delete t.unmountOnExit,delete t.appear,delete t.enter,delete t.exit,delete t.timeout,delete t.addEndListener,delete t.onEnter,delete t.onEntering,delete t.onEntered,delete t.onExit,delete t.onExiting,delete t.onExited,"function"==typeof e?e(n,t):(n=i.default.Children.only(e),i.default.cloneElement(n,t)))},t}(i.default.Component));function p(){}n.contextTypes={transitionGroup:o.object},n.childContextTypes={transitionGroup:function(){}},n.propTypes={},n.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},n.UNMOUNTED=0,n.EXITED=1,n.ENTERING=2,n.ENTERED=3,n.EXITING=4;o=(0,r.polyfill)(n);t.default=o},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?o:n)(e)}},function(e,t,n){var o=n(65)("keys"),r=n(67);e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t,n){var i=n(109);e.exports=function(o,r,e){if(i(o),void 0===r)return o;switch(e){case 1:return function(e){return o.call(r,e)};case 2:return function(e,t){return o.call(r,e,t)};case 3:return function(e,t,n){return o.call(r,e,t,n)}}return function(){return o.apply(r,arguments)}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=void 0;var r=function(){},o=r=o(n(8)).default?document.addEventListener?function(e,t,n,o){return e.addEventListener(t,n,o||!1)}:document.attachEvent?function(t,e,n){return t.attachEvent("on"+e,function(e){(e=e||window.event).target=e.target||e.srcElement,e.currentTarget=t,n.call(t,e)})}:void 0:r;t.default=o,e.exports=t.default},function(e,t,n){"use strict";var o=n(5);t.__esModule=!0,t.default=void 0;var r=function(){},o=r=o(n(8)).default?document.addEventListener?function(e,t,n,o){return e.removeEventListener(t,n,o||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0:r;t.default=o,e.exports=t.default},function(e,t,n){"use strict";var o=n(5),s=(t.__esModule=!0,t.default=function(n,e,t){var o="",r="",i=e;if("string"==typeof e){if(void 0===t)return n.style[(0,s.default)(e)]||(0,l.default)(n).getPropertyValue((0,a.default)(e));(i={})[e]=t}Object.keys(i).forEach(function(e){var t=i[e];t||0===t?(0,d.default)(e)?r+=e+"("+t+") ":o+=(0,a.default)(e)+": "+t+";":(0,c.default)(n,(0,a.default)(e))}),r&&(o+=u.transform+": "+r+";");n.style.cssText+=";"+o},o(n(74))),a=o(n(136)),l=o(n(138)),c=o(n(139)),u=n(140),d=o(n(141));e.exports=t.default},function(e,t){e.exports={}},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=function(e){void 0===e&&(e=(0,r.default)());try{return e.activeElement}catch(e){}},o(n(16)));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)(e)||function(e){return e&&"body"===e.tagName.toLowerCase()}(e)?function(e){var e=(0,r.default)(e),t=(0,o.default)(e).innerWidth;{var n;t||(n=e.documentElement.getBoundingClientRect(),t=n.right-Math.abs(n.left))}return e.body.clientWidth<t}(e):e.scrollHeight>e.clientHeight};var o=i(n(38)),r=i(n(16));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=c(n(11)),o=c(n(1)),r=c(n(0)),s=c(n(4)),a=c(n(76)),l=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}n=function(o){var e=r,t=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function r(e,t){var n;if(this instanceof r)return(n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this,e,t))).addEventListeners=function(){n.currentEvent=window.event;var e=n.props.event,t=(0,l.default)(n);n.documentMouseCaptureListener=(0,a.default)(t,e,n.handleMouseCapture,!0),n.documentMouseListener=(0,a.default)(t,e,n.handleMouse),n.documentKeyupListener=(0,a.default)(t,"keyup",n.handleKeyUp)},n.removeEventListeners=function(){n.documentMouseCaptureListener&&n.documentMouseCaptureListener.remove(),n.documentMouseListener&&n.documentMouseListener.remove(),n.documentKeyupListener&&n.documentKeyupListener.remove()},n.handleMouseCapture=function(e){var t;n.preventMouseRootClose=!(!((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&0===e.button)||(0,i.default)(s.default.findDOMNode(n),e.target)},n.handleMouse=function(e){e===n.currentEvent?n.currentEvent=void 0:!n.preventMouseRootClose&&n.props.onRootClose&&n.props.onRootClose(e)},n.handleKeyUp=function(e){e===n.currentEvent?n.currentEvent=void 0:27===e.keyCode&&n.props.onRootClose&&n.props.onRootClose(e)},n.preventMouseRootClose=!1,n;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},r.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},r.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},r.prototype.render=function(){return this.props.children},r}(r.default.Component);n.displayName="RootCloseWrapper",n.propTypes={onRootClose:o.default.func,children:o.default.element,disabled:o.default.bool,event:o.default.oneOf(["click","mousedown"])},n.defaultProps={event:"click"},t.default=n,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createChangeEmitter=function(){var n=[],o=n;function r(){o===n&&(o=n.slice())}return{listen:function(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var n=!0;return r(),o.push(t),function(){var e;n&&(n=!1,r(),e=o.indexOf(t),o.splice(e,1))}},emit:function(){for(var e=n=o,t=0;t<e.length;t++)e[t].apply(e,arguments)}}}},function(e,t,n){e.exports=n(114)},function(e,t,n){e.exports=n(118)},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=void 0,o(n(50))),i=(t.on=r.default,o(n(51))),s=(t.off=i.default,o(n(122))),o=(t.filter=s.default,o(n(124))),n=(t.listen=o.default,{on:r.default,off:i.default,filter:s.default,listen:o.default});t.default=n},function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=s(n(1)),r=s(n(3)),u=s(n(0)),d=s(n(75)),f=s(n(154)),p=s(n(56));function s(e){return e&&e.__esModule?e:{default:e}}n=function(o){var e=r,t=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function r(e,t){var n;if(this instanceof r)return(n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this,e,t))).handleHidden=function(){var e;n.setState({exited:!0}),n.props.onExited&&(e=n.props).onExited.apply(e,arguments)},n.state={exited:!e.show},n.onHiddenListener=n.handleHidden.bind(n),n;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r.prototype.UNSAFE_componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},r.prototype.render=function(){var e,t=this.props,n=t.container,o=t.containerPadding,r=t.target,i=t.placement,s=t.shouldUpdatePosition,a=t.rootClose,l=t.children,c=t.transition,t=function(e,t){var n,o={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(t,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);return t.show||c&&!this.state.exited?(o=u.default.createElement(f.default,{container:n,containerPadding:o,target:r,placement:i,shouldUpdatePosition:s},o=l),c&&(r=t.onExit,i=t.onExiting,s=t.onEnter,l=t.onEntering,e=t.onEntered,o=u.default.createElement(c,{in:t.show,appear:!0,onExit:r,onExiting:i,onExited:this.onHiddenListener,onEnter:s,onEntering:l,onEntered:e},o)),a&&(o=u.default.createElement(p.default,{onRootClose:t.onHide,event:t.rootCloseEvent},o)),u.default.createElement(d.default,{container:n},o)):null},r}(u.default.Component);n.propTypes=o({},d.default.propTypes,f.default.propTypes,{show:i.default.bool,rootClose:i.default.bool,rootCloseEvent:p.default.propTypes.event,onHide:function(e){var t=i.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,o=Array(1<n?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return t.apply(void 0,[e].concat(o))},transition:r.default,onEnter:i.default.func,onEntering:i.default.func,onEntered:i.default.func,onExit:i.default.func,onExiting:i.default.func,onExited:i.default.func}),t.default=n,e.exports=t.default},function(e,t,n){e.exports=n.p+"last.09f1f52d823b4373697199136e1dc87e.png"},function(e,t,n){var o=n(45);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(46),r=Math.min;e.exports=function(e){return 0<e?r(o(e),9007199254740991):0}},function(e,t,n){var o=n(7),r=n(23),i="__core-js_shared__",s=r[i]||(r[i]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(66)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){e.exports=!n(14)&&!n(35)(function(){return 7!=Object.defineProperty(n(70)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(34),r=n(23).document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,t,n){var r=n(34);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e))||"function"==typeof(n=e.valueOf)&&!r(o=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){function o(){}var r=n(24),i=n(112),s=n(68),a=n(47)("IE_PROTO"),l="prototype",c=function(){var e=n(70)("iframe"),t=s.length;for(e.style.display="none",n(113).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;t--;)delete c[l][s[t]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(o[l]=r(e),n=new o,o[l]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=function(e){return(0,r.default)(e.replace(i,"ms-"))},o(n(135))),i=/^-ms-/;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=a(n(8)),r=a(n(1)),i=a(n(37)),s=a(n(0)),l=a(n(4)),c=a(n(39)),u=a(n(17)),n=a(n(143));function a(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}s=function(s){var e=a,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function a(){var e,t=this,n=a;if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=d(this,s.call.apply(s,[this].concat(r)))).getMountNode=function(){return e._portalContainerNode},d(e,e)}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),a.prototype.UNSAFE_componentWillMount=function(){var e;!o.default||(e="function"==typeof(e=this.props.container)?e():e)&&!l.default.findDOMNode(e)||this.setContainer(e)},a.prototype.componentDidMount=function(){this._portalContainerNode?this.props.onRendered&&this.props.onRendered():(this.setContainer(this.props.container),this.forceUpdate(this.props.onRendered))},a.prototype.UNSAFE_componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e.container)},a.prototype.componentWillUnmount=function(){this._portalContainerNode=null},a.prototype.setContainer=function(e){this._portalContainerNode=(0,c.default)(e,(0,u.default)(this).body)},a.prototype.render=function(){return this.props.children&&this._portalContainerNode?l.default.createPortal(this.props.children,this._portalContainerNode):null},a}(s.default.Component);s.displayName="Portal",s.propTypes={container:r.default.oneOfType([i.default,r.default.func]),onRendered:r.default.func},t.default=l.default.createPortal?s:n.default,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o){return(0,r.default)(e,t,n,o),{remove:function(){(0,i.default)(e,t,n,o)}}};var r=o(n(50)),i=o(n(51));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){var l=n(14),c=n(30),u=n(31),d=n(49).f;e.exports=function(a){return function(e){for(var t,n=u(e),o=c(n),r=o.length,i=0,s=[];i<r;)t=o[i++],l&&!d.call(n,t)||s.push(a?[t,n[t]]:n[t]);return s}}},function(e,t,n){"use strict";var o=n(5),i=(t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e),n=(0,s.default)(t),o=t&&t.documentElement,r={top:0,left:0,height:0,width:0};if(t)return r=(0,i.default)(o,e)?{top:(r=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():r).top+(n.pageYOffset||o.scrollTop)-(o.clientTop||0),left:r.left+(n.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:(null==r.width?e.offsetWidth:r.width)||0,height:(null==r.height?e.offsetHeight:r.height)||0}:r},o(n(11))),s=o(n(38)),a=o(n(16));e.exports=t.default},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=function(e,t){var n=(0,r.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t},o(n(38)));e.exports=t.default},function(e,t,n){var o=n(33).f,r=n(22),i=n(15)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";t.decode=t.parse=n(90),t.encode=t.stringify=n(91)},function(e,t){const r="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",i=r.length,s=[...r].reduce((e,t,n)=>(e[t]=n,e),{});t.int_to_base58=t.encode=function(e){let t="";var n,o=e=Number(e);if("number"!=typeof o||isNaN(o)||o<0||o>Number.MAX_SAFE_INTEGER||Math.floor(o)!==o)throw new Error("Value passed is not a non-negative safe integer.");for(;e>=i;)n=e%i,t=r[n]+t,e=Math.floor(e/i);return r[e]+t},t.base58_to_int=t.decode=function(e){if("string"!=typeof e)throw new Error("Value passed is not a string.");return[...e].reverse().reduce((e,t,n)=>{var o=t;if(void 0===s[o])throw new Error("Value passed is not a valid Base58 string.");return e+s[t]*Math.pow(i,n)},0)}},function(e,t,n){"use strict";var c={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},u={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},d=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,g=m&&m(Object);e.exports=function e(t,n,o){if("string"!=typeof n){g&&(r=m(n))&&r!==g&&e(t,r,o);var r,i=f(n);p&&(i=i.concat(p(n)));for(var s=0;s<i.length;++s){var a=i[s];if(!(c[a]||u[a]||o&&o[a])){var l=h(n,a);try{d(t,a,l)}catch(e){}}}}return t}},function(e,t,n){"use strict";function o(e){var t,e=e.Symbol;return"function"==typeof e?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable",t}n.d(t,"a",function(){return o})},function(e,t,n){e.exports=n(103)},function(e,t,n){e.exports=n(110)},function(e,t,n){e.exports=n(151)},function(e,t){e.exports=jQuery},function(e,t,n){e.exports=n(160)},function(e,t,n){"use strict";e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var r={};if("string"==typeof e&&0!==e.length){var i=/\+/g,t=(e=e.split(t),1e3),s=(o&&"number"==typeof o.maxKeys&&(t=o.maxKeys),e.length);0<t&&t<s&&(s=t);for(var a=0;a<s;++a){var l,c=e[a].replace(i,"%20"),u=c.indexOf(n),u=0<=u?(l=c.substr(0,u),c.substr(u+1)):(l=c,""),c=decodeURIComponent(l),u=decodeURIComponent(u);Object.prototype.hasOwnProperty.call(r,c)?d(r[c])?r[c].push(u):r[c]=[r[c],u]:r[c]=u}}return r};var d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function i(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}e.exports=function(n,o,r,e){return o=o||"&",r=r||"=","object"==typeof(n=null===n?void 0:n)?a(l(n),function(e){var t=encodeURIComponent(i(e))+r;return s(n[e])?a(n[e],function(e){return t+encodeURIComponent(i(e))}).join(o):t+encodeURIComponent(i(n[e]))}).join(o):e?encodeURIComponent(i(e))+r+encodeURIComponent(i(n)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var l=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}},function(e,t,n){e.exports=n.p+"back.52a194163fb3681549b172946f84436c.png"},function(e,t,n){e.exports=n.p+"pageup.fd5ea73be5d8be770fc5e5431c12661f.png"},function(e,t,n){e.exports=n.p+"pagedown.434255e8daf3f7b79efbf1cb88d09985.png"},function(e,t,n){e.exports=n.p+"home.85a36d80de73a37f82758db2c2cd975c.png"},function(e,t,n){e.exports=n.p+"end.fd57fcbed5fcd0dfb8494db3b6f24976.png"},function(e,t,n){e.exports=n.p+"prevous.ca4b96bf81195d07ec2d8c18a5ace712.png"},function(e,t,n){e.exports=n.p+"next.c4a3887c393dc417ee54cd602ae411e4.png"},function(e,t,n){e.exports=n.p+"first.40d3094dc0aa361c8a65cea9699eef27.png"},function(e,t,n){e.exports=n.p+"refresh.caa2dd6caebf2067c24fda79c6310f6c.png"},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t,n){n(104),e.exports=n(7).Object.keys},function(e,t,n){var o=n(29),r=n(30);n(108)("keys",function(){return function(e){return r(o(e))}})},function(e,t,n){var s=n(22),a=n(31),l=n(106)(!1),c=n(47)("IE_PROTO");e.exports=function(e,t){var n,o=a(e),r=0,i=[];for(n in o)n!=c&&s(o,n)&&i.push(n);for(;t.length>r;)!s(o,n=t[r++])||~l(i,n)||i.push(n);return i}},function(e,t,n){var l=n(31),c=n(64),u=n(107);e.exports=function(a){return function(e,t,n){var o,r=l(e),i=c(r.length),s=u(n,i);if(a&&t!=t){for(;s<i;)if((o=r[s++])!=o)return!0}else for(;s<i;s++)if((a||s in r)&&r[s]===t)return a||s||0;return!a&&-1}}},function(e,t,n){var o=n(46),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=o(e))<0?r(e+t,0):i(e,t)}},function(e,t,n){var r=n(9),i=n(7),s=n(35);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*s(function(){n(1)}),"Object",o)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){n(111);var o=n(7).Object;e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){var o=n(9);o(o.S,"Object",{create:n(72)})},function(e,t,n){var s=n(33),a=n(24),l=n(30);e.exports=n(14)?Object.defineProperties:function(e,t){a(e);for(var n,o=l(t),r=o.length,i=0;i<r;)s.f(e,n=o[i++],t[n]);return e}},function(e,t,n){n=n(23).document;e.exports=n&&n.documentElement},function(e,t,n){n(115),e.exports=n(7).Object.setPrototypeOf},function(e,t,n){var o=n(9);o(o.S,"Object",{setPrototypeOf:n(116).set})},function(e,t,r){function i(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=r(34),o=r(24);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,o){try{(o=r(48)(Function.call,r(117).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:i}},function(e,t,n){var o=n(49),r=n(36),i=n(31),s=n(71),a=n(22),l=n(69),c=Object.getOwnPropertyDescriptor;t.f=n(14)?c:function(e,t){if(e=i(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(a(e,t))return r(!o.f.call(e,t),e[t])}},function(e,t,n){n(119),e.exports=n(7).Object.assign},function(e,t,n){var o=n(9);o(o.S+o.F,"Object",{assign:n(120)})},function(e,t,n){"use strict";var f=n(14),p=n(30),h=n(121),m=n(49),g=n(29),y=n(63),r=Object.assign;e.exports=!r||n(35)(function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=r({},e)[n]||Object.keys(r({},t)).join("")!=o})?function(e,t){for(var n=g(e),o=arguments.length,r=1,i=h.f,s=m.f;r<o;)for(var a,l=y(arguments[r++]),c=i?p(l).concat(i(l)):p(l),u=c.length,d=0;d<u;)a=c[d++],f&&!s.call(l,a)||(n[a]=l[a]);return n}:r},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var o=n(5),i=(t.__esModule=!0,t.default=function(o,r){return function(e){var t=e.currentTarget,n=e.target;(0,s.default)(t,o).some(function(e){return(0,i.default)(e,n)})&&r.call(this,e)}},o(n(11))),s=o(n(123));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n="#"===t[0],o="."===t[0],r=n||o?t.slice(1):t;if(i.test(r))return n?(e=e.getElementById?e:document,(n=e.getElementById(r))?[n]:[]):e.getElementsByClassName&&o?s(e.getElementsByClassName(r)):s(e.getElementsByTagName(t));return s(e.querySelectorAll(t))};var i=/^[\w-]*$/,s=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=void 0,o(n(8))),i=o(n(50)),s=o(n(51)),o=function(){},n=o=r.default?function(e,t,n,o){return(0,i.default)(e,t,n,o),function(){(0,s.default)(e,t,n,o)}}:o;t.default=n,e.exports=t.default},function(e,t,n){"use strict";var s=n(126);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,i){if(i!==s)throw(i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",i}function t(){return e}var n={array:e.isRequired=e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=n(128),d=(n=n)&&n.__esModule?n:{default:n};var f={};function o(c,u){return function(e,t,n,o,r){var i;null!=e[t]&&((0,d.default)(f[i=n+"."+t],"The "+o+" `"+(r||t)+"` of `"+(n||"<<anonymous>>")+"` is deprecated. "+u+"."),f[i]=!0);for(var s=arguments.length,a=Array(5<s?s-5:0),l=5;l<s;l++)a[l-5]=arguments[l];return c.apply(void 0,[e,t,n,o,r].concat(a))}}o._resetWarned=function(){f={}},e.exports=t.default},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){"use strict";e.exports=n(130)},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o="function"==typeof Symbol&&Symbol.for,r=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,a=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,u=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,f=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.suspense_list"):60120,g=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116,b=o?Symbol.for("react.block"):60121,v=o?Symbol.for("react.fundamental"):60117,w=o?Symbol.for("react.responder"):60118,x=o?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case f:case s:case l:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case y:case g:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=s,t.Lazy=y,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||_(e)===d},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===f||e===l||e===a||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===w||e.$$typeof===x||e.$$typeof===b)},t.typeOf=_},function(e,t,n){"use strict";t.__esModule=!0;var d=o(n(132)),s=o(n(52)),a=o(n(40)),l=o(n(55)),f=n(142);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(){var u=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.hideSiblingNodes,n=void 0===n||n,t=t.handleContainerOverflow,t=void 0===t||t,o=this,r=e;if(!(o instanceof r))throw new TypeError("Cannot call a class as a function");this.add=function(e,t,n){var o,r=u.modals.indexOf(e),i=u.containers.indexOf(t);return-1===r&&(r=u.modals.length,u.modals.push(e),u.hideSiblingNodes&&(0,f.hideSiblings)(t,e.modalNode),-1!==i?u.data[i].modals.push(e):(i={modals:[e],classes:n?n.split(/\s+/):[],overflowing:(0,l.default)(t)},u.handleContainerOverflow&&(e=t,n={overflow:"hidden"},(o=i).style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},o.overflowing&&(n.paddingRight=parseInt((0,s.default)(e,"paddingRight")||0,10)+(0,a.default)()+"px"),(0,s.default)(e,n)),i.classes.forEach(d.default.addClass.bind(null,t)),u.containers.push(t),u.data.push(i))),r},this.remove=function(e){var t,n,o,r,i,s,a,l,c=u.modals.indexOf(e);-1!==c&&(t=u.data,n=e,o=function(e){return-1!==e.modals.indexOf(n)},r=-1,t.some(function(e,t){if(o(e,t))return r=t,!0}),t=r,i=u.data[t],s=u.containers[t],i.modals.splice(i.modals.indexOf(e),1),u.modals.splice(c,1),0===i.modals.length?(i.classes.forEach(d.default.removeClass.bind(null,s)),u.handleContainerOverflow&&(a=s,l=i.style,Object.keys(l).forEach(function(e){return a.style[e]=l[e]})),u.hideSiblingNodes&&(0,f.showSiblings)(s,e.modalNode),u.containers.splice(t,1),u.data.splice(t,1)):u.hideSiblingNodes&&(0,f.ariaHidden)(!1,i.modals[i.modals.length-1].modalNode))},this.isTopModal=function(e){return!!u.modals.length&&u.modals[u.modals.length-1]===e},this.hideSiblingNodes=n,this.handleContainerOverflow=t,this.modals=[],this.containers=[],this.data=[]},e.exports=t.default},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=void 0,o(n(133))),i=(t.addClass=r.default,o(n(134))),o=(t.removeClass=i.default,o(n(73))),n=(t.hasClass=o.default,{addClass:r.default,removeClass:i.default,hasClass:o.default});t.default=n},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))},o(n(73)));e.exports=t.default},function(e,t,n){"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(o,function(e,t){return t.toUpperCase()})};var o=/-(.)/g;e.exports=t.default},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=function(e){return(0,r.default)(e).replace(i,"-ms-")},o(n(137))),i=/^ms-/;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(o,"-$1").toLowerCase()};var o=/([A-Z])/g;e.exports=t.default},function(e,t,n){"use strict";var o=n(5),a=(t.__esModule=!0,t.default=function(s){var e;if(s)return"defaultView"in(e=s.ownerDocument)?(e.defaultView.opener?s.ownerDocument.defaultView:window).getComputedStyle(s,null):{getPropertyValue:function(e){var t,n,o,r=s.style,i=(e=(0,a.default)(e),s.currentStyle[e="float"==e?"styleFloat":e]||null);return null==i&&r&&r[e]&&(i=r[e]),c.test(i)&&!l.test(e)&&(t=r.left,(o=(n=s.runtimeStyle)&&n.left)&&(n.left=s.currentStyle.left),r.left="fontSize"===e?"1em":i,i=r.pixelLeft+"px",r.left=t,o)&&(n.left=o),i}};throw new TypeError("No Element passed to `getComputedStyle()`")},o(n(74))),l=/^(top|right|bottom|left)$/,c=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},function(e,t,n){"use strict";var o,r,i,s,a,l,c=n(5),c=(t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0,c(n(8))),n="transform",c=(t.transform=n,t.animationEnd=void 0,t.transitionEnd=o,t.transitionDelay=a,t.transitionTiming=s,t.transitionDuration=i,t.transitionProperty=r,t.animationDelay=void 0,t.animationTiming=void 0,t.animationDuration=void 0,t.animationName=void 0,c.default&&(l=(c=function(){for(var e,t,n=document.createElement("div").style,o={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},r=Object.keys(o),i="",s=0;s<r.length;s++){var a=r[s];if(a+"TransitionProperty"in n){i="-"+a.toLowerCase(),e=o[a]("TransitionEnd"),t=o[a]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:i}}()).prefix,t.transitionEnd=o=c.transitionEnd,t.animationEnd=c.animationEnd,t.transform=n=l+"-"+n,t.transitionProperty=r=l+"-transition-property",t.transitionDuration=i=l+"-transition-duration",t.transitionDelay=a=l+"-transition-delay",t.transitionTiming=s=l+"-transition-timing-function",t.animationName=l+"-animation-name",t.animationDuration=l+"-animation-duration",t.animationTiming=l+"-animation-delay",t.animationDelay=l+"-animation-timing-function"),{transform:n,end:o,property:r,timing:s,delay:a,duration:i});t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!o.test(e))};var o=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.ariaHidden=r,t.hideSiblings=function(e,t){o(e,t,function(e){return r(!0,e)})},t.showSiblings=function(e,t){o(e,t,function(e){return r(!1,e)})};var i=["template","script","style"],o=function(e,o,r){o=[].concat(o),[].forEach.call(e.children,function(e){var t,n;-1===o.indexOf(e)&&(n=(t=e).nodeType,t=e.tagName,1===n)&&-1===i.indexOf(t.toLowerCase())&&r(e)})};function r(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(1)),r=i(n(37)),l=i(n(0)),c=i(n(4)),u=i(n(39)),d=i(n(17));function i(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}n=function(s){var e=a,t=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function a(){var n,e=this,t=a;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=n=f(this,s.call.apply(s,[this].concat(r))))._mountOverlayTarget=function(){n._overlayTarget||(n._overlayTarget=document.createElement("div"),n._portalContainerNode=(0,u.default)(n.props.container,(0,d.default)(n).body),n._portalContainerNode.appendChild(n._overlayTarget))},n._unmountOverlayTarget=function(){n._overlayTarget&&(n._portalContainerNode.removeChild(n._overlayTarget),n._overlayTarget=null),n._portalContainerNode=null},n._renderOverlay=function(){var e,t=n.props.children?l.default.Children.only(n.props.children):null;null!==t?(n._mountOverlayTarget(),e=!n._overlayInstance,n._overlayInstance=c.default.unstable_renderSubtreeIntoContainer(n,t,n._overlayTarget,function(){e&&n.props.onRendered&&n.props.onRendered()})):(n._unrenderOverlay(),n._unmountOverlayTarget())},n._unrenderOverlay=function(){n._overlayTarget&&(c.default.unmountComponentAtNode(n._overlayTarget),n._overlayInstance=null)},n.getMountNode=function(){return n._overlayTarget},f(n,e)}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),a.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},a.prototype.componentDidUpdate=function(){this._renderOverlay()},a.prototype.UNSAFE_componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,u.default)(e.container,(0,d.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},a.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},a.prototype.render=function(){return null},a}(l.default.Component);n.displayName="Portal",n.propTypes={container:o.default.oneOfType([r.default,o.default.func]),onRendered:o.default.func},t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(1)),n=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}o={children:o.default.node},n=function(n){var e=o,t=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function o(){var e=this,t=o;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=n.apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),o.prototype.render=function(){return this.props.children},o}(n.default.Component);n.propTypes=o,t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=!document.addEventListener,n=void 0;n=t?(document.attachEvent("onfocusin",e),function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),function(){return document.removeEventListener("focus",e,!0)});return{remove:n}},e.exports=t.default},function(e,t,n){n(147),e.exports=n(7).Object.entries},function(e,t,n){var o=n(9),r=n(77)(!0);o(o.S,"Object",{entries:function(e){return r(e)}})},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;(n=n(1))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){n(150),e.exports=n(7).Object.values},function(e,t,n){var o=n(9),r=n(77)(!1);o(o.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){n(152),e.exports=n(7).Array.isArray},function(e,t,n){var o=n(9);o(o.S,"Array",{isArray:n(153)})},function(e,t,n){var o=n(45);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){"use strict";t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a=p(n(2)),o=p(n(1)),r=p(n(37)),l=n(0),c=p(l),i=p(n(4)),u=p(n(155)),d=p(n(39)),f=p(n(17));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n,o={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}n=function(o){var e=r,t=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function r(e,t){var n;if(this instanceof r)return(n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this,e,t))).getTarget=function(){var e=n.props.target,e="function"==typeof e?e():e;return e&&i.default.findDOMNode(e)||null},n.maybeUpdatePosition=function(e){var t=n.getTarget();(n.props.shouldUpdatePosition||t!==n._lastTarget||e)&&n.updatePosition(t)},n.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},n._needsFlush=!1,n._lastTarget=null,n;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},r.prototype.UNSAFE_componentWillReceiveProps=function(){this._needsFlush=!0},r.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},r.prototype.render=function(){var e=this.props,t=e.children,n=e.className,e=h(e,["children","className"]),o=this.state,r=o.positionLeft,i=o.positionTop,o=h(o,["positionLeft","positionTop"]),t=(delete e.target,delete e.container,delete e.containerPadding,delete e.shouldUpdatePosition,c.default.Children.only(t));return(0,l.cloneElement)(t,s({},e,o,{positionLeft:r,positionTop:i,className:(0,a.default)(n,t.props.className),style:s({},t.props.style,{left:r,top:i})}))},r.prototype.updatePosition=function(e){var t,n;(this._lastTarget=e)?(t=i.default.findDOMNode(this),n=(0,d.default)(this.props.container,(0,f.default)(this).body),this.setState((0,u.default)(this.props.placement,t,e,n,this.props.containerPadding))):this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},r}(c.default.Component);n.propTypes={target:o.default.oneOfType([r.default,o.default.func]),container:o.default.oneOfType([r.default,o.default.func]),containerPadding:o.default.number,placement:o.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:o.default.bool},n.displayName="Position",n.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o,r){var n="BODY"===o.tagName?(0,d.default)(n):(0,f.default)(n,o),t=(0,d.default)(t),i=t.height,t=t.width,s=void 0,a=void 0,l=void 0,c=void 0;if("left"===e||"right"===e){a=n.top+(n.height-i)/2,s="left"===e?n.left-t:n.left+n.width;var u=function(e,t,n,o){var n=p(n),r=n.scroll,n=n.height,i=e-o-r,e=e+o-r+t;return i<0?-i:n<e?n-e:0}(a,i,o,r);a+=u,c=50*(1-2*u/i)+"%",l=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');s=n.left+(n.width-t)/2,a="top"===e?n.top-i:n.top+n.height;u=function(e,t,n,o){var n=p(n).width,r=e-o,e=e+o+t;{if(r<0)return-r;if(n<e)return n-e}return 0}(s,t,o,r);s+=u,l=50*(1-2*u/t)+"%",c=void 0}return{positionLeft:s,positionTop:a,arrowOffsetLeft:l,arrowOffsetTop:c}};var d=o(n(78)),f=o(n(156)),i=o(n(79)),s=o(n(17));function o(e){return e&&e.__esModule?e:{default:e}}function p(e){var t,n=void 0,o=void 0,r=void 0;return r="BODY"===e.tagName?(n=window.innerWidth,o=window.innerHeight,(0,i.default)((0,s.default)(e).documentElement)||(0,i.default)(e)):(n=(t=(0,d.default)(e)).width,o=t.height,(0,i.default)(e)),{width:n,height:o,scroll:r}}e.exports=t.default},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=function(e,t){var n,o={top:0,left:0};"fixed"===(0,c.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,s.default)(e),n=(0,i.default)(e),(o="html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)?(0,i.default)(t):o).top+=parseInt((0,c.default)(t,"borderTopWidth"),10)-(0,a.default)(t)||0,o.left+=parseInt((0,c.default)(t,"borderLeftWidth"),10)-(0,l.default)(t)||0);return(0,r.default)({},n,{top:n.top-o.top-(parseInt((0,c.default)(e,"marginTop"),10)||0),left:n.left-o.left-(parseInt((0,c.default)(e,"marginLeft"),10)||0)})},o(n(157))),i=o(n(78)),s=o(n(158)),a=o(n(79)),l=o(n(159)),c=o(n(52));e.exports=t.default},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=function(e){var t=(0,r.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(e)&&"static"===(0,i.default)(n,"position");)n=n.offsetParent;return n||t.documentElement},o(n(16))),i=o(n(52));e.exports=t.default},function(e,t,n){"use strict";var o=n(5),r=(t.__esModule=!0,t.default=function(e,t){var n=(0,r.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t},o(n(38)));e.exports=t.default},function(e,t,n){n(161),n(167),e.exports=n(7).Array.from},function(e,t,n){"use strict";var o=n(162)(!0);n(163)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(e=o(e,t),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var i=n(46),s=n(44);e.exports=function(r){return function(e,t){var n,e=String(s(e)),t=i(t),o=e.length;return t<0||o<=t?r?"":void 0:(n=e.charCodeAt(t))<55296||56319<n||t+1===o||(o=e.charCodeAt(t+1))<56320||57343<o?r?e.charAt(t):n:r?e.slice(t,t+2):o-56320+(n-55296<<10)+65536}}},function(e,t,n){"use strict";function y(){return this}var b=n(66),v=n(9),w=n(164),x=n(32),_=n(53),E=n(165),C=n(80),S=n(166),k=n(15)("iterator"),O=!([].keys&&"next"in[].keys()),T="values";e.exports=function(e,t,n,o,r,i,s){E(n,t,o);function a(e){if(!O&&e in f)return f[e];switch(e){case"keys":case T:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var l,c,o=t+" Iterator",u=r==T,d=!1,f=e.prototype,p=f[k]||f["@@iterator"]||r&&f[r],h=p||a(r),m=r?u?a("entries"):h:void 0,g="Array"==t&&f.entries||p;if(g&&(g=S(g.call(new e)))!==Object.prototype&&g.next&&(C(g,o,!0),b||"function"==typeof g[k]||x(g,k,y)),u&&p&&p.name!==T&&(d=!0,h=function(){return p.call(this)}),b&&!s||!O&&!d&&f[k]||x(f,k,h),_[t]=h,_[o]=y,r)if(l={values:u?h:a(T),keys:i?h:a("keys"),entries:m},s)for(c in l)c in f||w(f,c,l[c]);else v(v.P+v.F*(O||d),t,l);return l}},function(e,t,n){e.exports=n(32)},function(e,t,n){"use strict";var o=n(72),r=n(36),i=n(80),s={};n(32)(s,n(15)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(s,{next:r(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var o=n(22),r=n(29),i=n(47)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";var d=n(48),o=n(9),f=n(29),p=n(168),h=n(169),m=n(64),g=n(170),y=n(171);o(o.S+o.F*!n(173)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,r,i=f(e),e="function"==typeof this?this:Array,s=arguments.length,a=1<s?arguments[1]:void 0,l=void 0!==a,c=0,u=y(i);if(l&&(a=d(a,2<s?arguments[2]:void 0,2)),null==u||e==Array&&h(u))for(n=new e(t=m(i.length));c<t;c++)g(n,c,l?a(i[c],c):i[c]);else for(r=u.call(i),n=new e;!(o=r.next()).done;c++)g(n,c,l?p(r,a,[o.value,c],!0):o.value);return n.length=c,n}})},function(e,t,n){var r=n(24);e.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(e,t,n){var o=n(53),r=n(15)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[r]===e)}},function(e,t,n){"use strict";var o=n(33),r=n(36);e.exports=function(e,t,n){t in e?o.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var o=n(172),r=n(15)("iterator"),i=n(53);e.exports=n(7).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||i[o(e)]}},function(e,t,n){var o=n(45),r=n(15)("toStringTag"),i="Arguments"==o(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),r))?t:i?o(e):"Object"==(t=o(e))&&"function"==typeof e.callee?"Arguments":t}},function(e,t,n){var i=n(15)("iterator"),s=!1;try{var o=[7][i]();o.return=function(){s=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var n=!1;try{var o=[7],r=o[i]();r.next=function(){return{done:n=!0}},o[i]=function(){return r},e(o)}catch(e){}return n}},function(e,t,n){e.exports=n.p+"b2u_table.932252b52e06db03f45c541637a521db.bin"},function(e,t,n){e.exports=n.p+"u2b_table.72de16ec54ed44cbac9c04e680ba3a73.bin"},function(L,e,o){"use strict";function Q(){return(Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};for(var n,o={},r=Object.keys(e),i=0;i<r.length;i++)n=r[i],0<=t.indexOf(n)||(o[n]=e[n]);return o}function A(e){return e&&e.ownerDocument||document}function J(t){void 0===t&&(t=A());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(e){return t.body}}function ee(e,t){return e.contains?e.contains(t):e.compareDocumentPosition&&(e===t||16&e.compareDocumentPosition(t))}o.r(e);var te=!("undefined"==typeof window||!window.document||!window.document.createElement),B=!1,F=!1;try{var t={get passive(){return B=!0},get once(){return F=B=!0}};te&&(window.addEventListener("test",t,t),window.removeEventListener("test",t,!0))}catch(e){}var I=function(e,n,o,t){var r,i,s;t&&"boolean"!=typeof t&&!F&&(r=t.once,i=t.capture,s=o,!F&&r&&(s=o.__once||function e(t){this.removeEventListener(n,e,i),o.call(this,t)},o.__once=s),e.addEventListener(n,s,B?t:i)),e.addEventListener(n,o,t)};var H=function(e,t,n,o){o=o&&"boolean"!=typeof o?o.capture:o,e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};var ne=function(e,t,n,o){return I(e,t,n,o),function(){H(e,t,n,o)}},e=o(1),s=o.n(e),Y=o(0),V=o.n(Y),t=o(4),oe=o.n(t);function re(e){e=e,(t=Object(Y.useRef)(e)).current=e;var t,n=t;Object(Y.useEffect)(function(){return function(){return n.current()}},[])}var j=function(e){var t=Object(Y.useRef)(e);return Object(Y.useEffect)(function(){t.current=e},[e]),t};function ie(e){var t=j(e);return Object(Y.useCallback)(function(){return t.current&&t.current.apply(t,arguments)},[t])}function U(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function W(e,t){return((n=A(n=e))&&n.defaultView||window).getComputedStyle(e,t);var n}var K=/([A-Z])/g;var z=/^ms-/;function q(e){return e.replace(K,"-$1").toLowerCase().replace(z,"-ms-")}var G=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var X,se=function(o,r){var i="",s="";if("string"==typeof r)return o.style.getPropertyValue(q(r))||W(o).getPropertyValue(q(r));Object.keys(r).forEach(function(e){var t,n=r[e];n||0===n?(t=e)&&G.test(t)?s+=e+"("+n+") ":i+=q(e)+": "+n+";":o.style.removeProperty(q(e))}),s&&(i+="transform: "+s+";"),o.style.cssText+=";"+i};function ae(e){var t;return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1}function le(e){var t,n;return ae(e)||(n=e)&&"body"===n.tagName.toLowerCase()?(t=ae(n=e)?A():A(n),n=ae(n)||t.defaultView,t.body.clientWidth<n.innerWidth):e.scrollHeight>e.clientHeight}function ce(e,t,n){[].forEach.call(e.children,function(e){-1===t.indexOf(e)&&de(e)&&n(e)})}var ue=["template","script","style"],de=function(e){var t=e.nodeType,e=e.tagName;return 1===t&&-1===ue.indexOf(e.toLowerCase())};function fe(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function pe(e){return"undefined"==typeof document?null:null==e?A().body:null!=(e=(e="function"==typeof e?e():e)&&"current"in e?e.current:e)&&e.nodeType&&e||null}var he,me=function(){function e(e){var t,e=void 0===e?{}:e,n=e.hideSiblingNodes,n=void 0===n||n,e=e.handleContainerOverflow,e=void 0===e||e;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=n,this.handleContainerOverflow=e,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=((!X&&0!==X||t)&&te&&((t=document.createElement("div")).style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),X=t.offsetWidth-t.clientWidth,document.body.removeChild(t)),X)}var t=e.prototype;return t.isContainerOverflowing=function(e){e=this.data[this.containerIndexFromModal(e)];return e&&e.overflowing},t.containerIndexFromModal=function(t){return e=this.data,n=function(e){return-1!==e.modals.indexOf(t)},o=-1,e.some(function(e,t){return!!n(e,t)&&(o=t,!0)}),o;var e,n,o},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(se(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),se(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var o,r,i=this.modals.indexOf(e),s=this.containers.indexOf(t);return-1===i&&(i=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&(r=(o=e).dialog,o=e.backdrop,ce(t,[r,o],function(e){fe(!0,e)})),-1!==s?this.data[s].modals.push(e):(r={modals:[e],classes:n?n.split(/\s+/):[],overflowing:le(t)},this.handleContainerOverflow&&this.setContainerStyle(r,t),r.classes.forEach(function(e,t){var n,o;e.classList?e.classList.add(t):(o=t,((n=e).classList?o&&n.classList.contains(o):-1!==(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+o+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t)))}.bind(null,t)),this.containers.push(t),this.data.push(r))),i},t.remove=function(e){var t,n,o,r,i=this.modals.indexOf(e);-1!==i&&(t=this.containerIndexFromModal(e),n=this.data[t],o=this.containers[t],n.modals.splice(n.modals.indexOf(e),1),this.modals.splice(i,1),0===n.modals.length?(n.classes.forEach(function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=U(e.className,t):e.setAttribute("class",U(e.className&&e.className.baseVal||"",t))}.bind(null,o)),this.handleContainerOverflow&&this.removeContainerStyle(n,o),this.hideSiblingNodes&&(r=(i=e).dialog,i=e.backdrop,ce(o,[r,i],function(e){fe(!1,e)})),this.containers.splice(t,1),this.data.splice(t,1)):this.hideSiblingNodes&&(o=(e=n.modals[n.modals.length-1]).backdrop,fe(!1,e.dialog),fe(!1,o)))},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}();function ge(e){var n=e||(he=he||new me),o=Object(Y.useRef)({dialog:null,backdrop:null});return Object.assign(o.current,{add:function(e,t){return n.add(o.current,e,t)},remove:function(){return n.remove(o.current)},isTopModal:function(){return n.isTopModal(o.current)},setDialogRef:Object(Y.useCallback)(function(e){o.current.dialog=e},[]),setBackdropRef:Object(Y.useCallback)(function(e){o.current.backdrop=e},[])})}var e=Object(Y.forwardRef)(function(e,t){var n,o,r,i,s,a,l,c=e.show,u=void 0!==c&&c,c=e.role,c=void 0===c?"dialog":c,d=e.className,f=e.style,p=e.children,h=e.backdrop,m=void 0===h||h,h=e.keyboard,g=void 0===h||h,y=e.onBackdropClick,b=e.onEscapeKeyDown,h=e.transition,B=e.backdropTransition,v=e.autoFocus,F=void 0===v||v,v=e.enforceFocus,I=void 0===v||v,v=e.restoreFocus,H=void 0===v||v,j=e.restoreFocusOptions,v=e.renderDialog,w=e.renderBackdrop,w=void 0===w?function(e){return V.a.createElement("div",e)}:w,x=e.manager,_=e.container,U=e.containerClassName,E=e.onShow,C=e.onHide,S=void 0===C?function(){}:C,C=e.onExit,k=e.onExited,W=e.onExiting,K=e.onEnter,z=e.onEntering,$=e.onEntered,e=Z(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),O=(n=_,_=Object(Y.useState)(function(){return pe(n)}),r=_[0],i=_[1],r||(_=pe(n))&&i(_),Object(Y.useEffect)(function(){o&&r&&o(r)},[o,r]),Object(Y.useEffect)(function(){var e=pe(n);e!==r&&i(e)},[n,r]),r),T=ge(x),q=(s=Object(Y.useRef)(!0),_=Object(Y.useRef)(function(){return s.current}),Object(Y.useEffect)(function(){return s.current=!0,function(){s.current=!1}},[]),_.current),x=(a=u,l=Object(Y.useRef)(null),Object(Y.useEffect)(function(){l.current=a}),l.current),_=Object(Y.useState)(!u),P=_[0],M=_[1],R=Object(Y.useRef)(null),N=(Object(Y.useImperativeHandle)(t,function(){return T},[T]),te&&!x&&u&&(R.current=J()),h||u||P?u&&P&&M(!1):M(!0),ie(function(){var e;T.add(O,U),A.current=ne(document,"keydown",X),L.current=ne(document,"focus",function(){return setTimeout(G)},!0),E&&E(),F&&(e=J(document),T.dialog)&&e&&!ee(T.dialog,e)&&(R.current=e,T.dialog.focus())})),D=ie(function(){var e;T.remove(),null!=A.current&&A.current(),null!=L.current&&L.current(),H&&(null!=(e=R.current)&&null!=e.focus&&e.focus(j),R.current=null)}),G=(Object(Y.useEffect)(function(){u&&O&&N()},[u,O,N]),Object(Y.useEffect)(function(){P&&D()},[P,D]),re(function(){D()}),ie(function(){var e;I&&q()&&T.isTopModal()&&(e=J(),T.dialog)&&e&&!ee(T.dialog,e)&&T.dialog.focus()})),_=ie(function(e){e.target===e.currentTarget&&(null!=y&&y(e),!0===m)&&S()}),X=ie(function(e){g&&27===e.keyCode&&T.isTopModal()&&(null!=b&&b(e),e.defaultPrevented||S())}),L=Object(Y.useRef)(),A=Object(Y.useRef)(),t=h;return O&&(u||t&&!P)?(x=Q({role:c,ref:T.setDialogRef,"aria-modal":"dialog"===c||void 0},e,{style:f,className:d,tabIndex:-1}),h=v?v(x):V.a.createElement("div",x,V.a.cloneElement(p,{role:"document"})),t&&(h=V.a.createElement(t,{appear:!0,unmountOnExit:!0,in:!!u,onExit:C,onExiting:W,onExited:function(){M(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null!=k&&k.apply(void 0,t)},onEnter:K,onEntering:z,onEntered:$},h)),c=null,m&&(e=B,c=w({ref:T.setBackdropRef,onClick:_}),e)&&(c=V.a.createElement(e,{appear:!0,in:!!u},c)),V.a.createElement(V.a.Fragment,null,oe.a.createPortal(V.a.createElement(V.a.Fragment,null,c,h),O))):null}),t={show:s.a.bool,container:s.a.any,onShow:s.a.func,onHide:s.a.func,backdrop:s.a.oneOfType([s.a.bool,s.a.oneOf(["static"])]),renderDialog:s.a.func,renderBackdrop:s.a.func,onEscapeKeyDown:s.a.func,onBackdropClick:s.a.func,containerClassName:s.a.string,keyboard:s.a.bool,transition:s.a.elementType,backdropTransition:s.a.elementType,autoFocus:s.a.bool,enforceFocus:s.a.bool,restoreFocus:s.a.bool,restoreFocusOptions:s.a.shape({preventScroll:s.a.bool}),onEnter:s.a.func,onEntering:s.a.func,onEntered:s.a.func,onExit:s.a.func,onExiting:s.a.func,onExited:s.a.func,manager:s.a.instanceOf(me)},ye=(e.displayName="Modal",e.propTypes=t,Object.assign(e,{Manager:me})),t=o(59),be=o.n(t);function b(){return(b=be.a?be.a.bind():function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var e=o(85),ve=o.n(e);function v(e,t){if(null==e)return{};for(var n,o={},r=ve()(e),i=0;i<r.length;i++)n=r[i],0<=t.indexOf(n)||(o[n]=e[n]);return o}var t=o(86),we=o.n(t),e=o(58),xe=o.n(e);function _e(e,t){return(_e=xe.a?xe.a.bind():function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){e.prototype=we()(t.prototype),_e(e.prototype.constructor=e,t)}var t=o(2),k=o.n(t),e=o(43),Ee=o.n(e),t={in:s.a.bool,mountOnEnter:s.a.bool,unmountOnExit:s.a.bool,appear:s.a.bool,timeout:s.a.number,onEnter:s.a.func,onEntering:s.a.func,onEntered:s.a.func,onExit:s.a.func,onExiting:s.a.func,onExited:s.a.func},Ce=((n={})[e.ENTERING]="in",n[e.ENTERED]="in",n),e=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,n=e.className,o=e.children,e=v(e,["className","children"]);return V.a.createElement(Ee.a,e,function(e,t){return V.a.cloneElement(o,b({},t,{className:k()("fade",n,o.props.className,Ce[e])}))})},t}(V.a.Component),Se=(e.propTypes=t,e.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},e);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var n=o(60),ke=o.n(n),t=o(16),Oe=o.n(t),e=o(8),Te=o.n(e),n=o(40),Pe=o.n(n),t=o(21),Me=o.n(t),e=o(55),Re=o.n(e),n=o(3),t=o.n(n),e=o(27),Ne=o.n(e),n=o(25),De=o.n(n),e="large",n="small",Le="xsmall",Ae={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},Be=["lg","md","sm","xs"],Fe={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},Ie="default",He="primary",a="link";function je(o){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"function"==typeof t[t.length-1]?o.apply(void 0,t):function(e){return o.apply(void 0,t.concat([e]))}}}function w(e,t){e=(e.bsClass||"").trim();return null==e&&De()(!1),e+(t?"-"+t:"")}var l=je(function(e,t){var n=t.propTypes||(t.propTypes={}),o=t.defaultProps||(t.defaultProps={});return n.bsClass=s.a.string,o.bsClass=e,t}),Ue=je(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var o=n.STYLES||[],r=n.propTypes||{},e=(e.forEach(function(e){-1===o.indexOf(e)&&o.push(e)}),s.a.oneOf(o));return n.STYLES=o,e._values=o,n.propTypes=b({},r,{bsStyle:e}),void 0!==t&&((n.defaultProps||(n.defaultProps={})).bsStyle=t),n}),We=je(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var o=n.SIZES||[],r=n.propTypes||{},i=(e.forEach(function(e){-1===o.indexOf(e)&&o.push(e)}),[]),e=(o.forEach(function(e){var t=Ae[e];t&&t!==e&&i.push(t),i.push(e)}),s.a.oneOf(i));return e._values=i,n.SIZES=o,n.propTypes=b({},r,{bsSize:e}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n});function x(e){(t={})[w(e)]=!0;var t;return e.bsSize&&(t[w(e,Ae[e.bsSize]||e.bsSize)]=!0),e.bsStyle&&(t[w(e,e.bsStyle)]=!0),t}function Ke(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function ze(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}function _(e){var n={};return Ne()(e).forEach(function(e){var t=e[0],e=e[1];ze(t)||(n[t]=e)}),[Ke(e),n]}function $e(e,t){var n={},o=(t.forEach(function(e){n[e]=!0}),{});return Ne()(e).forEach(function(e){var t=e[0],e=e[1];ze(t)||n[t]||(o[t]=e)}),[Ke(e),o]}var c={componentClass:t.a},u=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,e=_(v(e,["componentClass","className"])),o=e[0],e=e[1],o=x(o);return V.a.createElement(t,b({},e,{className:k()(n,o)}))},t}(V.a.Component),c=(u.propTypes=c,u.defaultProps={componentClass:"div"},l("modal-body",u)),u={dialogClassName:s.a.string},d=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.dialogClassName,n=e.className,o=e.style,r=e.children,i=e.onMouseDownDialog,e=_(v(e,["dialogClassName","className","style","children","onMouseDownDialog"])),s=e[0],e=e[1],a=w(s),o=b({display:"block"},o),l=b({},x(s),((l={})[a]=!1,l[w(s,"dialog")]=!0,l));return V.a.createElement("div",b({},e,{tabIndex:"-1",role:"dialog",style:o,className:k()(n,a)}),V.a.createElement("div",{className:k()(t,l),onMouseDown:i},V.a.createElement("div",{className:w(s,"content"),role:"document"},r)))},t}(V.a.Component),u=(d.propTypes=u,l("modal",We([e,n],d))),d={componentClass:t.a},f=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,e=_(v(e,["componentClass","className"])),o=e[0],e=e[1],o=x(o);return V.a.createElement(t,b({},e,{className:k()(n,o)}))},t}(V.a.Component),d=(f.propTypes=d,f.defaultProps={componentClass:"div"},l("modal-footer",f));var E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(o,r){if("function"!=typeof r)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===o?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.apply(this,t),r.apply(this,t)}},null)},f={label:s.a.string.isRequired,onClick:s.a.func},p=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.label,e=e.onClick;return V.a.createElement("button",{type:"button",className:"close",onClick:e},V.a.createElement("span",{"aria-hidden":"true"},"×"),V.a.createElement("span",{className:"sr-only"},t))},t}(V.a.Component),qe=(p.propTypes=f,p.defaultProps={label:"Close"},p),f={closeLabel:s.a.string,closeButton:s.a.bool,onHide:s.a.func},p={$bs_modal:s.a.shape({onHide:s.a.func})},h=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.closeLabel,n=e.closeButton,o=e.onHide,r=e.className,i=e.children,e=v(e,["closeLabel","closeButton","onHide","className","children"]),s=this.context.$bs_modal,e=_(e),a=e[0],e=e[1],a=x(a);return V.a.createElement("div",b({},e,{className:k()(r,a)}),n&&V.a.createElement(qe,{label:t,onClick:E(s&&s.onHide,o)}),i)},t}(V.a.Component),f=(h.propTypes=f,h.defaultProps={closeLabel:"Close",closeButton:!1},h.contextTypes=p,l("modal-header",h)),p={componentClass:t.a},h=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,e=_(v(e,["componentClass","className"])),o=e[0],e=e[1],o=x(o);return V.a.createElement(t,b({},e,{className:k()(n,o)}))},t}(V.a.Component),p=(h.propTypes=p,h.defaultProps={componentClass:"h4"},l("modal-title",h));function Ge(e,t){var n=t.propTypes,o={},r={};return Ne()(e).forEach(function(e){var t=e[0],e=e[1];n[t]?o[t]=e:r[t]=e}),[o,r]}var h=b({},Me.a.propTypes,u.propTypes,{backdrop:s.a.oneOf(["static",!0,!1]),backdropClassName:s.a.string,keyboard:s.a.bool,animation:s.a.bool,dialogComponentClass:t.a,autoFocus:s.a.bool,enforceFocus:s.a.bool,restoreFocus:s.a.bool,show:s.a.bool,onHide:s.a.func,onEnter:s.a.func,onEntering:s.a.func,onEntered:s.a.func,onExit:s.a.func,onExiting:s.a.func,onExited:s.a.func,container:Me.a.propTypes.container}),m=b({},Me.a.defaultProps,{animation:!0,dialogComponentClass:u}),g={$bs_modal:s.a.shape({onHide:s.a.func})};function Xe(e){return V.a.createElement(Se,b({},e,{timeout:Ve.TRANSITION_DURATION}))}function Ye(e){return V.a.createElement(Se,b({},e,{timeout:Ve.BACKDROP_TRANSITION_DURATION}))}var Ve=function(o){function e(e,t){var n=o.call(this,e,t)||this;return n.handleDialogBackdropMouseDown=function(){n._waitingForMouseUp=!0},n.handleMouseUp=function(e){var t=n._modal.getDialogElement();n._waitingForMouseUp&&e.target===t&&(n._ignoreBackdropClick=!0),n._waitingForMouseUp=!1},n.handleEntering=n.handleEntering.bind(i(i(n))),n.handleExited=n.handleExited.bind(i(i(n))),n.handleWindowResize=n.handleWindowResize.bind(i(i(n))),n.handleDialogClick=n.handleDialogClick.bind(i(i(n))),n.setModalRef=n.setModalRef.bind(i(i(n))),n.state={style:{}},n}r(e,o);var t=e.prototype;return t.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},t.componentWillUnmount=function(){this.handleExited()},t.setModalRef=function(e){this._modal=e},t.handleDialogClick=function(e){this._ignoreBackdropClick||e.target!==e.currentTarget?this._ignoreBackdropClick=!1:this.props.onHide()},t.handleEntering=function(){ke.a.on(window,"resize",this.handleWindowResize),this.updateStyle()},t.handleExited=function(){ke.a.off(window,"resize",this.handleWindowResize)},t.handleWindowResize=function(){this.updateStyle()},t.updateStyle=function(){var e,t,n;Te.a&&(n=(e=this._modal.getDialogElement()).scrollHeight,e=Oe()(e),t=Re()(oe.a.findDOMNode(this.props.container||e.body)),n=n>e.documentElement.clientHeight,this.setState({style:{paddingRight:t&&!n?Pe()():void 0,paddingLeft:!t&&n?Pe()():void 0}}))},t.render=function(){var e=this.props,t=e.backdrop,n=e.backdropClassName,o=e.animation,r=e.show,i=e.dialogComponentClass,s=e.className,a=e.style,l=e.children,c=e.onEntering,u=e.onExited,e=v(e,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),d=Ge(e,Me.a),f=d[0],d=d[1],p=r&&!o&&"in";return V.a.createElement(Me.a,b({},f,{ref:this.setModalRef,show:r,containerClassName:w(e,"open"),transition:o?Xe:void 0,backdrop:t,backdropTransition:o?Ye:void 0,backdropClassName:k()(w(e,"backdrop"),n,p),onEntering:E(c,this.handleEntering),onExited:E(u,this.handleExited),onMouseUp:this.handleMouseUp}),V.a.createElement(i,b({},d,{style:b({},this.state.style,a),className:k()(s,p),onClick:!0===t?this.handleDialogClick:null,onMouseDownDialog:this.handleDialogBackdropMouseDown}),l))},e}(V.a.Component),Qe=(Ve.propTypes=h,Ve.defaultProps=m,Ve.childContextTypes=g,Ve.Body=c,Ve.Header=f,Ve.Title=p,Ve.Footer=d,Ve.Dialog=u,Ve.TRANSITION_DURATION=300,Ve.BACKDROP_TRANSITION_DURATION=150,l("modal",We([e,n],Ve)));function y(e){this.termbuf=e,this.state=y.STATE_TEXT,this.esc=""}function Ze(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}y.STATE_TEXT=0,y.STATE_ESC=1,y.STATE_CSI=2,y.STATE_C1=3,y.prototype.feed=function(e){var t=this.termbuf;if(t){for(var n="",o=e.length,r=0;r<o;++r){var i=e[r];switch(this.state){case y.STATE_TEXT:""===i?(n&&(t.puts(n),n=""),this.state=y.STATE_ESC):n+=i;break;case y.STATE_CSI:if("`"<=i&&i<="z"||"@"<=i&&i<="Z"){var s=this.esc.split(";"),a="";if(s[0]&&(s[0].charAt(0)<"0"||"9"<s[0].charAt(0))&&(a=s[0].charAt(0),s[0]=s[0].slice(1)),a&&"h"!=i&&"l"!=i){this.state=y.STATE_TEXT,this.esc="";break}for(var l=0;l<s.length;++l)s[l]?s[l]=parseInt(s[l],10):s[l]=0;switch(i){case"m":t.assignParamsToAttrs(s);break;case"@":t.insert(0<s[0]?s[0]:1);break;case"A":t.gotoPos(t.cur_x,t.cur_y-(s[0]||1));break;case"B":case"e":t.gotoPos(t.cur_x,t.cur_y+(s[0]||1));break;case"C":case"e":t.gotoPos(t.cur_x+(s[0]||1),t.cur_y);break;case"D":t.gotoPos(t.cur_x-(s[0]||1),t.cur_y);break;case"E":t.gotoPos(0,t.cur_y+(s[0]||1));break;case"F":t.gotoPos(0,t.cur_y-(s[0]||1));break;case"G":case"`":t.gotoPos(0<s[0]?s[0]-1:0,t.cur_y);break;case"I":t.tab(0<s[0]?s[0]:1);break;case"d":t.gotoPos(t.cur_x,0<s[0]?s[0]-1:0);break;case"J":t.clear(s?s[0]:0);break;case"H":case"f":s.length<2?t.gotoPos(0,0):(0<s[0]&&--s[0],0<s[1]&&--s[1],t.gotoPos(s[1],s[0]));break;case"K":t.eraseLine(s?s[0]:0);break;case"L":t.insertLine(0<s[0]?s[0]:1);break;case"M":t.deleteLine(0<s[0]?s[0]:1);break;case"P":t.del(0<s[0]?s[0]:1);break;case"r":s.length<2?(t.scrollStart=0,t.scrollEnd=t.rows-1):(0<s[0]&&--s[0],0<s[1]&&--s[1],t.scrollStart=s[0],t.scrollEnd=s[1]);break;case"s":t.cur_x_sav=t.cur_x,t.cur_y_sav=t.cur_y;break;case"u":t.cur_x_sav<0||t.cur_y_sav<0||(t.cur_x=t.cur_x_sav,t.cur_y=t.cur_y_sav);break;case"S":t.scroll(!1,0<s[0]?s[0]:1);break;case"T":t.scroll(!0,0<s[0]?s[0]:1);break;case"X":t.eraseChar(0<s[0]?s[0]:1);break;case"Z":t.backTab(0<s[0]?s[0]:1)}this.state=y.STATE_TEXT,this.esc=""}else this.esc+=i;break;case y.STATE_C1:var c=!0,u=[" ","#","%","(",")","*","+","-",".","/"];if(this.esc){for(l=0;l<u.length;++l)this.esc==u[l]&&(c=!1);c?--r:this.esc+=i,this.esc="",this.state=y.STATE_TEXT}else{switch(i){case"7":t.cur_x_sav=t.cur_x,t.cur_y_sav=t.cur_y;break;case"8":t.cur_x_sav<0||t.cur_y_sav<0||(t.cur_x=t.cur_x_sav,t.cur_y=t.cur_y_sav);break;case"D":t.scroll(!1,1);break;case"E":t.lineFeed(),t.carriageReturn();break;case"M":t.scroll(!0,1);break;default:this.esc+=i,c=!1}c&&(this.esc="",this.state=y.STATE_TEXT)}break;case y.STATE_ESC:"["==i?this.state=y.STATE_CSI:(this.state=y.STATE_C1,--r)}}n&&t.puts(n)}};for(var Je={Backspace:"\b",Tab:"\t",Enter:"\r",Escape:"",Home:"[1~",Insert:"[2~",Delete:"[3~",End:"[4~",PageUp:"[5~",PageDown:"[6~",ArrowUp:"[A",ArrowDown:"[B",ArrowRight:"[C",ArrowLeft:"[D",Up:"[A",Down:"[B",Right:"[C",Left:"[D"},et={"@":50,"^":54,_:109,"?":127,"[":219,"\\":220,"]":221},tt=97;tt<=122;tt++)et[String.fromCharCode(tt)]=tt-96;var nt=function(){function o(e,t,n){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this._checkLeftDB=e,this._checkCurDB=t,this._sendFunc=n}var e,t,n;return e=o,(t=[{key:"_send",value:function(e){return this._sendFunc(e),!0}},{key:"_sendCharCode",value:function(e){return this._send(String.fromCharCode(e))}},{key:"_checkDB",value:function(e){switch(e){case"Backspace":case"ArrowLeft":return this._checkLeftDB();case"Delete":case"ArrowRight":return this._checkCurDB()}return!1}},{key:"onKeyDown",value:function(e){this._onKeyDown(e)&&e.preventDefault()}},{key:"_onKeyDown",value:function(e){if(!e.getModifierState("Meta"))if(e.ctrlKey||e.altKey)if(!e.ctrlKey||e.altKey||e.shiftKey){if(!e.ctrlKey&&e.altKey&&!e.shiftKey)switch(e.key.toLowerCase()){case"r":case"t":case"w":return this._sendCharCode(e.key.toUpperCase().charCodeAt(0)-64)}}else{var t=1==e.key.length?e.key.toLowerCase():e.key,t=et[t];if(t)return this._sendCharCode(t)}else{if(e.shiftKey&&"Insert"==e.key)return!1;t=Je[e.key];if(t)return this._checkDB(e.key)?this._send(t+t):this._send(t);if(1==e.key.length);}return!1}},{key:"onKeyPress",value:function(e){return!e.ctrlKey&&!e.altKey&&1==e.key.length&&(e.preventDefault(),this._send(e.key))}}])&&Ze(e.prototype,t),n&&Ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}();function ot(){}ot.mixin=function(e){for(var t in ot.prototype)e[t]=ot.prototype[t]},ot.prototype.addEventListener=function(e,t){this._listeners=this._listeners||{},(this._listeners[e]=this._listeners[e]||[]).push(t)},ot.prototype.dispatchEvent=function(e){this._listeners=this._listeners||{};var t=this._listeners[e.type];if(t)for(var n in t=t.slice(0))t[n](e)},ot.prototype.removeEventListener=function(e,t){this._listeners=this._listeners||{};var n=this._listeners[e];if(n)for(var o in n)if(n[o]===t){n.splice(o,1);break}};function rt(e){var t=e.col,n=e.row,o=e.href,r=e.inner,i=e.onMouseOver,e=e.onMouseOut;return React.createElement("a",{onMouseOver:i,onMouseOut:e,scol:t,srow:n,className:"y",href:o,rel:"noreferrer",target:"_blank"},r)}function it(e){return e?{display:"inline-block",width:"".concat(e,"px")}:void 0}function st(e){var t=e.forceWidth,e=e.inner;return React.createElement("span",{className:"wpadding",style:it(t)},e)}function at(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach(function(e){ct(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ct(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function ut(e){var t,n=e.colorLead,o=e.colorTail,r=e.forceWidth,e=e.text;return React.createElement("span",{className:k()(lt(lt({},n.fg===o.fg?(ct(t={},"q".concat(n.fg),!0),ct(t,"w".concat(o.fg),n.blink!==o.blink),t):(ct(t={},"q".concat(n.fg),n.blink&&!o.blink),ct(t,"w".concat(o.fg),n.blink&&!o.blink),ct(t,"w".concat(n.fg),!n.blink||o.blink),ct(t,"q".concat(o.fg),!n.blink||o.blink),t)),{},(ct(t={o:n.fg!==o.fg||n.blink!==o.blink,ot:n.blink&&!o.blink},"b".concat(n.bg),n.bg===o.bg),ct(t,"b".concat(n.bg,"b").concat(o.bg),n.bg!==o.bg),ct(t,"qq",n.blink||o.blink),ct(t,"ww",n.blink&&o.blink),ct(t,"wpadding",r),t))),style:it(r),"data-text":e},e)}function dt(e){var t=e.className,n=e.colorState,e=e.inner;return React.createElement("span",{className:k()(t,"q".concat(n.fg),"b".concat(n.bg),{qq:n.blink})},e)}function ft(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.key=e,this.colorState=t,this.inner=[]}var e,t,o;return e=n,(t=[{key:"isLastSegmentSameColor",value:function(e){return this.colorState.equals(e)}},{key:"appendNormalText",value:function(e){var t=this.inner[this.inner.length-1];"string"==typeof t?this.inner[this.inner.length-1]=t+e:this.inner.push(e)}},{key:"appendForceWidthWord",value:function(e,t){this.inner.push(React.createElement(st,{key:this.inner.length,inner:e,forceWidth:t}))}},{key:"appendTwoColorWord",value:function(e,t,n,o){this.inner.push(React.createElement(ut,{key:this.inner.length,text:e,colorLead:t,colorTail:n,forceWidth:o}))}},{key:"build",value:function(){return React.createElement(dt,{key:this.key,colorState:this.colorState,inner:this.inner})}}])&&ft(e.prototype,t),o&&ft(e,o),Object.defineProperty(e,"prototype",{writable:!1}),n}(),pt=(h.NullObject={isLastSegmentSameColor:function(){return!1},build:function(){return!1}},h);function ht(e){for(var t,n,o="",r=0;r<e.length;++r)e.charAt(r)<""?o+=e.charAt(r):(n=e.charCodeAt(r),t=lib.u2bArray[2*n],n=lib.u2bArray[2*n+1],o+=t||n?String.fromCharCode(t)+String.fromCharCode(n):"ÿý");return o}function mt(e){for(var t,n="",o=0;o<e.length;++o)!(e.charAt(o)<""||o==e.length-1)&&(t=e.charCodeAt(o)<<8|e.charCodeAt(o+1),t=lib.b2uArray[2*t]<<8|lib.b2uArray[2*t+1])?(n+=String.fromCharCode(t),++o):n+=e.charAt(o);return n}function gt(e){e=new RegExp(/  瀏覽 第 (\d{1,3})(?:\/(\d{1,3}))? 頁 *\( *(\d{1,3})%\)  目前顯示: 第 0*(\d+)~0*(\d+) 行 *(?:\(y\)回應)?(?:\(X\/?%\)推文)?(?:\(h\)說明)? *\(←\/?q?\)離開 /g).exec(e);return e&&6===e.length?{pageIndex:parseInt(e[1]),pageTotal:parseInt(e[2]),pagePercent:parseInt(e[3]),rowIndexStart:parseInt(e[4]),rowIndexEnd:parseInt(e[5])}:null}var yt={},m=yt;function bt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}m.xa1=1,m.xa0=1,m.xa1=1,m.xa4=1,m.xa7=1,m.xaa=1,m.xae=1,m.xaf=1,m.xb0=1,m.xb1=1,m.xb6=1,m.xb7=1,m.xb8=1,m.xba=1,m.xbf=1,m.xc0=1,m.xc1=1,m.xc2=1,m.xc3=1,m.xc4=1,m.xc5=1,m.xc6=1,m.xc7=1,m.xc8=1,m.xc9=1,m.xca=1,m.xcb=1,m.xcc=1,m.xcd=1,m.xce=1,m.xcf=1,m.xd0=1,m.xd1=1,m.xd2=1,m.xd3=1,m.xd4=1,m.xd5=1,m.xd6=1,m.xd7=1,m.xd8=1,m.xd9=1,m.xda=1,m.xdb=1,m.xdc=1,m.xde=1,m.xdf=1,m.xe0=1,m.xe1=1,m.xe2=1,m.xe3=1,m.xe4=1,m.xe5=1,m.xe6=1,m.xe7=1,m.xe8=1,m.xe9=1,m.xea=1,m.xeb=1,m.xec=1,m.xed=1,m.xee=1,m.xef=1,m.xf0=1,m.xf1=1,m.xf2=1,m.xf3=1,m.xf4=1,m.xf5=1,m.xf6=1,m.xf8=1,m.xf9=1,m.xfa=1,m.xfb=1,m.xfc=1,m.xfe=1,m.xff=1,m.x14a=2,m.x153=1,m.x16b=2,m.x192=1,m.x28c=1,m.x252=2,m.x259=2,m.x25a=2,m.x25c=2,m.x25d=2,m.x26f=2,m.x278=2,m.x287=2,m.x292=2,m.x2a4=2,m.x2a7=2,m.x2cf=2,m.x414=2,m.x41f=2,m.x430=2,m.x431=1,m.x432=2,m.x433=2,m.x434=2,m.x435=2,m.x436=2,m.x437=2,m.x438=2,m.x439=2,m.x43a=1,m.x43b=1,m.x43c=2,m.x43d=2,m.x43e=1,m.x43f=2,m.x440=1,m.x441=2,m.x442=2,m.x445=2,m.x446=2,m.x44b=2,m.x44c=2,m.x44f=2,m.x1e3b=2,m.x1e43=2,m.x1e49=1,m.x1ef2=3,m.x1ef3=1,m.x2010=1,m.x2027=1,m.x211e=1,m.x2122=1,m.x213b=2,m.x2157=1,m.x215c=2,m.x21b2=1,m.x21e6=1,m.x21e8=1,m.x21e9=1,m.x2200=2,m.x2202=1,m.x222c=2,m.x2237=2,m.x2282=2,m.x2401=3,m.x2402=3,m.x2403=3,m.x2404=3,m.x2405=3,m.x2406=3,m.x2407=3,m.x2408=3,m.x2409=3,m.x240a=3,m.x240b=3,m.x240c=3,m.x240d=3,m.x240e=3,m.x240f=3,m.x2410=3,m.x2411=3,m.x2412=3,m.x2413=3,m.x2414=3,m.x2415=3,m.x2416=3,m.x2417=3,m.x2418=3,m.x2419=3,m.x241a=3,m.x241b=3,m.x241c=3,m.x241d=3,m.x241e=3,m.x241f=3,m.x2421=3,m.x246a=2,m.x246b=2,m.x246c=2,m.x246d=2,m.x246e=2,m.x246f=2,m.x2470=2,m.x2471=2,m.x2472=2,m.x2473=2,m.x2503=2,m.x2601=2,m.x2602=2,m.x260e=2,m.x2611=2,m.x261b=2,m.x261c=2,m.x261e=2,m.x261f=2,m.x2620=2,m.x262f=2,m.x2630=2,m.x2631=2,m.x2632=2,m.x2633=2,m.x2634=2,m.x2635=2,m.x2636=2,m.x2637=2,m.x2639=1,m.x263a=2,m.x263b=2,m.x263c=2,m.x263d=2,m.x2660=2,m.x2661=1,m.x2662=1,m.x2663=2,m.x2664=1,m.x2665=2,m.x2666=1,m.x2667=1,m.x266a=1,m.x266c=2,m.x2702=2,m.x2708=2,m.x2709=2,m.x2713=2,m.x2715=2,m.x2721=2,m.x2729=2,m.x274f=2,m.x278e=2,m.x278f=2,m.x2790=2,m.x2791=2,m.x2792=2,m.xe11b=3,m.xe282=3,m.xe568=3,m.xe56b=3,m.xe686=3,m.xe687=3,m.xe7e0=3,m.xe9cc=3,m.xe9ce=3,m.xe9cf=3,m.xeb8b=3,m.xec63=3,m.xec64=3,m.xec65=3,m.xec66=3,m.xec67=3,m.xec6c=1,m.xec6a=1,m.xec6e=3,m.xec71=3,m.xec72=3,m.xec73=3,m.xec74=3,m.xec71=3,m.xec7c=3,m.xec7d=3,m.xec80=3,m.xec83=3,m.xec85=3,m.xec86=3,m.xec87=3,m.xec88=3,m.xec89=3,m.xec8a=3,m.xec8b=3,m.xec8c=3,m.xec8d=3,m.xec8e=3,m.xec8f=3,m.xec90=3,m.xec91=3,m.xec9f=3,m.xeca0=3,m.xeca1=3,m.xeca3=3,m.xeca4=3,m.xeca5=3,m.xeca6=3,m.xeca7=3,m.xeca8=3,m.xeca9=3,m.xeca3=3,m.xecae=3,m.xecb5=3,m.xecb6=3,m.xecb8=3,m.xecc1=3,m.xecc2=3,m.xecc8=3,m.xecca=3,m.xeccb=3,m.xeccc=3,m.xeccd=3,m.xecce=3,m.xed91=3,m.xed92=3,m.xee1e=3,m.xee22=3,m.xee58=3,m.xee5a=3,m.xee5c=3,m.xee5e=3,m.xee5f=3,m.xeeb6=3,m.xf7e6=3,m.xf7e8=3,m.xf7ee=3,m.xf7ef=3,m.xf7f0=3,m.xf7f1=3,m.xf7f2=3,m.xf7f3=3,m.xf7f4=3,m.xf7f5=3,m.xf7f6=3,m.xf7f7=3,m.xf7f8=3,m.xf7f8=3,m.xf7fa=3,m.xf849=3,m.xf84a=3,m.xf84b=3,m.xf84c=3,m.xf84d=3,m.xf84e=3,m.xf84f=3,m.xf850=3,m.xf851=3,m.xf852=3,m.xf853=3,m.xf854=3,m.xf855=3,m.xf856=3,m.xf857=3,m.xf858=3,m.xf859=3,m.xf85a=3,m.xf85b=3,m.xf85c=3,m.xf85d=3,m.xf85e=3,m.xf85f=3,m.xf860=3,m.xf861=3,m.xf862=3,m.xf863=3,m.xf864=3,m.xf865=3,m.xff61=1,m.xff62=1,m.xff63=1,m.xff64=1,m.xff65=1,m.xff66=1,m.xff67=1,m.xff68=1,m.xff69=1,m.xff6a=1,m.xff6b=1,m.xff6c=1,m.xff6d=1,m.xff6e=1,m.xff6f=1,m.xff70=1,m.xff71=1,m.xff72=1,m.xff73=1,m.xff74=1,m.xff75=1,m.xff76=1,m.xff77=1,m.xff78=1,m.xff79=1,m.xff7a=1,m.xff7b=1,m.xff7c=1,m.xff7d=1,m.xff7e=1,m.xff7f=1,m.xff80=1,m.xff81=1,m.xff82=1,m.xff83=1,m.xff84=1,m.xff85=1,m.xff86=1,m.xff87=1,m.xff88=1,m.xff89=1,m.xff8a=1,m.xff8b=1,m.xff8c=1,m.xff8d=1,m.xff8e=1,m.xff8f=1,m.xff90=1,m.xff91=1,m.xff92=1,m.xff93=1,m.xff94=1,m.xff95=1,m.xff96=1,m.xff97=1,m.xff98=1,m.xff99=1,m.xff9a=1,m.xff9b=1,m.xff9c=1,m.xff9d=1,m.xff9e=1,m.xff9f=1,m.xfffd=3;var g=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.segs=[],this.wordBuilder=pt.NullObject,this.forceWidth=e,this.lead=null}var e,n,o;return e=t,(n=[{key:"beginSegment",value:function(e){this.segs.push(this.wordBuilder.build()),this.wordBuilder=new pt(this.segs.length,e)}},{key:"appendNormalChar",value:function(e,t){this.wordBuilder.isLastSegmentSameColor(t)||this.beginSegment(t),this.wordBuilder.appendNormalText(e)}},{key:"readChar",value:function(e){if(!this.lead)return 129<=(n=(n=e.ch).charCodeAt(0))&&n<=254?void(this.lead=e):void this.appendNormalChar(e.ch,e.getColor());var t,n=this.lead,o=n.getColor(),r=(this.lead=null,mt(n.ch+e.ch));1!==r.length?(this.appendNormalChar("?",o),this.appendNormalChar(" "==e.ch?" ":"?",e.getColor())):3==yt["x"+r.charCodeAt(0).toString(16)]?(this.appendNormalChar("?",o),this.appendNormalChar("?",e.getColor())):o.equals(e.getColor())?(t=1==(t=yt["x"+(t=r).charCodeAt(0).toString(16)])||2==t?this.forceWidth:0)?(this.wordBuilder.isLastSegmentSameColor(o)||this.beginSegment(o),this.wordBuilder.appendForceWidthWord(r,t)):this.appendNormalChar(r,o):(this.beginSegment(o),this.wordBuilder.appendTwoColorWord(r,o,e.getColor(),this.forceWidth))}},{key:"build",value:function(){return this.beginSegment(),this.segs}}])&&bt(e.prototype,n),o&&bt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),vt=(g.accumulator=function(e,t){return e.readChar(t),e},g),wt=o(81),xt=o(82);function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return i}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?Ct(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function St(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?St(Object(n),!0).forEach(function(e){Nt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ot(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Tt(e,t){return(Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pt(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Rt(n),t=(e=o?(e=Rt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mt(t)}}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function Dt(e){return Promise.resolve({src:e})}function Lt(e){var t=e.src;return Bt.find(function(e){return e.test(t)}).request(t)}function At(e){var o=e.src;return new Promise(function(e,t){var n=new Image;n.onload=function(){return e({src:o,height:n.height})},n.onerror=t,n.src=o})}var c=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e);var n,s=Pt(a);function a(){var e,t=this,n=a;if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Nt(Mt(e=s.call.apply(s,[this].concat(r))),"state",{pending:void 0,value:void 0,error:void 0}),Nt(Mt(e),"handleResolve",function(n){e.setState(function(e,t){e=e.pending,t=t.request;if(e===t)return{value:n}})}),Nt(Mt(e),"handleReject",function(n){e.setState(function(e,t){e=e.pending,t=t.request;if(e===t)return{error:n}})}),e}return t=a,(e=[{key:"componentDidMount",value:function(){this.handleStart()}},{key:"componentDidUpdate",value:function(e){this.props.request!==e.request&&this.handleStart()}},{key:"handleStart",value:function(e){var n=this;this.setState(function(e,t){t=t.request;return t.then(n.handleResolve,n.handleReject),{pending:t,value:void 0,error:void 0}})}},{key:"render",value:function(){return React.createElement(this.props.component,kt(kt({},this.props),{},{component:void 0,request:void 0,value:this.state.value,error:this.state.error}))}}])&&Ot(t.prototype,e),n&&Ot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(React.PureComponent),Bt=(c.OnHover=function(e){var t=e.left,n=e.top,o=e.value;return!e.error&&(o?React.createElement("img",{src:o.src,style:{display:"block",position:"absolute",left:t+20,top:function(e,t){var n=$(window).height();if(n-20<e+t/2){if(t/2<e)return n-20-t}else if(t/2<e-20)return e-t/2;return 20}(n,o.height),maxHeight:"80%",maxWidth:"90%",zIndex:2}}):React.createElement("i",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate",style:{position:"absolute",left:t+20,top:n,zIndex:2}}))},c.Inline=function(e){var t=e.value;return!e.error&&(t?React.createElement("img",{className:"easyReadingImg hyperLinkPreview",src:t.src}):React.createElement("i",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate"}))},[{test:function(){return!0},request:function(){return Promise.reject(new Error("Unimplemented"))}}]),f=Bt.unshift.bind(Bt),Ft=(f({regex:/flic\.kr\/p\/(\w+)|flickr\.com\/photos\/[\w@]+\/(\d+)/,test:function(e){return this.regex.test(e)},request:function(e){var e=Et(e.match(this.regex),3),t=e[1],e=e[2],t=t?Object(xt.decode)(t):e,e="https://api.flickr.com/services/rest/?".concat(Object(wt.stringify)({method:"flickr.photos.getInfo",api_key:"c8c95356e465b8d7398ff2847152740e",photo_id:t,format:"json",nojsoncallback:1}));return fetch(e,{mode:"cors"}).then(function(e){return e.json()}).then(function(e){var t,n,o;if(e.photo)return t=(e=e.photo).farm,n=e.server,o=e.id,e=e.secret,{src:"https://farm".concat(t,".staticflickr.com/").concat(n,"/").concat(o,"_").concat(e,".jpg")};throw new Error("Not found")})}}),f({regex:/^https?:\/\/(?:i\.)?imgur\.com\/([^.]+)(?:\.(.*))?/,test:function(e){return this.regex.test(e)},request:function(e){var e=Et(this.regex.exec(e),3),t=(e[0],e[1]),e=e[2],e=void 0===e?"jpg":e;return Promise.resolve({src:"https://i.imgur.com/".concat(t,".").concat(e)})}}),c);function It(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ht(e){var t=e.chars,n=e.row,o=e.enableLinkInlinePreview,r=e.forceWidth,i=e.highlighted,s=e.onHyperLinkMouseOver,e=e.onHyperLinkMouseOut;return React.createElement("span",{type:"bbsrow",srow:n},t.reduce(jt.accumulator,new jt(n,o,r,i,s,e)).build())}var p=function(){function s(e,t,n,o,r,i){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.row=e,this.forceWidth=n,this.highlighted=o,this.onHyperLinkMouseOver=r,this.onHyperLinkMouseOut=i,this.segs=[],this.inlineLinkPreviews=!!t&&[],this.colorSegBuilder=null,this.col=null,this.href=null}var e,t,n;return e=s,(t=[{key:"saveSegment",value:function(){var e=this.colorSegBuilder.build();this.href?(this.segs.push(React.createElement(rt,{key:this.col,href:this.href,inner:e,"data-scol":this.col,"data-srow":this.row,onMouseOver:this.onHyperLinkMouseOver,onMouseOut:this.onHyperLinkMouseOut})),this.inlineLinkPreviews&&this.inlineLinkPreviews.push(React.createElement(Ft,{key:"".concat(this.col,"-").concat(this.href),request:Dt(this.href).then(Lt),component:Ft.Inline}))):this.segs.push(React.createElement("span",{key:this.col},e)),this.colorSegBuilder=null}},{key:"readChar",value:function(e,t){null!==this.colorSegBuilder&&e.isStartOfURL()&&this.saveSegment(),null===this.colorSegBuilder&&(this.colorSegBuilder=new vt(this.forceWidth),this.col=t,this.href=e.isStartOfURL()?e.getFullURL():null),this.colorSegBuilder.readChar(e),e.isEndOfURL()&&this.saveSegment()}},{key:"build",value:function(){return null!==this.colorSegBuilder&&this.saveSegment(),React.createElement("div",null,React.createElement("span",{className:k()({b2:this.highlighted}),"data-type":"bbsline","data-row":this.row},this.segs),React.createElement("div",null,this.inlineLinkPreviews))}}])&&It(e.prototype,t),n&&It(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(),jt=(p.accumulator=function(e,t,n){return e.readChar(t,n),e},p);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Kt(e,t){return(Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zt(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=qt(n),t=(e=o?(e=qt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $t(t)}}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}var Xt=function(e){var t=a;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kt(t,e);var n,s=zt(a);function a(){var n,e=this,t=a;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Gt($t(n=s.call.apply(s,[this].concat(r))),"setCurrentHighlighted",function(e){n.setState({currentHighlighted:e})}),Gt($t(n),"state",{currentHighlighted:void 0,currentImagePreview:void 0,left:void 0,top:void 0}),Gt($t(n),"handleMouseMove",function(e){var t=e.clientX,e=e.clientY;n.state.currentImagePreview&&n.setState({left:t,top:e})}),Gt($t(n),"handleHyperLinkMouseOver",function(e){e=e.currentTarget.href;n.props.enableLinkHoverPreview&&n.setState({currentImagePreview:Dt(e).then(Lt).then(At)})}),Gt($t(n),"handleHyperLinkMouseOut",function(){n.setState({currentImagePreview:void 0})}),n}return t=a,(e=[{key:"componentWillReceiveProps",value:function(e){this.props.lines!==e.lines&&this.setState({currentImagePreview:void 0})}},{key:"render",value:function(){var n=this;return React.createElement("div",{id:"mainContainer",onMouseMove:this.handleMouseMove},this.props.lines.map(function(e,t){return React.createElement(Ht,{key:t,chars:e,row:t,forceWidth:n.props.forceWidth,enableLinkInlinePreview:n.props.enableLinkInlinePreview,highlighted:n.state.currentHighlighted===t,onHyperLinkMouseOver:n.handleHyperLinkMouseOver,onHyperLinkMouseOut:n.handleHyperLinkMouseOut})}),this.state.currentImagePreview&&React.createElement(Ft,{request:this.state.currentImagePreview,component:Ft.OnHover,left:this.state.left,top:this.state.top}))}}])&&Wt(t.prototype,e),n&&Wt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(React.Component);function Yt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Vt=function(){function o(e,t,n){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.fg=e,this.bg=t,this.blink=n}var e,t,n;return e=o,(t=[{key:"equals",value:function(e){return e instanceof o&&this.fg==e.fg&&this.bg==e.bg&&this.blink==e.blink}}])&&Yt(e.prototype,t),n&&Yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}();function Qt(e,t,n,o,r){return ReactDOM.render(React.createElement(Ht,{chars:e,row:t,forceWidth:n,enableLinkInlinePreview:o}),r)}var Zt=["#FFFFFF","#7FFFFF","#FF7FFF","#7F7FFF","#FFFF7F","#7FFF7F","#FF7F7F","#3F3F3F","#7F7F7F","#00FFFF","#FF00FF","#0000FF","#FFFF00","#00FF00","#FF0000","#000000"],Jt=["auto","url(".concat(o(92)," 0 6,auto"),"url(".concat(o(93)," 6 0,auto"),"url(".concat(o(94)," 6 21,auto"),"url(".concat(o(95)," 0 0,auto"),"url(".concat(o(96)," 0 0,auto"),"pointer","default","url(".concat(o(97)," 6 0,auto"),"url(".concat(o(98)," 6 0,auto"),"url(".concat(o(99)," 0 0,auto"),"auto","url(".concat(o(100)," 0 0,auto"),"url(".concat(o(62)," 0 0,auto"),"url(".concat(o(62)," 0 0,auto")];function C(e){this.ch=e,this.resetAttr(),this.needUpdate=!1,this.isLeadByte=!1,this.startOfURL=!1,this.endOfURL=!1,this.partOfURL=!1,this.partOfKeyWord=!1,this.keyWordColor="#ff0000",this.fullurl=""}function en(e,t){for(this.cols=e,this.rows=t,this.view=null,this.cur_x=0,this.cur_y=0,this.cur_x_sav=-1,this.cur_y_sav=-1,this.scrollStart=0,this.scrollEnd=t-1,this._nowHighlight=-1,Object.defineProperty(this,"nowHighlight",{set:this.setHighlight.bind(this),get:function(){return this._nowHighlight}.bind(this)}),this.tempMouseCol=0,this.tempMouseRow=0,this.mouseCursor=0,this.highlightCursor=!0,this.useMouseBrowsing=!0,this.attr=new C(" "),this.disableLinefeed=!1,this.altScreen="",this.changed=!1,this.posChanged=!1,this.pageState=0,this.forceFullWidth=!1,this.startedEasyReading=!1,this.easyReadingShowReplyText=!1,this.easyReadingShowPushInitText=!1,this.prevPageState=0,this.lines=new Array(t),this.pageLines=[],this.pageWrappedLines=[],this.lineChangeds=new Array(t),this.viewBufferTimer=30;0<=--t;){for(var n=new Array(e),o=e;0<=--o;)n[o]=new C(" ");this.lines[t]=n}this.BBSWin=document.getElementById("BBSWindow")}function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}C.defaultFg=7,C.defaultBg=0,C.prototype={assignParams:function(e){var t=this;e.forEach(function(e){switch(e){case 0:t.resetAttr();break;case 1:t.bright=!0;break;case 4:t.underLine=!0;break;case 5:case 6:t.blink=!0;break;case 7:t.invert=!0;break;case 8:break;default:e<=37?30<=e&&(t.fg=e-30):40<=e&&e<=47&&(t.bg=e-40)}})},copyFromNewChar:function(){this.ch=C.newChar.ch,this.isLeadByte=C.newChar.isLeadByte,this.resetAttr()},copyAttr:function(e){this.fg=e.fg,this.bg=e.bg,this.bright=e.bright,this.invert=e.invert,this.blink=e.blink,this.underLine=e.underLine},resetAttr:function(){this.fg=7,this.bg=0,this.bright=!1,this.invert=!1,this.blink=!1,this.underLine=!1},getFg:function(){return this.invert?this.bright?this.bg+8:this.bg:this.bright?this.fg+8:this.fg},getBg:function(){return this.invert?this.fg:this.bg},getColor:function(){return new Vt(this.getFg(),this.getBg(),this.blink)},isUnderLine:function(){return this.underLine},isStartOfURL:function(){return this.startOfURL},isEndOfURL:function(){return this.endOfURL},isPartOfURL:function(){return this.partOfURL},isPartOfKeyWord:function(){return this.partOfKeyWord},getKeyWordColor:function(){return this.keyWordColor},getFullURL:function(){return this.fullurl}},C.newChar=new C(" "),ot.mixin(en.prototype={resize:function(e,t){this.cols=e,this.rows=t,this.lineChangeds.length=t,this.scrollEnd=t-1,this.lines.length=t;for(var n=0;n<t;n++){this.lines[n]||(this.lines[n]=new Array(e)),this.lines[n].length=e;for(var o=0;o<e;o++)this.lines[n][o]||(this.lines[n][o]=new C(" "))}},timerUpdate:null,uriRegEx:/((ftp|http|https|telnet):\/\/([A-Za-z0-9_]+:{0,1}[A-Za-z0-9_]*@)?([A-Za-z0-9_#!:.?+=&%@!\-\/\$\^,;|*~'()]+)(:[0-9]+)?(\/|\/([A-Za-z0-9_#!:.?+=&%@!\-\/]))?)|(pid:\/\/(\d{1,10}))/gi,setView:function(e){this.view=e},assignParamsToAttrs:function(e){this.attr.assignParams(e)},puts:function(e){if(e){for(var t=this.cols,n=(this.rows,this.lines),o=e.length,r=n[this.cur_y],i=0;i<o;++i){var s,a=e[i];switch(a){case"":continue;case"\b":this.back();continue;case"\r":this.carriageReturn();continue;case"\n":case"\f":case"\v":this.lineFeed(),r=n[this.cur_y];continue;case"\0":continue}this.cur_x>=t&&(this.disableLinefeed||this.lineFeed(),this.cur_x=0,r=n[this.cur_y],this.posChanged=!0),"\t"===a?this.tab():((s=r[this.cur_x]).ch=a,s.copyAttr(this.attr),s.needUpdate=!0,++this.cur_x,s.isLeadByte&&(r[this.cur_x].needUpdate=!0),"UTF-8"==this.view.charset&&this.isFullWidth(a)&&this.cur_x<t&&((s=r[this.cur_x]).ch="",s.copyAttr(this.attr),s.needUpdate=!0,++this.cur_x),this.changed=!0,this.posChanged=!0)}this.queueUpdate()}},updateCharAttr:function(){for(var e=this.cols,t=this.rows,n=this.lines,o=0;o<t;++o){for(var r=n[o],i=!1,s=0;s<e;++s){var a,l=r[s];l.needUpdate&&(i=!0),this.isFullWidth(l.ch)&&s+1<e?(l.isLeadByte=!0,a=l,(l=r[++s]).needUpdate&&(i=!0),a.needUpdate!=l.needUpdate&&(a.needUpdate=l.needUpdate=!0)):l.isleadbyte&&s+1<e&&(r[s+1].needUpdate=!0),l.isLeadByte=!1}if(i){if(this.lineChangeds[o]=!0,r.uris){for(var c=(m=r.uris).length,u=0;u<c;++u){r[(g=m[u])[0]].startOfURL=!1,r[g[0]].endOfURL=!1,r[g[0]].fullurl="",r[g[1]-1].startOfURL=!1,r[g[1]-1].endOfURL=!1,r[g[1]-1].fullurl="";for(s=g[0];s<g[1];++s)r[s].partOfURL=!1,r[s].needUpdate=!0}r.uris=null}for(var d,f="",s=0;s<e;++s)f+=r[s].ch;if("UTF-8"!=this.view.charset)f=f.replace(/[^\x00-\x7f]./g,"«Í");else{for(var p="",h=0;h<f.length;++h)p+=f.charAt(h),this.isFullWidth(f.charAt(h))&&(p+=f.charAt(h));f=p}for(var m=null;null!==(d=this.uriRegEx.exec(f));){var g=[d.index,d.index+d[0].length];(m=m||[]).push(g)}if(m&&(r.uris=m),r.uris)for(c=(m=r.uris).length,u=0;u<c;++u){for(var y,b="",s=(g=m[u])[0];s<g[1];++s)b+=r[s].ch,r[s].partOfURL=!0,r[s].needUpdate=!0;if("UTF-8"!=this.view.charset)y=b;else{for(p="",h=0;h<b.length;++h)p+=b.charAt(h),this.isFullWidth(b.charAt(h))&&(p+=b.charAt(h));y=p}var v=b.toLowerCase();r[g[0]].startOfURL=!0,"pid://"==v.substr(0,6)?r[g[0]].fullurl="http://www.pixiv.net/member_illust.php?mode=big&illust_id="+v.substr(6,15):r[g[0]].fullurl=y,r[g[1]-1].endOfURL=!0}}}},clear:function(e){var t=this.rows,n=this.cols,o=this.lines;switch(e){case 0:var r,i=o[this.cur_y];for(s=this.cur_x;s<n;++s)i[s].copyFromNewChar(),i[s].needUpdate=!0;for(r=this.cur_y;r<t;++r)for(i=o[r],s=0;s<n;++s)i[s].copyFromNewChar(),i[s].needUpdate=!0;break;case 1:for(r=0;r<this.cur_y;++r)for(i=o[r],s=0;s<n;++s)i[s].copyFromNewChar(),i[s].needUpdate=!0;for(i=o[this.cur_y],s=0;s<this.cur_x;++s)i[s].copyFromNewChar(),i[s].needUpdate=!0;break;case 2:for(;0<=--t;)for(var s=n,i=o[t];0<=--s;)i[s].copyFromNewChar(),i[s].needUpdate=!0}this.changed=!0,this.gotoPos(0,0),this.queueUpdate()},back:function(){0<this.cur_x&&(--this.cur_x,this.posChanged=!0,this.queueUpdate())},tab:function(e){var t=this.cur_x%4;this.cur_x+=4-t,1<e&&(this.cur_x+=4*(e-1)),this.cur_x>=this.cols&&(this.cur_x=this.cols-1),this.posChanged=!0,this.queueUpdate()},backTab:function(e){var t=this.cur_x%4;this.cur_x-=0<t?t:4,1<e&&(this.cur_x-=4*(e-1)),this.cur_x<0&&(this.cur_x=0),this.posChanged=!0,this.queueUpdate()},insert:function(e){var t=this.lines[this.cur_y],n=this.cols,o=this.cur_x;if(0<o&&t[o-1].isLeadByte&&++o,o!=n){if(n<=o+e)for(var r=o;r<n;++r)t[r].copyFromNewChar(),t[r].needUpdate=!0;else{for(;0<=--e;){var i=t.pop();t.splice(o,0,i),i.copyFromNewChar()}for(r=o;r<n;++r)t[r].needUpdate=!0}this.changed=!0,this.queueUpdate()}},del:function(e){var t=this.lines[this.cur_y],n=this.cols,o=this.cur_x;if(0<o&&t[o-1].isLeadByte&&++o,o!=n){if(n<=o+e)for(var r=o;r<n;++r)t[r].copyFromNewChar(),t[r].needUpdate=!0;else{for(var i=n-o-e;0<=--i;)t.splice(o,0,t.pop());for(r=n-e;r<n;++r)t[r].copyFromNewChar();for(r=o;r<n;++r)t[r].needUpdate=!0}this.changed=!0,this.queueUpdate()}},eraseChar:function(e){var t=this.lines[this.cur_y],n=this.cols,o=this.cur_x;if(0<o&&t[o-1].isLeadByte&&++o,o!=n){for(var r=n<o+e?n:o+e,i=o;i<r;++i)t[i].copyFromNewChar(),t[i].needUpdate=!0;this.changed=!0,this.queueUpdate()}},eraseLine:function(e){var t=this.lines[this.cur_y],n=this.cols;switch(e){case 0:for(var o=this.cur_x;o<n;++o)t[o].copyFromNewChar(),t[o].needUpdate=!0;break;case 1:for(var r=this.cur_x,o=0;o<r;++o)t[o].copyFromNewChar(),t[o].needUpdate=!0;break;case 2:for(o=0;o<n;++o)t[o].copyFromNewChar(),t[o].needUpdate=!0;break;default:return}this.changed=!0,this.queueUpdate()},deleteLine:function(e){var t=this.scrollStart;this.scrollStart=this.cur_y,this.scroll(!1,e),this.scrollStart=t,this.changed=!0,this.queueUpdate()},insertLine:function(e){var t=this.scrollStart;this.cur_y<this.scrollEnd&&(this.scrollStart=this.cur_y,this.scroll(!0,e)),this.scrollStart=t,this.changed=!0,this.queueUpdate()},scroll:function(e,t){var n=this.scrollStart,o=this.scrollEnd;if(o<=n&&(n=0,o<1)&&(o=this.rows-1),t>=this.rows)this.clear(2);else if(o-n+1<=t)for(var r=this.lines,i=this.cols,s=n;s<=o;++s)for(var a=0;a<i;++a)r[s][a].copyFromNewChar(),r[s][a].needUpdate=!0;else{var r=this.lines,l=this.rows,i=this.cols;if(e){for(var c=0;c<l-1-o;++c)r.unshift(r.pop());for(;0<=--t;){var u=r.pop();r.splice(l-1-o+n,0,u);for(a=0;a<i;++a)u[a].copyFromNewChar()}for(c=0;c<l-1-o;++c)r.push(r.shift())}else{for(c=0;c<n;++c)r.push(r.shift());for(;0<=--t;){u=r.shift();r.splice(o-n,0,u);for(a=0;a<i;++a)u[a].copyFromNewChar()}for(c=0;c<n;++c)r.unshift(r.pop())}for(s=n;s<=o;++s)for(u=r[s],a=0;a<i;++a)u[a].needUpdate=!0}this.changed=!0,this.queueUpdate()},gotoPos:function(e,t){e>=this.cols&&(e=this.cols-1),(t=t>=this.rows?this.rows-1:t)<0&&(t=0),this.cur_x=e=e<0?0:e,this.cur_y=t,this.posChanged=!0,this.queueUpdate()},carriageReturn:function(){this.cur_x=0,this.posChanged=!0,this.queueUpdate()},lineFeed:function(){this.cur_y<this.scrollEnd?(++this.cur_y,this.posChanged=!0,this.queueUpdate()):this.scroll(!1,1)},queueUpdate:function(e){var t,n;this.timerUpdate||(n=function(){t.notify()},(t=this).timerUpdate=e?setTimeout(n,1):setTimeout(n,30))},notify:function(e){clearTimeout(this.timerUpdate),this.timerUpdate=null,this.changed&&(this.updateCharAttr(),this.setPageState(),this.useMouseBrowsing&&this.clearHighlight(),this.dispatchEvent(new CustomEvent("change")),this.view&&this.view.update(),this.changed=!1,this.dispatchEvent(new CustomEvent("viewUpdate"))),this.posChanged&&(this.view&&this.view.updateCursorPos(),this.posChanged=!1),this.view.blinkOn&&(this.view.blinkOn=!1,document.body.classList.toggle("blink--active"))},getText:function(e,t,n,o,r,i,s){var a="",a=(s||this.lines)[e];if(t==this.cols)return"";if(0<t?!a[t].isLeadByte&&a[t-1].isLeadByte&&t--:t=0,0<n?a[n-1].isLeadByte&&n++:n=this.cols,n<=t)return"";if(this.view){s=this.view.charset;if(o){for(var l=this.ansiCmp(C.newChar,a[t],i),c=t;c<n-1;++c)r&&a[c].isLeadByte&&this.ansiCmp(a[c],a[c+1])?l+=this.ansiCmp(a[c],a[c+1]).replace(/m$/g,";50m")+a[c].ch:l+=a[c].ch+this.ansiCmp(a[c],a[c+1]);return l+=a[n-1].ch+this.ansiCmp(a[n-1],C.newChar),r&&"UTF-8"!=s?mt(l):l}return(a=a.slice(t,n)).map(function(e,t,n){if(!e.isLeadByte)return 1<=t&&n[t-1].isLeadByte?(n=n[t-1].ch+e.ch,this.view&&"UTF-8"==this.view.charset||1==n.length?n:mt(n)):e.ch}).join("")}},getRowText:function(e,t,n,o){var r="",r=(o||this.lines)[e],i=(0<t?!r[t].isLeadByte&&r[t-1].isLeadByte&&t--:t=0,n<this.cols?r[n].isLeadByte&&n++:n=this.cols,r=r.slice(t,n),this.view.charset,this);return r.map(function(e,t,n){if(!e.isLeadByte)return 1<=t&&n[t-1].isLeadByte?(n=n[t-1].ch+e.ch,i.view&&"UTF-8"==i.view.charset||1==n.length?n:mt(n)):e.ch}).join("")},ansiCmp:function(e,t,n){var o="",r=((n=e.bright&&!t.bright||e.underLine&&!t.underLine||e.blink&&!t.blink||e.invert&&!t.invert?!0:n)&&(o=";"),!n&&e.bright||!t.bright||(o+="1;"),!n&&e.underLine||!t.underLine||(o+="4;"),!n&&e.blink||!t.blink||(o+="5;"),!n&&e.invert||!t.invert||(o+="7;"),C.defaultFg),i=C.defaultBg,s=-1==t.fg?r:t.fg,a=-1==e.fg?r:e.fg,t=-1==t.bg?i:t.bg,e=-1==e.bg?i:e.bg;return(n?s!=r:a!=s)&&(o+="3"+s+";"),(n?t!=i:e!=t)&&(o+="4"+t+";"),o?"["+o.substr(0,o.length-1)+"m":""},isFullWidth:function(e){e=e.charCodeAt(0);return"UTF-8"!=this.view.charset||this.forceFullWidth?127<e:4352<=e&&e<=4447||9001<=e&&e<=9002||11904<=e&&e<=12350||12352<=e&&e<=42191||44032<=e&&e<=55203||63744<=e&&e<=64255||65072<=e&&e<=65135||65280<=e&&e<=65376||65504<=e&&e<=65510},isTextWrappedRow:function(e){var t=this.getRowText(e,0,this.cols),n=t.lastIndexOf("\\");if(0<n){t=ht(t.substr(0,n)).length;if(77!=t&&78!=t)return!1;n=this.lines[e][t];if(7==n.fg&&0===n.bg&&n.bright)return!0}return!1},setPageState:function(){var e,t,n,o=this.rows-1,r=this.cols,i=this.getRowText(o,0,r);0<i.indexOf("請按任意鍵繼續")||0<i.indexOf("請按 空白鍵 繼續")?this.pageState=5:0===i.indexOf(" 編輯文章  (^Z/F1)說明 (^P/^G)插入符號/範本 (^X/^Q)離開")?this.pageState=6:gt(i)?this.pageState=3:(t=this.getRowText(0,0,r),this.isUnicolor(0,0,29)&&this.isUnicolor(0,r-20,r-10)?(n=t.indexOf("【主功能表】"),e=t.indexOf("【分類看板】"),t=t.indexOf("【精華文章】"),0===n||0===e||0===t||(n=i,new RegExp(/\[\d{1,2}\/\d{1,2} +星期. +\d{1,2}:\d{1,2}\] .+ 線上\d+人, 我是\w+ +\[呼叫器\](?:關閉|打開) /g).test(n))?this.pageState=1:this.isUnicolor(2,0,r-10)&&!this.isLineEmpty(1)&&(this.cur_x<19||this.cur_y==o)&&(this.pageState=2)):this.isUnicolor(o,28,53)&&this.cur_y==o&&this.cur_x==r-1&&(this.pageState=5),1!=this.pageState&&this.isLineEmpty(o)&&(this.pageState=0))},isUnicolor:function(e,t,n){for(var o=this.lines[e],r=o[t].getBg(),i=t;i<n;i++){var s=o[i].getBg();if(s!=r||0===s)return!1}return!0},isLineEmpty:function(e){this.rows;for(var t=this.lines[e],n=0;n<this.cols;n++)if(" "!=t[n].ch||t[n].getBg())return!1;return!0},onMouse_move:function(e,t,n){this.tempMouseCol=e,this.tempMouseRow=t,this.nowHighlight==t&&!n||this.clearHighlight();var o=this.rows-1,r=this.cols;switch(this.pageState){case 0:this.mouseCursor=0;break;case 4:1<t&&t<o-1?e<=6?(this.mouseCursor=1,this.clearHighlight()):r-16<=e?(this.mouseCursor=12<t?3:2,this.clearHighlight()):this.isLineEmpty(t)?this.mouseCursor=11:(this.mouseCursor=6,this.nowHighlight=t):this.mouseCursor=1==t||2==t?2:0===t?4:5;break;case 2:2<t&&t<o?e<=6?(this.mouseCursor=1,this.clearHighlight()):r-16<=e?(this.mouseCursor=12<t?3:2,this.clearHighlight()):this.isLineEmpty(t)?this.mouseCursor=11:(this.mouseCursor=6,this.nowHighlight=t):this.mouseCursor=1==t||2==t?e<2?8:r-5<e?9:2:0===t?e<2?10:r-5<e?9:4:e<2?12:r-5<e?13:5;break;case 3:this.mouseCursor=t==o?e<2?12:r-5<e?14:5:0===t?e<2?10:r-5<e?9:e<7?1:2:1==t||2==t?e<2?8:r-5<e?9:e<7?1:2:e<7?1:t<12?2:3;break;case 1:this.mouseCursor=0<t&&t<o?7<e?7:1:0;break;default:this.mouseCursor=0}this.BBSWin.style.cursor=Jt[this.mouseCursor]},resetMousePos:function(){this.useMouseBrowsing&&this.onMouse_move(this.tempMouseCol,this.tempMouseRow,!0)},setHighlight:function(e){this._nowHighlight=e,this.view.setHighlightedRow(e)},clearHighlight:function(){this.nowHighlight=-1,this.mouseCursor=0}});S(d={appName:{message:"PttChrome",description:"The title of the application, displayed in the web store."},appDesc:{message:"A GNU/GPL telnet client extension specifically designed for BBS browsing.",description:"The description of the application, displayed in the web store."},menu_coloredCopy:{message:"Copy with ANSI color"},menu_goToOtherSite:{message:"Other site"},menu_paste:{message:"Paste"},menu_selectAll:{message:"Select all"},menu_mouseBrowsing:{message:"Mouse"},menu_settings:{message:"Settings"},cmenu_copy:{message:"Copy"},cmenu_copyAnsi:{message:"Copy with ANSI colors"},cmenu_paste:{message:"Paste"},cmenu_selectAll:{message:"Select all"},cmenu_searchGoogle:{message:"Search Google for"},cmenu_quickSearch:{message:"Quick Search"},cmenu_openUrlNewTab:{message:"Open link in new tab"},cmenu_copyLinkUrl:{message:"Copy link address"},cmenu_mouseBrowsing:{message:"Mouse browsing"},cmenu_showInputHelper:{message:"Input helper ..."},cmenu_showLiveArticleHelper:{message:"Live article helper ..."},cmenu_settings:{message:"Settings"},cmenu_restartInTab:{message:"Restart PttChrome in a new tab"},options_general:{message:"General"},options_about:{message:"About"},options_enablePicPreview:{message:"Enable preview when hover on image URLs."},options_enableNotifications:{message:"Enable notifications when a message is received."},options_enableEasyReading:{message:"Enable easy reading article view. (experimental)"},options_endTurnsOnLiveUpdate:{message:"Press END turns on pushthread live update."},options_copyOnSelect:{message:"Copy text when selected."},options_preferences:{message:"Preferences"},options_antiIdleTime:{message:"Anti-idle interval (sec)"},options_lineWrap:{message:"Wrap line for pasting text longer than"},options_reset:{message:"Restore defaults"},options_appearance:{message:"Appearance"},options_bbsMargin:{message:"Margins around BBS view (px)"},options_fontSize:{message:"BBS font size"},options_termSize:{message:"BBS terminal size"},options_cols:{message:"Columns"},options_rows:{message:"Rows"}},"options_fontSize",{message:"Font size (px)"}),S(d,"options_fontSizeMax",{message:"Maximum font size (px)"}),S(d,"options_fixedTermSize",{message:"Fixed term size"}),S(d,"options_fixedFontSize",{message:"Fixed font size"}),S(d,"options_maxFontSize",{message:"Maximum-limited font size"}),S(d,"options_fontFitWindowWidth",{message:"Stretch font to fill the view"}),S(d,"options_fontFace",{message:"Font face"}),S(d,"options_mouse",{message:"Mouse"}),S(d,"options_mouseBrowsing",{message:"Mouse browsing"}),S(d,"options_useMouseBrowsing",{message:"Mouse browsing on start"}),S(d,"options_mouseBrowsingHighlight",{message:"Mouse browsing highlight effect"}),S(d,"options_highlightColor",{message:"Color"}),S(d,"options_mouseLeftFunction",{message:"Mouse left button"}),S(d,"options_mouseMiddleFunction",{message:"Mouse middle button"}),S(d,"options_mouseWheelFunction1",{message:"Mouse wheel"}),S(d,"options_mouseWheelFunction2",{message:"Right mouse key + mouse wheel"}),S(d,"options_mouseWheelFunction3",{message:"Left mouse key + mouse wheel"}),S(d,"options_none",{message:"No action"}),S(d,"options_doPaste",{message:"Perform 'Paste'"}),S(d,"options_leftKey",{message:"Sends LEFT key"}),S(d,"options_rightKey",{message:"Sends RIGHT key"}),S(d,"options_enterKey",{message:"Sends ENTER key"}),S(d,"options_upDown",{message:"Controls up / down"}),S(d,"options_pageUpDown",{message:"Controls pageup / pagedown"}),S(d,"options_threadLastNext",{message:"Controls thread previous / next"}),S(d,"about_appName_subtitle",{message:"An open source BBS client"}),S(d,"about_description",{message:"Originally written by #link_github_iamchucky#. This is a modified version by #link_github_robertabcd#. It supports connecting over Websocket, and works on most browsers. This fork is maintained by #link_github_current_owner#."}),S(d,"about_version_title",{message:"Version"}),S(d,"about_version_content",{message:["This version: #link_current_PttChrome#, #link_GPL20#.","Upstream version: #link_robertabcd_PttChrome#, #link_GPL20#.","Original version: webapp12 6/2/2015, #link_iamchucky_PttChrome#, #link_GPL20#."]}),S(d,"about_new_title",{message:"What's new"}),S(d,"about_new_content",{message:["Add Websocket connection support.","Partially rewrote using React."]}),S(d,"alert_developerModeHeader",{message:"Developer Mode"}),S(d,"alert_developerModeText",{message:"You are using developer mode. Things may break in this version of PttChrome. Use this at your own risk."}),S(d,"alert_developerModeDismiss",{message:"Yes, I understand."}),S(d,"alert_connectionHeader",{message:"You are disconnected!"}),S(d,"alert_connectionText",{message:"Would you like to reconnect to the site?"}),S(d,"alert_connectionReconnect",{message:"Reconnect (ENTER)"}),S(d,"alert_pasteShortcutHeader",{message:"Paste"}),S(d,"alert_pasteShortcutText",{message:"Please use Shift+Insert to paste"}),S(d,"alert_pasteShortcutClose",{message:"OK"}),S(d,"notification_said",{message:"says:"}),S(d,"inputHelperTitle",{message:"Input helper"}),S(d,"colorTitle",{message:"Color"}),S(d,"colorHelperSend",{message:"Send ANSI color code"}),S(d,"colorHelperSendMenuFore",{message:"Send foreground only"}),S(d,"colorHelperSendMenuBack",{message:"Send background only"}),S(d,"colorHelperSendMenuReset",{message:"Send reset code"}),S(d,"colorHelperBlink",{message:"Blink"}),S(d,"colorHelperPreview",{message:"▅ PREVIEW ▅"}),S(d,"colorHelperTooltip1",{message:"Left click: foreground color"}),S(d,"colorHelperTooltip2",{message:"Right click: background color, upper row only"}),S(d,"symTitle",{message:"Symbols"}),S(d,"symTitle_general",{message:"General"}),S(d,"symTitle_lineBorders",{message:"Line borders"}),S(d,"symTitle_blocks",{message:"Blocks"}),S(d,"symTitle_lines",{message:"Lines"}),S(d,"symTitle_special",{message:"Special"}),S(d,"symTitle_brackets",{message:"Brackets"}),S(d,"symTitle_greek",{message:"Greek"}),S(d,"symTitle_phonetic",{message:"Phonetic"}),S(d,"symTitle_math",{message:"Math"}),S(d,"symTitle_hiragana",{message:"Hiragana"}),S(d,"symTitle_katakana",{message:"Katakana"}),S(d,"emoTitle",{message:"Emoticons"}),S(d,"emoTitle_angry",{message:"Angry"}),S(d,"emoTitle_meh",{message:"Meh"}),S(d,"emoTitle_sweat",{message:"Sweat & awkward"}),S(d,"emoTitle_happy",{message:"Happy"}),S(d,"emoTitle_other",{message:"Others"}),S(d,"liveHelperEnable",{message:"Enable"}),S(d,"liveHelperSpan",{message:"pushthread refreshes every"}),S(d,"liveHelperSpanSec",{message:"sec"}),S(d,"tooltip_antiIdleTime",{message:"Input 0 to disable this feature."}),S(d,"tooltip_fontFace",{message:"Separate each font with a comma, start with the desired font and end with a generic font."});u=d;function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function tn(e,t){var n,o,r,i,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return o=!(n=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){o=!0,r=e},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}};if(Array.isArray(e)||(s=function(e,t){var n;if(e)return"string"==typeof e?nn(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}O(h={appName:{message:"PttChrome",description:"The title of the application, displayed in the web store."},appDesc:{message:"專為 BBS 瀏覽設計，採 GNU/GPL 授權的 telnet 連線程式套件",description:"The description of the application, displayed in the web store."},menu_coloredCopy:{message:"複製 (包含 ANSI 顏色)"},menu_goToOtherSite:{message:"其他站台"},menu_paste:{message:"貼上"},menu_selectAll:{message:"全選"},menu_mouseBrowsing:{message:"滑鼠瀏覽"},menu_settings:{message:"設定"},cmenu_copy:{message:"複製"},cmenu_copyAnsi:{message:"複製 (包含 ANSI 顏色)"},cmenu_paste:{message:"貼上"},cmenu_selectAll:{message:"全選"},cmenu_searchGoogle:{message:"在 Google 上搜尋"},cmenu_quickSearch:{message:"快速搜尋"},cmenu_openUrlNewTab:{message:"在新分頁中開啟連結"},cmenu_copyLinkUrl:{message:"複製連結網址"},cmenu_mouseBrowsing:{message:"滑鼠瀏覽"},cmenu_showInputHelper:{message:"輸入小幫手 ..."},cmenu_showLiveArticleHelper:{message:"Live 文小幫手 ..."},cmenu_settings:{message:"設定"},cmenu_restartInTab:{message:"在新分頁重新開啟 PttChrome"},options_general:{message:"一般"},options_about:{message:"關於"},options_enablePicPreview:{message:"當滑鼠在圖片連結上時顯示圖片預覽"},options_enableNotifications:{message:"啟用水球通知"},options_enableEasyReading:{message:"啟用文章好讀模式 (實驗性)"},options_endTurnsOnLiveUpdate:{message:"END 啟用推文即時更新 (如 Alt + r)"},options_copyOnSelect:{message:"選取文字時自動複製文字"},options_preferences:{message:"設定"},options_antiIdleTime:{message:"防閒置間隔 (秒)"},options_lineWrap:{message:"自動換行, 當貼上的字長於"},options_reset:{message:"設回預設值"},options_appearance:{message:"介面"},options_bbsMargin:{message:"BBS 周圍邊距 (像素)"},options_fontSize:{message:"BBS 字體大小"},options_termSize:{message:"BBS 終端機大小"},options_cols:{message:"寬"},options_rows:{message:"高"}},"options_fontSize",{message:"字體大小 (px)"}),O(h,"options_fontSizeMax",{message:"最大字體大小 (px)"}),O(h,"options_fixedTermSize",{message:"固定終端機大小"}),O(h,"options_fixedFontSize",{message:"固定字體大小"}),O(h,"options_maxFontSize",{message:"限制最大字體大小"}),O(h,"options_fontFitWindowWidth",{message:"把字體拉大來補滿畫面"}),O(h,"options_fontFace",{message:"字型"}),O(h,"options_mouseBrowsing",{message:"滑鼠瀏覽"}),O(h,"options_useMouseBrowsing",{message:"預設使用滑鼠瀏覽"}),O(h,"options_mouseBrowsingHighlight",{message:"啟用滑鼠瀏覽的底色效果"}),O(h,"options_highlightColor",{message:"底色"}),O(h,"options_mouseLeftFunction",{message:"滑鼠左鍵"}),O(h,"options_mouseMiddleFunction",{message:"滑鼠中鍵"}),O(h,"options_mouseWheelFunction1",{message:"滑鼠滾輪"}),O(h,"options_mouseWheelFunction2",{message:"滑鼠右鍵 + 滑鼠滾輪"}),O(h,"options_mouseWheelFunction3",{message:"滑鼠左鍵 + 滑鼠滾輪"}),O(h,"options_none",{message:"無動作"}),O(h,"options_doPaste",{message:"執行 '貼上'"}),O(h,"options_leftKey",{message:"送出左方向鍵"}),O(h,"options_rightKey",{message:"送出右方向鍵"}),O(h,"options_enterKey",{message:"送出ENTER鍵"}),O(h,"options_upDown",{message:"控制上 / 下"}),O(h,"options_pageUpDown",{message:"控制上頁 / 下頁"}),O(h,"options_threadLastNext",{message:"控制文章前篇 / 下篇"}),O(h,"about_appName_subtitle",{message:"開放原始碼的 BBS 瀏覽軟體"}),O(h,"about_description",{message:"原作者為 #link_github_iamchucky#。此版本是由 #link_github_robertabcd# 修改，使用 Websocket 加密連線，並支援大多數瀏覽器。本分支由 #link_github_current_owner# 維護。"}),O(h,"about_version_title",{message:"版本"}),O(h,"about_version_content",{message:["此版本：#link_current_PttChrome#, #link_GPL20#.","上游版本：#link_robertabcd_PttChrome#, #link_GPL20#.","原版本：webapp12 6/2/2015, #link_iamchucky_PttChrome#, #link_GPL20#."]}),O(h,"about_new_title",{message:"新功能"}),O(h,"about_new_content",{message:["加入 Websocket 連線","部分使用 React 重構"]}),O(h,"alert_developerModeHeader",{message:"開發者模式"}),O(h,"alert_developerModeText",{message:"您正在使用開發者模式。此版本的 PttChrome 並不穩定，無法保證所有功能會正常運作。"}),O(h,"alert_developerModeDismiss",{message:"是，我瞭解了"}),O(h,"alert_connectionHeader",{message:"你斷線了!"}),O(h,"alert_connectionText",{message:"現在要重新連線嗎?"}),O(h,"alert_connectionReconnect",{message:"重新連線 (ENTER)"}),O(h,"alert_pasteShortcutHeader",{message:"貼上"}),O(h,"alert_pasteShortcutText",{message:"請使用 Shift+Insert 快速鍵來貼上。"}),O(h,"alert_pasteShortcutClose",{message:"確定"}),O(h,"notification_said",{message:"說:"}),O(h,"inputHelperTitle",{message:"輸入小幫手"}),O(h,"colorTitle",{message:"上色"}),O(h,"colorHelperSend",{message:"送出 ANSI 顏色字元"}),O(h,"colorHelperSendMenuFore",{message:"只送出前景色彩"}),O(h,"colorHelperSendMenuBack",{message:"只送出背景色彩"}),O(h,"colorHelperSendMenuReset",{message:"送出色彩還原碼"}),O(h,"colorHelperBlink",{message:"閃爍"}),O(h,"colorHelperPreview",{message:"▅ 預 覽 ▅"}),O(h,"colorHelperTooltip1",{message:'點滑鼠"左"鍵選"前景"顏色'}),O(h,"colorHelperTooltip2",{message:'點滑鼠"右"鍵選"背景"顏色 (上排)'}),O(h,"symTitle",{message:"符號"}),O(h,"symTitle_general",{message:"一般"}),O(h,"symTitle_lineBorders",{message:"線條邊框"}),O(h,"symTitle_blocks",{message:"方塊"}),O(h,"symTitle_lines",{message:"線條"}),O(h,"symTitle_special",{message:"特殊"}),O(h,"symTitle_brackets",{message:"括弧"}),O(h,"symTitle_greek",{message:"希臘"}),O(h,"symTitle_phonetic",{message:"注音"}),O(h,"symTitle_math",{message:"數學"}),O(h,"symTitle_hiragana",{message:"平假名"}),O(h,"symTitle_katakana",{message:"片假名"}),O(h,"emoTitle",{message:"表情"}),O(h,"emoTitle_angry",{message:"生氣"}),O(h,"emoTitle_meh",{message:"酸民"}),O(h,"emoTitle_sweat",{message:"汗顏加三條線"}),O(h,"emoTitle_happy",{message:"開心"}),O(h,"emoTitle_other",{message:"其他"}),O(h,"liveHelperEnable",{message:"啟用"}),O(h,"liveHelperSpan",{message:"推文每"}),O(h,"liveHelperSpanSec",{message:"秒自動更新"}),O(h,"tooltip_antiIdleTime",{message:"輸入 0 可停用這功能。"}),O(h,"tooltip_fontFace",{message:"以逗號隔開，由欲套用的字型開始至較通用的字型。"});var on={en_us:u,zh_tw:h},rn={};function T(e){if(rn[e])return rn[e].message;console.log("missing i18n "+e)}function sn(){rn=on[function(){var e,t=tn(navigator.languages||[navigator.language||navigator.userLanguage||""]);try{for(t.s();!(e=t.n()).done;){var n=e.value;if((n=n.toLowerCase().replace("-","_"))in on)return n}}catch(e){t.e(e)}finally{t.f()}return"en_us"}()]}function an(e,t,n){return e?{timer:setInterval(t,n),cancel:function(){clearInterval(this.timer)}}:{timer:setTimeout(t,n),cancel:function(){clearTimeout(this.timer)}}}function ln(e,t){var n,o,r,i,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return o=!(n=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){o=!0,r=e},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}};if(Array.isArray(e)||(s=function(e,t){var n;if(e)return"string"==typeof e?cn(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function un(){function t(){return!o.bbscore.modalShown&&!o.bbscore.contextMenuShown}function n(e){return 229!=e.keyCode&&0!=e.keyCode&&!(o.isComposition&&!e.ctrlKey&&!e.altKey||e.metaKey)}var o=this,e=(this.bbsWidth=0,this.bbsHeight=0,this.dbcsDetect=!0,this.highlightBG=2,this.charset="big5",this.middleButtonFunction=0,this.leftButtonFunction=!1,this.mouseWheelFunction1=1,this.mouseWheelFunction2=2,this.mouseWheelFunction3=3,this.fontFitWindowWidth=!1,this.bbsViewMargin=0,this.buf=null,this.bbscore=null,this.page=null,this.cursorX=0,this.cursorY=0,this.useEasyReadingMode=!1,this.easyReadingKeyDownKeyCode=0,this.curRow=0,this.curCol=0,this.actualRowIndex=0,this.lineWrap=78,this.blinkOn=!1,this.componentScreen={setCurrentHighlighted:function(){}},this.selection=null,this.input=document.getElementById("t"),this.bbsCursor=document.getElementById("cursor"),this.BBSWin=document.getElementById("BBSWindow"),this.enablePicPreview=!0,this.scaleX=1,this.scaleY=1,document.createElement("style")),e=(document.head.appendChild(e),this.dynamicCss=e.sheet,this.innerBounds={width:0,height:0},this.firstGridOffset={top:0,left:0},this.enableNotifications=!0,this.titleTimer=null,this.notif=null,Object.defineProperty(this,"mainContainer",{get:function(){return $("#mainContainer")[0]}}),document.createElement("div")),e=(e.setAttribute("class","main"),this.BBSWin.appendChild(e),this.mainDisplay=e,document.createElement("div")),r=(e.setAttribute("id","easyReadingLastRow")," ".repeat(55)),r=(this.lastRowDivContent='<span align="left"><span class="q0 b7">'+r+'</span><span class="q1 b7">(y)</span><span class="q0 b7">回應</span><span class="q1 b7">(X%)</span><span class="q0 b7">推文</span><span class="q1 b7">(←)</span><span class="q0 b7">離開 </span> </span>',e.innerHTML=this.lastRowDivContent,this.lastRowDiv=e,this.BBSWin.appendChild(e),document.createElement("div"));r.setAttribute("id","easyReadingReplyRow"),this.replyRowDivContent='<span align="left"></span>',r.innerHTML=this.replyRowDivContent,this.replyRowDiv=r,this.BBSWin.appendChild(r),this.mainDisplay.style.border="0px",this.setFontFace("MingLiu,monospace"),this._keyboard=new nt(this.checkLeftDB.bind(this),this.checkCurDB.bind(this),this._send.bind(this)),this.input.addEventListener("compositionstart",function(e){o.onCompositionStart(e),o.bbscore.setInputAreaFocus()},!1),this.input.addEventListener("compositionend",function(e){o.onCompositionEnd(e),o.bbscore.setInputAreaFocus(),o.onInput(e)},!1);addEventListener("keypress",function(e){t()&&n(e)&&o._keyboard.onKeyPress(e)}),addEventListener("keydown",function(e){t()&&n(e)&&(e.altKey||o.bbscore.onDisableLiveHelperModalState(),15<e.keyCode&&e.keyCode<19||o.onKeyDown(e))},!1),addEventListener("keyup",function(e){!t()||15<e.keyCode&&e.keyCode<19||o.bbscore.setInputAreaFocus()},!1),this.input.addEventListener("input",function(e){o.onInput(e)},!1)}un.prototype={onBlink:function(){this.blinkOn=!0,this.buf.queueUpdate(!0)},setBuf:function(e){this.buf=e},setConn:function(e){this.conn=e},_send:function(e){this.conn&&this.conn.send(e)},_convSend:function(e){this.conn&&this.conn.convSend(e)},setCore:function(e){this.bbscore=e},_isConnected:function(){return this.bbscore.isConnected()&&!!this.conn},setFontFace:function(e){this.fontFace=e,this.input.style.setProperty("font-family",this.fontFace,"important"),this.mainDisplay.style.setProperty("font-family",this.fontFace,"important"),this.lastRowDiv.style.setProperty("font-family",this.fontFace,"important"),this.replyRowDiv.style.setProperty("font-family",this.fontFace,"important"),document.getElementById("cursor").style.setProperty("font-family",this.fontFace,"important")},update:function(){this.redraw(!1)},redraw:function(e){for(var t,n,o,r,i,s=this.buf.cols,a=this.buf.rows,l=this.buf.lineChangeds,c=[],u=[],d=this.buf.lines,f=0;f<a;++f){this.chh;var p=d[this.curRow=f];if(!1!==l[f]||e){var h=!1;this.chw;for(this.curCol=0;this.curCol<s;++this.curCol)h=!0;h&&(h=!1,c.push(p),u.push(f),l[f]=!1)}}0<c.length&&(this.useEasyReadingMode?this.buf.startedEasyReading&&this.buf.easyReadingShowReplyText?this.updateEasyReadingReplyRow(c[c.length-1]):this.buf.startedEasyReading&&this.buf.easyReadingShowPushInitText?this.updateEasyReadingPushInitRow(c[c.length-1]):this.populateEasyReadingPage():(this.componentScreen=(t=d.slice(),n=this.chh,o=!1,r=this.enablePicPreview,i=this.mainDisplay,ReactDOM.render(React.createElement(Xt,{lines:t,forceWidth:n,enableLinkInlinePreview:o,enableLinkHoverPreview:r}),i)),this.setHighlightedRow(this.buf.nowHighlight)),this.buf.prevPageState=this.buf.pageState)},setHighlightedRow:function(e){console.log("setHighlightedRow: ".concat(e,", this.buf.highlightCursor:").concat(this.buf.highlightCursor)),this.buf.highlightCursor&&this.componentScreen.setCurrentHighlighted(e)},onInput:function(e){this.bbscore.modalShown||this.bbscore.contextMenuShown||(this.isComposition?this.updateInputBufferWidth():(this.useEasyReadingMode&&this.buf.startedEasyReading&&!this.buf.easyReadingShowReplyText&&!this.buf.easyReadingShowPushInitText&&229==this.easyReadingKeyDownKeyCode&&"X"!=e.target.value||e.target.value&&this.onTextInput(e.target.value),e.target.value=""))},onTextInput:function(e,t){t&&(e=(e=(e=(e=(e=e.replace(/\r\n/g,"\r")).replace(/\n/g,"\r")).replace(/\r/g,"\r")).indexOf("")<0&&0<this.lineWrap?function(e,t,n){for(var o=e.match(/\r|\n|([^\x00-\x7f][,.?!:;]?[\t ]*)|([\x00-\x08\x0b\x0c\x0e-\x1f\x21-\x7f]+[\t ]*)|[\t ]+/g),r="",i=0,s=0;s<o.length;++s){var a=o[s].replace(/[^\x00-\x7f]/g,"  ").replace(/\t/,"    ").replace(/\r|\n/,"").length;t<(i="\r"!=o[s]&&"\n"!=o[s]?i:0)+a&&(r+=n,i=0),r+=o[s],i+=a}return r}(e,this.lineWrap,"\r"):e).replace(/\x1b/g,"")),this._convSend(e)},onKeyDown:function(e){if(!this.useEasyReadingMode||!this.buf.startedEasyReading||this.buf.easyReadingShowReplyText||this.buf.easyReadingShowPushInitText||(this.easyReadingKeyDownKeyCode=e.keyCode,this.bbscore.easyReading._onKeyDown(e),!e.defaultPrevented)){var t,n=!1;if(e.ctrlKey||e.altKey)if(!e.ctrlKey||e.altKey||e.shiftKey)e.ctrlKey&&!e.altKey&&e.shiftKey&&"V"===e.key.toLowerCase()&&(this.bbscore.doPaste(),n=!0);else switch(e.key.toLowerCase()){case"c":window.getSelection().isCollapsed||(t=window.getSelection().toString().replace(/\u00a0/g," "),this.bbscore.doCopy(t),n=!0);break;case"a":this.bbscore.doSelectAll(),n=!0}else"End"!==e.key||2!=this.bbscore.buf.pageState&&3!=this.bbscore.buf.pageState||!this.bbscore.endTurnsOnLiveUpdate||(this.bbscore.onToggleLiveHelperModalState(),n=!0);n?e.preventDefault():(this._keyboard.onKeyDown(e),e.defaultPrevented)}},setTermFontSize:function(e,t){var n=this.innerBounds,e=(this.chw=e,this.chh=t,this.chh+"px"),t=this.chw*this.buf.cols+10+"px",e=(this.mainDisplay.style.fontSize=e,this.mainDisplay.style.lineHeight=e,this.bbsCursor.style.fontSize=e,this.bbsCursor.style.lineHeight=e,this.mainDisplay.style.overflowX="hidden",this.mainDisplay.style.overflowY="auto",this.mainDisplay.style.textAlign="left",this.mainDisplay.style.width=t,this.mainDisplay.style.height=this.chh*this.buf.rows+10+"px",this.lastRowDiv.style.fontSize=e,this.lastRowDiv.style.width=t,this.replyRowDiv.style.fontSize=e,this.replyRowDiv.style.width=t,this.chh*this.buf.rows<n.height?this.mainDisplay.style.marginTop=(n.height-this.chh*this.buf.rows)/2+this.bbsViewMargin+"px":this.mainDisplay.style.marginTop=this.bbsViewMargin+"px",this.fontFitWindowWidth?(this.scaleX=Math.floor(n.width/(this.chw*this.buf.cols+10)*100)/100,this.scaleY=Math.floor(n.height/(this.chh*this.buf.rows)*100)/100):(this.scaleX=1,this.scaleY=1),"none");1!=this.scaleX||1!=this.scaleY?(e="scale("+this.scaleX+","+this.scaleY+")",t="left",this.mainDisplay.style.webkitTransformOriginX=t="center",this.lastRowDiv.style.webkitTransformOriginX=t,this.replyRowDiv.style.webkitTransformOriginX=t,this.lastRowDiv.style.webkitTransformOriginY="-1100%",this.replyRowDiv.style.webkitTransformOriginY="-1010%"):(this.lastRowDiv.style.webkitTransformOriginY="",this.replyRowDiv.style.webkitTransformOriginY=""),this.mainDisplay.style.webkitTransform=e,this.lastRowDiv.style.webkitTransform=e,this.replyRowDiv.style.webkitTransform=e,this.firstGridOffset=this.bbscore.getFirstGridOffsets(),this.updateReverseScaleCss(),this.updateCursorPos()},updateReverseScaleCss:function(){for(var e="img.hyperLinkPreview { -webkit-transform: scale("+Math.floor(1/this.scaleX*100)/100+","+Math.floor(1/this.scaleY*100)/100+"); }";0<this.dynamicCss.cssRules.length;)this.dynamicCss.deleteRule(0);this.dynamicCss.insertRule(e,this.dynamicCss.cssRules.length)},convertMN2XYEx:function(e,t){var n=this.innerBounds.width,o=this.innerBounds.height,n=1!=this.scaleX||1!=this.scaleY?[(n-(this.chw*this.buf.cols+10)*this.scaleX)/2+this.bbsViewMargin,(o-this.chh*this.buf.rows*this.scaleY)/2+this.bbsViewMargin]:[this.firstGridOffset.left,this.firstGridOffset.top];return[n[0]+e*this.chw*this.scaleX,n[1]+t*this.chh*this.scaleY]},checkLeftDB:function(){if(this.dbcsDetect&&1<this.buf.cur_x&&this.buf.lines[this.buf.cur_y][this.buf.cur_x-2].isLeadByte)return!0;return!1},checkCurDB:function(){if(this.dbcsDetect&&this.buf.lines[this.buf.cur_y][this.buf.cur_x].isLeadByte)return!0;return!1},updateCursorPos:function(){var e,t,n=this.convertMN2XYEx(this.buf.cur_x,this.buf.cur_y);this.buf.cur_y>=this.buf.rows||this.buf.cur_x>=this.buf.cols||(e=this.buf.lines[this.buf.cur_y][this.buf.cur_x].getBg(),1==this.scaleX&&1==this.scaleY?(this.bbsCursor.style.webkitTransform="none",this.lastRowDiv.style.webkitTransformOriginY="",this.replyRowDiv.style.webkitTransformOriginY=""):(t="scale("+this.scaleX+","+this.scaleY+")",this.mainDisplay.style.webkitTransform=t,this.lastRowDiv.style.webkitTransform=t,this.replyRowDiv.style.webkitTransform=t,this.bbsCursor.style.webkitTransform=t,this.bbsCursor.style.webkitTransformOriginX="left",this.lastRowDiv.style.webkitTransformOriginY="-1100%",this.replyRowDiv.style.webkitTransformOriginY="-1010%"),this.bbsCursor.style.left=n[0]+"px",this.bbsCursor.style.top=n[1]-this.scaleY+"px",this.bbsCursor.style.color=Zt[e],this.updateInputBufferPos())},updateInputBufferPos:function(){var e,t,n;"1"==this.input.getAttribute("bshow")&&(e=this.convertMN2XYEx(this.buf.cur_x,this.buf.cur_y),this.input.style.opacity="1",this.input.style.border="double",this.input.style.fontSize=this.chh-4+"px",this.input.style.height=this.chh+"px",t=(n=this.innerBounds).height,n=n.width,t<e[1]+parseFloat(this.input.style.height)+this.chh?this.input.style.top=e[1]-parseFloat(this.input.style.height)-this.chh+4+"px":this.input.style.top=e[1]+this.chh+"px",n<e[0]+parseFloat(this.input.style.width)?this.input.style.left=n-parseFloat(this.input.style.width)-10+"px":this.input.style.left=e[0]+"px")},updateInputBufferWidth:function(){var e=ht(this.input.value).length,t=this.chh/2-2,e=t*e,n=(this.input.style.width=e+"px",this.innerBounds);parseInt(this.input.style.left)+e+2*t>=n.width&&(this.input.style.left=n.width-e-2*t+"px")},onCompositionStart:function(e){this.input.setAttribute("bshow","1"),this.updateInputBufferPos(),this.isComposition=!0},onCompositionEnd:function(e){this.input.setAttribute("bshow","0"),this.input.style.border="none",this.input.style.width="1px",this.input.style.height="1px",this.input.style.left="-100000px",this.input.style.top="-100000px",this.input.style.opacity="0",this.isComposition=!1},fontResize:function(){var e=this.buf?this.buf.cols:80,t=this.buf?this.buf.rows:24,n=this.bbsWidth||this.innerBounds.width,o=this.bbsHeight||this.innerBounds.height;if(0!==n&&0!==o){n-=10;var r,i,s=4;for(this.chh,this.chw;r=2*++s*t,i=s*e,r<=o&&i<=n;);--s,this.fixedResize(2*s)}},fixedResize:function(e){for(var t=e,n=(this.setTermFontSize(e/2,t),document.querySelectorAll(".wpadding")),o=0;o<n.length;++o)n[o].style.width=t+"px"},calcTermSizeFromFont:function(e){e=2*Math.floor((e+1)/2);var t=this.bbsWidth||this.innerBounds.width,n=this.bbsHeight||this.innerBounds.height;return{cols:Math.max(80,Math.min(200,Math.floor(2*(t-10)/e))),rows:Math.max(24,Math.min(100,Math.floor(n/e)))}},calcFontSizeFromTerm:function(e,t){e=Math.max(80,Math.min(200,e)),t=Math.max(24,Math.min(100,t));var n=this.bbsWidth||this.innerBounds.width,o=this.bbsHeight||this.innerBounds.height,n=Math.floor(2*(n-10)/e),e=Math.floor(o/t);return Math.min(n,e)},getRowLineElement:function(e){for(var t=e;t&&t!=t.parentNode;t=t.parentNode)if(t instanceof Element&&"bbsline"==t.getAttribute("data-type"))return t;return null},countCol:function(r,i){var s,e=this.getRowLineElement(r);return e?(s=0,function e(t){if(t==r)return s+=ht(t.textContent.substring(0,i)).length,!1;if("#text"==t.nodeName)s+=ht(t.textContent).length;else{var n,o=ln(t.childNodes);try{for(o.s();!(n=o.n()).done;)if(!e(n.value))return!1}catch(e){o.e(e)}finally{o.f()}}return!0}(e),{row:parseInt(e.getAttribute("data-row")),col:s}):{row:0,col:0}},getSelectionColRow:function(){var e=window.getSelection().getRangeAt(0);return{start:this.countCol(e.startContainer,e.startOffset),end:this.countCol(e.endContainer,e.endOffset)}},showWaterballNotification:function(){var e,t,n;this.enableNotifications&&(e=this.bbscore,t=e.waterball.userId+" "+T("notification_said"),this.titleTimer&&(this.titleTimer.cancel(),this.titleTimer=null),this.titleTimer=an(!0,function(){document.title==e.connectedUrl.site?document.title=t+" "+e.waterball.message:document.title=e.connectedUrl.site},1500),n={icon:o(28),body:e.waterball.message,tag:e.waterball.userId},this.notif=new Notification(t,n),this.notif.onclick=function(){window.focus()})},populateEasyReadingPage:function(){if(3==this.buf.pageState&&3==this.buf.prevPageState){this.mainContainer.style.paddingBottom="1em";var e=gt(this.buf.getRowText(this.buf.rows-1,0,this.buf.cols));if(e){this.buf.pageLines.length;var t=1,n=!1;if(e.pageIndex==e.pageTotal&&100==e.pagePercent||e.rowIndexStart!=this.actualRowIndex){for(var n=e.rowIndexStart!=this.actualRowIndex,o=0,r=e.rowIndexStart;r<this.actualRowIndex+1;++r)o+=this.buf.pageWrappedLines[r];t=o}for(r=t;r<this.buf.rows-1;++r)0<r&&this.buf.isTextWrappedRow(r-1)?(this.buf.pageWrappedLines[this.actualRowIndex]+=1,n||r!=t||t++):this.buf.pageWrappedLines[++this.actualRowIndex]=1;this.appendRows(this.buf.lines.slice(t,-1),!0),this.buf.pageLines=this.buf.pageLines.concat(JSON.parse(JSON.stringify(this.buf.lines.slice(t,-1))))}this.buf.prevPageState=3}else{if(this.mainContainer.style.paddingBottom="",this.actualRowIndex=0,this.buf.pageWrappedLines=[],3==this.buf.pageState){this.buf.getRowText(this.buf.rows-1,0,this.buf.cols);for(r=0;r<this.buf.rows-1;++r)4==r||0<r&&this.buf.isTextWrappedRow(r-1)?this.buf.pageWrappedLines[this.actualRowIndex]+=1:this.buf.pageWrappedLines[++this.actualRowIndex]=1;this.clearRows(),this.appendRows(this.buf.lines.slice(0,-1),!0),this.lastRowDiv.innerHTML=this.lastRowDivContent,this.lastRowDiv.style.display="block",this.buf.pageLines=this.buf.pageLines.concat(JSON.parse(JSON.stringify(this.buf.lines.slice(0,-1))))}else this.hideEasyReading();this.buf.prevPageState=this.buf.pageState}},clearRows:function(){this.mainContainer.innerHTML=""},appendRows:function(e,t){for(var n in e){var n=e[n],o=document.createElement("span");o.setAttribute("type","bbsrow"),o.setAttribute("srow",this.mainContainer.childNodes.length),this.mainContainer.appendChild(o),Qt(n,this.mainContainer.childNodes.length,this.chh,t,o)}},renderSingleRow:function(e,t){var n=document.createElement("span");return n.setAttribute("type","bbsrow"),n.setAttribute("srow","0"),e.appendChild(n),Qt(t,0,this.chh,!1,n)},hideEasyReading:function(){this.lastRowDiv.style.display="",this.replyRowDiv.style.display="",this.buf.pageLines=[],this.clearRows(),this.appendRows(this.buf.lines,!1)},updateEasyReadingReplyRow:function(e){var t=document.createElement("span");t.style="background-color:black;",this.renderSingleRow(t,e),this.setSingleChild(this.replyRowDiv.childNodes[0],t),this.replyRowDiv.style.display="block"},updateEasyReadingPushInitRow:function(e){var t=document.createElement("span");t.style="background-color:black;",this.renderSingleRow(t,e),this.setSingleChild(this.lastRowDiv.childNodes[0],t)},setSingleChild:function(e,t){for(;0<e.childNodes.length;)e.removeChild(e.lastChild);e.appendChild(t)}};var dn="ÿ";function fn(e){this.socket=e,this.socket.addEventListener("open",this._onOpen.bind(this)),this.socket.addEventListener("data",this._onDataAvailable.bind(this)),this.socket.addEventListener("close",this._onClose.bind(this)),this.state=0,this.iac_sb="",this.termType="VT100"}function pn(e){this._conn=new WebSocket(e),this._conn.binaryType="arraybuffer",this._conn.addEventListener("open",this._onOpen.bind(this)),this._conn.addEventListener("message",this._onMessage.bind(this)),this._conn.addEventListener("error",this._onError.bind(this)),this._conn.addEventListener("close",this._onClose.bind(this))}ot.mixin(fn.prototype),fn.prototype._onOpen=function(e){this.dispatchEvent(new CustomEvent("open"))},fn.prototype._onClose=function(e){this.dispatchEvent(new CustomEvent("close"))},fn.prototype._onDataAvailable=function(e){for(var t=e.detail.data,n="",o=t.length;0<o;){for(var r=t,i=(o-=r.length,r.length),s=0;s<i;++s){var a,l=r[s];switch(this.state){case 0:l==dn?(n&&(this._dispatchData(n),n=""),this.state=1):n+=l;break;case 1:switch(l){case"û":this.state=2;break;case"ü":this.state=3;break;case"ý":this.state=4;break;case"þ":this.state=5;break;case"ú":this.state=6;break;default:this.state=0}break;case 2:switch(l){case"":case"":this._sendRaw("ÿý"+l);break;default:this._sendRaw("ÿþ"+l)}this.state=0;break;case 4:switch(l){case"":this._sendRaw("ÿû"+l);break;case"":this.dispatchEvent(new CustomEvent("doNaws"));break;default:this._sendRaw("ÿü"+l)}this.state=0;break;case 5:case 3:this.state=0;break;case 6:this.iac_sb+=l,"ÿð"==this.iac_sb.slice(-2)&&(""===this.iac_sb[0]&&(a="ÿú\0"+this.termType+dn+"ð",this._sendRaw(a)),this.state=0,this.iac_sb="")}}n&&(this._dispatchData(n),n="")}},fn.prototype._dispatchData=function(e){this.dispatchEvent(new CustomEvent("data",{detail:{data:e}}))},fn.prototype.send=function(e){this._sendRaw(e)},fn.prototype._sendRaw=function(e){e&&this.socket.send(e)},fn.prototype.convSend=function(e){e=ht(e);e&&(e=function(e){for(var t,n="",o=new RegExp("\\[(([0-9]+)?;)+50m","g"),r=[];t=o.exec(e);)r.push(t.index+t[0].length-4);if(0===r.length)return e;for(var i=0,s=0;s<r.length;++s){var a=r[s],l=e.substring(i,a).lastIndexOf("")+i;n+=e.substring(i,l)+"\0"+e.substring(a+4,a+5)+e.substring(l,a)+"m",i=a+5}return n+=e.substring(i)}(e),this._sendRaw(e))},fn.prototype.sendWillNaws=function(e,t){this._sendRaw("ÿû")},fn.prototype.sendNaws=function(e,t){e=String.fromCharCode(Math.floor(e/256),e%256,Math.floor(t/256),t%256).replace(/(\xff)/g,"ÿÿ");this._sendRaw("ÿú"+e+dn+"ð")},ot.mixin(pn.prototype),pn.prototype._onOpen=function(e){this.dispatchEvent(new CustomEvent("open"))},pn.prototype._onMessage=function(e){e=new Uint8Array(e.data);this.dispatchEvent(new CustomEvent("data",{detail:{data:String.fromCharCode.apply(String,e)}}))},pn.prototype._onError=function(e){this.dispatchEvent(new CustomEvent("error"))},pn.prototype._onClose=function(e){this.dispatchEvent(new CustomEvent("close"))},pn.prototype.send=function(e){for(var t=0;t<e.length;t+=1e3){var n=e.substring(t,t+1e3),n=new Uint8Array(n.split("").map(function(e){return e.charCodeAt(0)}));this._conn.send(n.buffer)}},pn.prototype.close=function(){this._conn.close()};o(26);function hn(e,t){return(hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mn(e,t){e.prototype=Object.create(t.prototype),hn(e.prototype.constructor=e,t)}function gn(n){return function(e){var t=Object(Y.createFactory)(e);return function(e){return t(n(e))}}}function yn(e,t){var n,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=t(e[n],n));return o}function bn(i){return function(e){var t=Object(Y.createFactory)(e);return function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=r.call.apply(r,[this].concat(n))||this).handlers=yn("function"==typeof i?i(t.props):i,function(e){return function(){return e(t.props).apply(void 0,arguments)}}),t}return mn(e,r),e.prototype.render=function(){return t(Q({},this.props,this.handlers))},e}(Y.Component)}}function vn(r,s){return function(e){var t=Object(Y.createFactory)(e);return function(o){function e(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(i=o.call.apply(o,[this].concat(t))||this).state="function"==typeof r?r(i.props):r,i.stateUpdaters=yn(s,function(r){return function(n){for(var e=arguments.length,o=new Array(1<e?e-1:0),t=1;t<e;t++)o[t-1]=arguments[t];n&&"function"==typeof n.persist&&n.persist(),i.setState(function(e,t){return r(e,t).apply(void 0,[n].concat(o))})}}),i}return mn(e,o),e.prototype.render=function(){return t(Q({},this.props,this.state,this.stateUpdaters))},e}(Y.Component)}}function wn(o){return function(e){var n=Object(Y.createFactory)(e),t=function(e){function t(){return e.apply(this,arguments)||this}return mn(t,e),t.prototype.render=function(){return n(Q({},this.props,this.state))},t}(Y.Component);return Object.keys(o).forEach(function(e){return t.prototype[e]=o[e]}),t}}var xn=o(19);o(83),o(57),o(42);Object.keys,Y.Component;function _n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}},function(e){return e})}var En={fromESObservable:null,toESObservable:null},m={fromESObservable:function(e){return"function"==typeof En.fromESObservable?En.fromESObservable(e):e},toESObservable:function(e){return"function"==typeof En.toESObservable?En.toESObservable(e):e}},Cn=function(){};function Sn(e,t){return void 0!==e[t]}function kn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function On(i,l,s){void 0===s&&(s=[]);var t,e=i.displayName||i.name||"Component",n=!!(n=i)&&("function"!=typeof n||n.prototype&&n.prototype.isReactComponent),c=Object.keys(l),a=c.map(kn),o=(!n&&s.length&&De()(!1),function(r){function e(){for(var a,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(a=r.call.apply(r,[this].concat(t))||this).handlers=Object.create(null),c.forEach(function(i){var s=l[i];a.handlers[s]=function(t){if(a.props[s]){var e;a._notifying=!0;for(var n=arguments.length,o=new Array(1<n?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(e=a.props)[s].apply(e,[t].concat(o)),a._notifying=!1}a.unmounted||a.setState(function(e){var e=e.values;return{values:Q(Object.create(null),e,((e={})[i]=t,e))}})}}),s.length&&(a.attachRef=function(e){a.inner=e});var o=Object.create(null);return c.forEach(function(e){o[e]=a.props[kn(e)]}),a.state={values:o,prevProps:{}},a}mn(e,r);var t=e.prototype;return t.shouldComponentUpdate=function(){return!this._notifying},e.getDerivedStateFromProps=function(t,e){var n=e.values,o=e.prevProps,r={values:Q(Object.create(null),n),prevProps:{}};return c.forEach(function(e){r.prevProps[e]=t[e],!Sn(t,e)&&Sn(o,e)&&(r.values[e]=t[kn(e)])}),r},t.componentWillUnmount=function(){this.unmounted=!0},t.render=function(){var n=this,e=this.props,t=e.innerRef,o=Z(e,["innerRef"]),r=(a.forEach(function(e){delete o[e]}),{});return c.forEach(function(e){var t=n.props[e];r[e]=void 0!==t?t:n.state.values[e]}),V.a.createElement(i,Q({},o,r,this.handlers,{ref:t||this.attachRef}))},e}(V.a.Component)),n=(Object(xn.polyfill)(o),o.displayName="Uncontrolled("+e+")",o.propTypes=Q({innerRef:function(){}},(t={},Object.keys(l).forEach(function(e){t[kn(e)]=Cn}),t)),s.forEach(function(t){o.prototype[t]=function(){var e;return(e=this.inner)[t].apply(e,arguments)}}),o);return V.a.forwardRef&&((n=V.a.forwardRef(function(e,t){return V.a.createElement(o,Q({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))})).propTypes=o.propTypes),n.ControlledComponent=i,n.deferControlTo=function(e,t,n){return On(e,Q({},l,t=void 0===t?{}:t),n)},n}var Tn=s.a.oneOfType([s.a.string,s.a.number]),g={id:function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,o=new Array(1<n?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(t=Tn.apply(void 0,[e].concat(o)))||e.id||(t=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return t},generateChildId:s.a.func,onSelect:s.a.func,activeKey:s.a.any},f={$bs_tabContainer:s.a.shape({activeKey:s.a.any,onSelect:s.a.func.isRequired,getTabId:s.a.func.isRequired,getPaneId:s.a.func.isRequired})},c=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.onSelect,o=e.generateChildId,r=e.id,i=o||function(e,t){return r?r+"-"+t+"-"+e:null};return{$bs_tabContainer:{activeKey:t,onSelect:n,getTabId:function(e){return i(e,"tab")},getPaneId:function(e){return i(e,"pane")}}}},n.render=function(){var e=this.props,t=e.children,e=v(e,["children"]);return delete e.generateChildId,delete e.onSelect,delete e.activeKey,V.a.cloneElement(V.a.Children.only(t),e)},t}(V.a.Component),p=(c.propTypes=g,c.childContextTypes=f,On(c,{activeKey:"onSelect"})),d={componentClass:t.a,animation:s.a.oneOfType([s.a.bool,t.a]),mountOnEnter:s.a.bool,unmountOnExit:s.a.bool},u={$bs_tabContainer:s.a.shape({activeKey:s.a.any})},h={$bs_tabContent:s.a.shape({bsClass:s.a.string,animation:s.a.oneOfType([s.a.bool,t.a]),activeKey:s.a.any,mountOnEnter:s.a.bool,unmountOnExit:s.a.bool,onPaneEnter:s.a.func.isRequired,onPaneExited:s.a.func.isRequired,exiting:s.a.bool.isRequired})},m=function(n){function e(e,t){e=n.call(this,e,t)||this;return e.handlePaneEnter=e.handlePaneEnter.bind(i(i(e))),e.handlePaneExited=e.handlePaneExited.bind(i(i(e))),e.state={activeKey:null,activeChild:null},e}r(e,n);var t=e.prototype;return t.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.animation,o=e.mountOnEnter,e=e.unmountOnExit,r=this.state.activeKey,i=this.getContainerActiveKey();return{$bs_tabContent:{bsClass:t,animation:n,activeKey:null!=r?r:i,mountOnEnter:o,unmountOnExit:e,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:null!=r&&r!==i}}},t.UNSAFE_componentWillReceiveProps=function(e){!e.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},t.componentWillUnmount=function(){this.isUnmounted=!0},t.getContainerActiveKey=function(){var e=this.context.$bs_tabContainer;return e&&e.activeKey},t.handlePaneEnter=function(e,t){return!!this.props.animation&&t===this.getContainerActiveKey()&&(this.setState({activeKey:t,activeChild:e}),!0)},t.handlePaneExited=function(t){this.isUnmounted||this.setState(function(e){return e.activeChild!==t?null:{activeKey:null,activeChild:null}})},t.render=function(){var e=this.props,t=e.componentClass,n=e.className,e=$e(v(e,["componentClass","className"]),["animation","mountOnEnter","unmountOnExit"]),o=e[0],e=e[1];return V.a.createElement(t,b({},e,{className:k()(n,w(o,"content"))}))},e}(V.a.Component),g=(m.propTypes=d,m.defaultProps={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},m.contextTypes=u,m.childContextTypes=h,l("tab",m)),f=(o(10),{eventKey:s.a.any,animation:s.a.oneOfType([s.a.bool,t.a]),id:s.a.string,"aria-labelledby":s.a.string,bsClass:s.a.string,onEnter:s.a.func,onEntering:s.a.func,onEntered:s.a.func,onExit:s.a.func,onExiting:s.a.func,onExited:s.a.func,mountOnEnter:s.a.bool,unmountOnExit:s.a.bool}),c={$bs_tabContainer:s.a.shape({getTabId:s.a.func,getPaneId:s.a.func}),$bs_tabContent:s.a.shape({bsClass:s.a.string,animation:s.a.oneOfType([s.a.bool,t.a]),activeKey:s.a.any,mountOnEnter:s.a.bool,unmountOnExit:s.a.bool,onPaneEnter:s.a.func.isRequired,onPaneExited:s.a.func.isRequired,exiting:s.a.bool.isRequired})},d={$bs_tabContainer:s.a.oneOf([null])},u=function(n){function e(e,t){e=n.call(this,e,t)||this;return e.handleEnter=e.handleEnter.bind(i(i(e))),e.handleExited=e.handleExited.bind(i(i(e))),e.in=!1,e}r(e,n);var t=e.prototype;return t.getChildContext=function(){return{$bs_tabContainer:null}},t.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},t.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},t.componentWillUnmount=function(){this.in&&this.handleExited()},t.getAnimation=function(){var e;return null!=this.props.animation?this.props.animation:(e=this.context.$bs_tabContent)&&e.animation},t.handleEnter=function(){var e=this.context.$bs_tabContent;e&&(this.in=e.onPaneEnter(this,this.props.eventKey))},t.handleExited=function(){var e=this.context.$bs_tabContent;e&&(e.onPaneExited(this),this.in=!1)},t.isActive=function(){var e=this.context.$bs_tabContent,e=e&&e.activeKey;return this.props.eventKey===e},t.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},t.render=function(){var e=this.props,t=e.eventKey,n=e.className,o=e.onEnter,r=e.onEntering,i=e.onEntered,s=e.onExit,a=e.onExiting,l=e.onExited,c=e.mountOnEnter,u=e.unmountOnExit,e=v(e,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),d=this.context,f=d.$bs_tabContent,d=d.$bs_tabContainer,e=$e(e,["animation"]),p=e[0],e=e[1],h=this.isActive(),m=this.getAnimation(),c=null!=c?c:f&&f.mountOnEnter,u=null!=u?u:f&&f.unmountOnExit;return h||m||!u?(m=!0===m?Se:m||null,f&&(p.bsClass=w(f,"pane")),p=b({},x(p),{active:h}),d&&(e.id=d.getPaneId(t),e["aria-labelledby"]=d.getTabId(t)),d=V.a.createElement("div",b({},e,{role:"tabpanel","aria-hidden":!h,className:k()(n,p)})),m?(t=f&&f.exiting,V.a.createElement(m,{in:h&&!t,onEnter:E(this.handleEnter,o),onEntering:r,onEntered:i,onExit:s,onExiting:a,onExited:E(this.handleExited,l),mountOnEnter:c,unmountOnExit:u},d)):d):null},e}(V.a.Component),Pn=(u.propTypes=f,u.contextTypes=c,u.childContextTypes=d,l("tab-pane",u)),h=b({},Pn.propTypes,{disabled:s.a.bool,title:s.a.node,tabClassName:s.a.string}),m=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=b({},this.props);return delete e.title,delete e.disabled,delete e.tabClassName,V.a.createElement(Pn,e)},t}(V.a.Component),Mn=(m.propTypes=h,m.Container=p,m.Content=g,m.Pane=Pn,m),f=o(6),Rn=o.n(f),c=o(12),d=o.n(c);var Nn={map:function(e,t,n){var o=0;return V.a.Children.map(e,function(e){return V.a.isValidElement(e)?t.call(n,e,o++):e})},forEach:function(e,t,n){var o=0;V.a.Children.forEach(e,function(e){V.a.isValidElement(e)&&t.call(n,e,o++)})},count:function(e){var t=0;return V.a.Children.forEach(e,function(e){V.a.isValidElement(e)&&++t}),t},find:function(e,t,n){var o,r=0;return V.a.Children.forEach(e,function(e){o||V.a.isValidElement(e)&&t.call(n,e,r++)&&(o=e)}),o},filter:function(e,t,n){var o=0,r=[];return V.a.Children.forEach(e,function(e){V.a.isValidElement(e)&&t.call(n,e,o++)&&r.push(e)}),r},every:function(e,t,n){var o=0,r=!0;return V.a.Children.forEach(e,function(e){!r||V.a.isValidElement(e)&&!t.call(n,e,o++)&&(r=!1)}),r},some:function(e,t,n){var o=0,r=!1;return V.a.Children.forEach(e,function(e){r||V.a.isValidElement(e)&&t.call(n,e,o++)&&(r=!0)}),r},toArray:function(e){var t=[];return V.a.Children.forEach(e,function(e){V.a.isValidElement(e)&&t.push(e)}),t}},u={activeKey:s.a.any,activeHref:s.a.string,stacked:s.a.bool,justified:d()(s.a.bool,function(e){var t=e.justified,e=e.navbar;return t&&e?Error("justified navbar `Nav`s are not supported"):null}),onSelect:s.a.func,role:s.a.string,navbar:s.a.bool,pullRight:s.a.bool,pullLeft:s.a.bool},h={$bs_navbar:s.a.shape({bsClass:s.a.string,onSelect:s.a.func}),$bs_tabContainer:s.a.shape({activeKey:s.a.any,onSelect:s.a.func.isRequired,getTabId:s.a.func.isRequired,getPaneId:s.a.func.isRequired})},p=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var t,n,e,o,r=this;this._needsRefocus&&(this._needsRefocus=!1,e=this.props.children,o=this.getActiveProps(),t=o.activeKey,n=o.activeHref,o=Nn.find(e,function(e){return r.isActive(e,t,n)}),e=Nn.toArray(e).indexOf(o),o=(o=oe.a.findDOMNode(this).children)&&o[e])&&o.firstChild&&o.firstChild.focus()},n.getActiveProps=function(){var e=this.context.$bs_tabContainer;return e||this.props},n.getNextActiveChild=function(e){var t=this,n=this.props.children,o=Nn.filter(n,function(e){return null!=e.props.eventKey&&!e.props.disabled}),r=this.getActiveProps(),i=r.activeKey,s=r.activeHref,r=Nn.find(n,function(e){return t.isActive(e,i,s)}),n=o.indexOf(r);return-1===n?o[0]:((r=o.length)<=(n=n+e)?n=0:n<0&&(n=r-1),o[n])},n.getTabProps=function(e,t,n,o,r){var i,s,a,l,c,u=this;return t||"tablist"===n?(i=(e=e.props).id,s=e["aria-controls"],a=e.eventKey,l=e.role,c=e.onKeyDown,e=e.tabIndex,t&&(i=t.getTabId(a),s=t.getPaneId(a)),"tablist"===n&&(l=l||"tab",c=E(function(e){return u.handleTabKeyDown(r,e)},c),e=o?e:-1),{id:i,role:l,onKeyDown:c,"aria-controls":s,tabIndex:e}):null},n.handleTabKeyDown=function(e,t){var n;switch(t.keyCode){case Rn.a.codes.left:case Rn.a.codes.up:n=this.getNextActiveChild(-1);break;case Rn.a.codes.right:case Rn.a.codes.down:n=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&n&&null!=n.props.eventKey&&e(n.props.eventKey),this._needsRefocus=!0},n.isActive=function(e,t,n){e=e.props;return!!(e.active||null!=t&&e.eventKey===t||n&&e.href===n)||e.active},n.render=function(){var e,t,o=this,n=this.props,r=n.stacked,i=n.justified,s=n.onSelect,a=n.role,l=n.navbar,c=n.pullRight,u=n.pullLeft,d=n.className,f=n.children,n=v(n,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),p=this.context.$bs_tabContainer,h=a||(p?"tablist":null),a=this.getActiveProps(),m=a.activeKey,g=a.activeHref,a=(delete n.activeKey,delete n.activeHref,_(n)),n=a[0],a=a[1],r=b({},x(n),((e={})[w(n,"stacked")]=r,e[w(n,"justified")]=i,e)),y=null!=l?l:this.context.$bs_navbar,i=y?(r[w(n=this.context.$bs_navbar||{bsClass:"navbar"},"nav")]=!0,t=w(n,"right"),w(n,"left")):(t="pull-right","pull-left");return r[t]=c,r[i]=u,V.a.createElement("ul",b({},a,{role:h,className:k()(d,r)}),Nn.map(f,function(e){var t=o.isActive(e,m,g),n=E(e.props.onSelect,s,y&&y.onSelect,p&&p.onSelect);return Object(Y.cloneElement)(e,b({},o.getTabProps(e,p,h,t,n),{active:t,activeKey:m,activeHref:g,onSelect:n}))}))},t}(V.a.Component),Dn=(p.propTypes=u,p.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},p.contextTypes=h,l("nav",Ue(["tabs","pills"],p))),g={href:s.a.string,onClick:s.a.func,onKeyDown:s.a.func,disabled:s.a.bool,role:s.a.string,tabIndex:s.a.oneOfType([s.a.number,s.a.string]),componentClass:t.a};function Ln(e){return!e||"#"===e.trim()}var m=function(n){function e(e,t){e=n.call(this,e,t)||this;return e.handleClick=e.handleClick.bind(i(i(e))),e.handleKeyDown=e.handleKeyDown.bind(i(i(e))),e}r(e,n);var t=e.prototype;return t.handleClick=function(e){var t=this.props,n=t.disabled,o=t.href,t=t.onClick;(n||Ln(o))&&e.preventDefault(),n?e.stopPropagation():t&&t(e)},t.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},t.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,o=e.onKeyDown,e=v(e,["componentClass","disabled","onKeyDown"]);return Ln(e.href)&&(e.role=e.role||"button",e.href=e.href||"#"),n&&(e.tabIndex=-1,e.style=b({pointerEvents:"none"},e.style)),V.a.createElement(t,b({},e,{onClick:this.handleClick,onKeyDown:E(this.handleKeyDown,o)}))},e}(V.a.Component),An=(m.propTypes=g,m.defaultProps={componentClass:"a"},m),f={active:s.a.bool,disabled:s.a.bool,role:s.a.string,href:s.a.string,onClick:s.a.func,onSelect:s.a.func,eventKey:s.a.any},c=function(n){function e(e,t){e=n.call(this,e,t)||this;return e.handleClick=e.handleClick.bind(i(i(e))),e}r(e,n);var t=e.prototype;return t.handleClick=function(e){this.props.disabled?e.preventDefault():this.props.onSelect&&this.props.onSelect(this.props.eventKey,e)},t.render=function(){var e=this.props,t=e.active,n=e.disabled,o=e.onClick,r=e.className,i=e.style,e=v(e,["active","disabled","onClick","className","style"]);return delete e.onSelect,delete e.eventKey,delete e.activeKey,delete e.activeHref,e.role?"tab"===e.role&&(e["aria-selected"]=t):"#"===e.href&&(e.role="button"),V.a.createElement("li",{role:"presentation",className:k()(r,{active:t,disabled:n}),style:i},V.a.createElement(An,b({},e,{disabled:n,onClick:E(o,this.handleClick)})))},e}(V.a.Component),Bn=(c.propTypes=f,c.defaultProps={active:!1,disabled:!1},c),u=o(41),h=o.n(u),p={active:s.a.bool,disabled:s.a.bool,block:s.a.bool,onClick:s.a.func,componentClass:t.a,href:s.a.string,type:s.a.oneOf(["button","reset","submit"])},g=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.renderAnchor=function(e,t){return V.a.createElement(An,b({},e,{className:k()(t,e.disabled&&"disabled")}))},n.renderButton=function(e,t){var n=e.componentClass,e=v(e,["componentClass"]);return V.a.createElement(n||"button",b({},e,{type:e.type||"button",className:t}))},n.render=function(){var e=this.props,t=e.active,n=e.block,o=e.className,e=_(v(e,["active","block","className"])),r=e[0],e=e[1],r=b({},x(r),((t={active:t})[w(r,"block")]=n,t)),n=k()(o,r);return e.href?this.renderAnchor(e,n):this.renderButton(e,n)},t}(V.a.Component),Fn=(g.propTypes=p,g.defaultProps={active:!1,block:!1,disabled:!1},l("btn",We([e,n,Le],Ue(h()(Fe).concat([Ie,He,a]),Ie,g)))),m={inline:s.a.bool,disabled:s.a.bool,title:s.a.string,validationState:s.a.oneOf(["success","warning","error",null]),inputRef:s.a.func},f=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,o=e.validationState,r=e.inputRef,i=e.className,s=e.style,a=e.title,l=e.children,e=_(v(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),c=e[0],e=e[1],e=V.a.createElement("input",b({},e,{ref:r,type:"checkbox",disabled:n}));return t?((r={})[w(c,"inline")]=!0,r.disabled=n,t=r,V.a.createElement("label",{className:k()(i,t),style:s,title:a},e,l)):(r=b({},x(c),{disabled:n}),o&&(r["has-"+o]=!0),V.a.createElement("div",{className:k()(i,r),style:s},V.a.createElement("label",{title:a},e,l)))},t}(V.a.Component),In=(f.propTypes=m,f.defaultProps={inline:!1,disabled:!1,title:""},l("checkbox",f)),c={controlId:s.a.string,validationState:s.a.oneOf(["success","warning","error",null])},u={$bs_formGroup:s.a.object.isRequired},p=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.getChildContext=function(){var e=this.props;return{$bs_formGroup:{controlId:e.controlId,validationState:e.validationState}}},n.hasFeedback=function(e){var t=this;return Nn.some(e,function(e){return"feedback"===e.props.bsRole||e.props.children&&t.hasFeedback(e.props.children)})},n.render=function(){var e=this.props,t=e.validationState,n=e.className,o=e.children,e=$e(v(e,["validationState","className","children"]),["controlId"]),r=e[0],e=e[1],r=b({},x(r),{"has-feedback":this.hasFeedback(o)});return t&&(r["has-"+t]=!0),V.a.createElement("div",b({},e,{className:k()(n,r)}),o)},t}(V.a.Component),P=(p.propTypes=c,p.childContextTypes=u,l("form-group",We([e,n],p))),Le={htmlFor:s.a.string,srOnly:s.a.bool},He={$bs_formGroup:s.a.object},a=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,e=e&&e.controlId,t=this.props,n=t.htmlFor,e=void 0===n?e:n,n=t.srOnly,o=t.className,t=_(v(t,["htmlFor","srOnly","className"])),r=t[0],t=t[1],r=b({},x(r),{"sr-only":n});return V.a.createElement("label",b({},t,{htmlFor:e,className:k()(o,r)}))},t}(V.a.Component),M=(a.propTypes=Le,a.defaultProps={srOnly:!1},a.contextTypes=He,l("control-label",a)),Ie=o(87),Hn=o.n(Ie),g=o(11),jn=o.n(g),m=o(61),Un=o.n(m),f=b({},Un.a.propTypes,{show:s.a.bool,rootClose:s.a.bool,onHide:s.a.func,animation:s.a.oneOfType([s.a.bool,t.a]),onEnter:s.a.func,onEntering:s.a.func,onEntered:s.a.func,onExit:s.a.func,onExiting:s.a.func,onExited:s.a.func,placement:s.a.oneOf(["top","right","bottom","left"])}),c={animation:Se,rootClose:!1,show:!1,placement:"right"},u=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.animation,n=e.children,e=v(e,["animation","children"]),t=!0===t?Se:t||null,n=t?n:Object(Y.cloneElement)(n,{className:k()(n.props.className,"in")});return V.a.createElement(Un.a,b({},e,{transition:t}),n)},t}(V.a.Component),Wn=(u.propTypes=f,u.defaultProps=c,u);function Kn(e,t){return Hn()(t)?0<=t.indexOf(e):e===t}var p=s.a.oneOf(["click","hover","focus"]),Le=b({},Wn.propTypes,{trigger:s.a.oneOfType([p,s.a.arrayOf(p)]),delay:s.a.number,delayShow:s.a.number,delayHide:s.a.number,defaultOverlayShown:s.a.bool,overlay:s.a.node.isRequired,onBlur:s.a.func,onClick:s.a.func,onFocus:s.a.func,onMouseOut:s.a.func,onMouseOver:s.a.func,target:s.a.oneOf([null]),onHide:s.a.oneOf([null]),show:s.a.oneOf([null])}),He=function(o){function e(e,t){var n=o.call(this,e,t)||this;return n.handleToggle=n.handleToggle.bind(i(i(n))),n.handleDelayedShow=n.handleDelayedShow.bind(i(i(n))),n.handleDelayedHide=n.handleDelayedHide.bind(i(i(n))),n.handleHide=n.handleHide.bind(i(i(n))),n.handleMouseOver=function(e){return n.handleMouseOverOut(n.handleDelayedShow,e,"fromElement")},n.handleMouseOut=function(e){return n.handleMouseOverOut(n.handleDelayedHide,e,"toElement")},n._mountNode=null,n.state={show:e.defaultOverlayShown},n}r(e,o);var t=e.prototype;return t.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},t.componentDidUpdate=function(){this.renderOverlay()},t.componentWillUnmount=function(){oe.a.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},t.handleDelayedHide=function(){var e,t=this;null!=this._hoverShowDelay?(clearTimeout(this._hoverShowDelay),this._hoverShowDelay=null):this.state.show&&null==this._hoverHideDelay&&((e=null!=this.props.delayHide?this.props.delayHide:this.props.delay)?this._hoverHideDelay=setTimeout(function(){t._hoverHideDelay=null,t.hide()},e):this.hide())},t.handleDelayedShow=function(){var e,t=this;null!=this._hoverHideDelay?(clearTimeout(this._hoverHideDelay),this._hoverHideDelay=null):this.state.show||null!=this._hoverShowDelay||((e=null!=this.props.delayShow?this.props.delayShow:this.props.delay)?this._hoverShowDelay=setTimeout(function(){t._hoverShowDelay=null,t.show()},e):this.show())},t.handleHide=function(){this.hide()},t.handleMouseOverOut=function(e,t,n){var o=t.currentTarget,n=t.relatedTarget||t.nativeEvent[n];n&&n===o||jn()(o,n)||e(t)},t.handleToggle=function(){this.state.show?this.hide():this.show()},t.hide=function(){this.setState({show:!1})},t.makeOverlay=function(e,t){return V.a.createElement(Wn,b({},t,{show:this.state.show,onHide:this.handleHide,target:this}),e)},t.show=function(){this.setState({show:!0})},t.renderOverlay=function(){oe.a.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},t.render=function(){var e=this.props,t=e.trigger,n=e.overlay,o=e.children,r=e.onBlur,i=e.onClick,s=e.onFocus,a=e.onMouseOut,l=e.onMouseOver,e=v(e,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]),o=(delete e.delay,delete e.delayShow,delete e.delayHide,delete e.defaultOverlayShown,V.a.Children.only(o)),c=o.props,u={};return this.state.show&&(u["aria-describedby"]=n.props.id),u.onClick=E(c.onClick,i),Kn("click",t)&&(u.onClick=E(u.onClick,this.handleToggle)),Kn("hover",t)&&(u.onMouseOver=E(c.onMouseOver,l,this.handleMouseOver),u.onMouseOut=E(c.onMouseOut,a,this.handleMouseOut)),Kn("focus",t)&&(u.onFocus=E(c.onFocus,s,this.handleDelayedShow),u.onBlur=E(c.onBlur,r,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,e),Object(Y.cloneElement)(o,u)},e}(V.a.Component),zn=(He.propTypes=Le,He.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]},He),a=o(20),Ie=o.n(a),g={id:Ie()(s.a.oneOfType([s.a.string,s.a.number])),placement:s.a.oneOf(["top","right","bottom","left"]),positionTop:s.a.oneOfType([s.a.number,s.a.string]),positionLeft:s.a.oneOfType([s.a.number,s.a.string]),arrowOffsetTop:s.a.oneOfType([s.a.number,s.a.string]),arrowOffsetLeft:s.a.oneOfType([s.a.number,s.a.string]),title:s.a.node},m=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.placement,n=e.positionTop,o=e.positionLeft,r=e.arrowOffsetTop,i=e.arrowOffsetLeft,s=e.title,a=e.className,l=e.style,c=e.children,e=_(v(e,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"])),u=e[0],e=e[1],t=b({},x(u),((d={})[t]=!0,d)),d=b({display:"block",top:n,left:o},l),n={top:r,left:i};return V.a.createElement("div",b({},e,{role:"tooltip",className:k()(a,t),style:d}),V.a.createElement("div",{className:"arrow",style:n}),s&&V.a.createElement("h3",{className:w(u,"title")},s),V.a.createElement("div",{className:w(u,"content")},c))},t}(V.a.Component),$n=(m.propTypes=g,m.defaultProps={placement:"right"},l("popover",m)),f={glyph:s.a.string.isRequired},c=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,o=t.className,t=_(v(t,["glyph","className"])),r=t[0],t=t[1],r=b({},x(r),((e={})[w(r,n)]=!0,e));return V.a.createElement("span",b({},t,{className:k()(o,r)}))},t}(V.a.Component),qn=(c.propTypes=f,l("glyphicon",c)),u={$bs_formGroup:s.a.object},p=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},n.renderDefaultFeedback=function(e,t,n,o){e=this.getGlyph(e&&e.validationState);return e?V.a.createElement(qn,b({},o,{glyph:e,className:k()(t,n)})):null},n.render=function(){var e=this.props,t=e.className,n=e.children,e=_(v(e,["className","children"])),o=e[0],e=e[1],o=x(o);return n?(n=V.a.Children.only(n),V.a.cloneElement(n,b({},e,{className:k()(n.props.className,t,o)}))):this.renderDefaultFeedback(this.context.$bs_formGroup,t,o,e)},t}(V.a.Component),Le=(p.defaultProps={bsRole:"feedback"},p.contextTypes=u,l("form-control-feedback",p)),He={componentClass:t.a},a=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,e=_(v(e,["componentClass","className"])),o=e[0],e=e[1],o=x(o);return V.a.createElement(t,b({},e,{className:k()(n,o)}))},t}(V.a.Component),g=(a.propTypes=He,a.defaultProps={componentClass:"p"},l("form-control-static",a)),m={componentClass:t.a,type:s.a.string,id:s.a.string,inputRef:s.a.func},f={$bs_formGroup:s.a.object},c=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,t=this.context.$bs_formGroup,t=t&&t.controlId,n=this.props,o=n.componentClass,r=n.type,i=n.id,t=void 0===i?t:i,i=n.inputRef,s=n.className,a=n.bsSize,n=_(v(n,["componentClass","type","id","inputRef","className","bsSize"])),l=n[0],n=n[1];return"file"!==r&&(e=x(l)),a&&(e[w({bsClass:"input"},Ae[a]||a)]=!0),V.a.createElement(o,b({},n,{type:r,id:t,ref:i,className:k()(s,e)}))},t}(V.a.Component),R=(c.propTypes=m,c.defaultProps={componentClass:"input"},c.contextTypes=f,c.Feedback=Le,c.Static=g,l("form-control",We([n,e],c)));function Gn(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function Xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gn(Object(n),!0).forEach(function(e){Yn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(e){try{window.localStorage.setItem(to,JSON.stringify({values:e}))}catch(e){}return e}function Qn(e,t){return(e=T(e)).map&&e.map.call?e.map(function(e){return oo(e,t)}):oo(e,t)}function Zn(e,t){return V.a.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},e)}function Jn(e,t,n){var o,r=t.indexOf(".");return 0<r?(o=t.substring(0,r),r=t.substring(r+1),Xn(Xn({},e),{},Yn({},o,Jn(e[o],r,n)))):Xn(Xn({},e),{},Yn({},t,n))}var eo={enablePicPreview:!0,enableNotifications:!0,enableEasyReading:!1,endTurnsOnLiveUpdate:!1,copyOnSelect:!1,antiIdleTime:0,lineWrap:78,useMouseBrowsing:!1,mouseBrowsingHighlight:!0,mouseBrowsingHighlightColor:2,mouseLeftFunction:0,mouseMiddleFunction:0,mouseWheelFunction1:1,mouseWheelFunction2:2,mouseWheelFunction3:3,fontFitWindowWidth:!1,fontFace:"MingLiu,SymMingLiu,monospace",fontSize:999,termSize:{cols:80,rows:24},termSizeMode:"max-font-size",bbsMargin:0},to="pttchrome.pref.v1",no=function(){try{return Xn(Xn({},eo),JSON.parse(window.localStorage.getItem(to)).values)}catch(e){return Xn({},eo)}},oo=function(e,n){return e.split(/#(\S+)#/gi).map(function(e,t){return t%2==1&&e in n?n[e]:e})},ro=_n(vn(function(){return{navActiveKey:"general",values:no(),replacements:{link_github_iamchucky:Zn("Chuck Yang","https://github.com/iamchucky"),link_github_robertabcd:Zn("robertabcd","https://github.com/robertabcd"),link_robertabcd_PttChrome:Zn("robertabcd/PttChrome","https://github.com/robertabcd/PttChrome"),link_github_current_owner:Zn("clamtestbbs","https://github.com/clamtestbbs"),link_current_PttChrome:Zn("clamtestbbs/PttChrome","https://github.com/clamtestbbs/PttChrome"),link_iamchucky_PttChrome:Zn("iamchucky/PttChrome","https://github.com/iamchucky/PttChrome"),link_GPL20:Zn("General Public License v2.0","https://www.gnu.org/licenses/old-licenses/gpl-2.0.html")}}},{onCloseClick:function(e,t){var n=e.values,o=t.onSave;return function(){return o(Vn(n))}},onResetClick:function(e,t){var n=t.onReset;return function(){return n(Vn(Xn({},eo)))}},onNavSelect:function(){return function(e){return{navActiveKey:e}}},onCheckboxChange:function(e){var n=e.values;return function(e){var e=e.target,t=e.name,e=e.checked;return{values:Jn(n,t,!!e)}}},onNumberInputChange:function(e){var n=e.values;return function(e){var e=e.target,t=e.name,e=e.value;return{values:Jn(n,t,parseInt(e,10))}}},onTextInputChange:function(e){var n=e.values;return function(e){var e=e.target,t=e.name,e=e.value;return{values:Jn(n,t,e)}}}}))(function(e){var t=e.show,n=e.onCloseClick,o=e.onResetClick,r=e.navActiveKey,i=e.onNavSelect,s=e.values,a=e.onCheckboxChange,l=e.onNumberInputChange,c=e.onTextInputChange,e=e.replacements;return V.a.createElement(Qe,{show:t,onHide:n,className:"PrefModal"},V.a.createElement(Qe.Body,null,V.a.createElement(Mn.Container,{activeKey:r,onSelect:i},V.a.createElement("div",{className:"PrefModal__Grid"},V.a.createElement("div",{className:"PrefModal__Grid__Col--left"},V.a.createElement("h3",null,T("menu_settings")),V.a.createElement(Dn,{bsStyle:"pills",stacked:!0},V.a.createElement(Bn,{eventKey:"general"},T("options_general")),V.a.createElement(Bn,{eventKey:"about"},T("options_about"))),V.a.createElement(Fn,{className:"PrefModal__Grid__Col--left__Reset",onClick:o},T("options_reset"))),V.a.createElement("div",{className:"PrefModal__Grid__Col--right"},V.a.createElement(Mn.Content,{animation:!0},V.a.createElement(Mn.Pane,{eventKey:"general"},V.a.createElement("fieldset",{className:"PrefModal__Grid__Col--right__Fieldset"},V.a.createElement("legend",null,T("options_general"),V.a.createElement("button",{type:"button",className:"close",onClick:n},"×")),V.a.createElement(In,{name:"enablePicPreview",checked:s.enablePicPreview,onChange:a},T("options_enablePicPreview")),V.a.createElement(In,{name:"enableNotifications",checked:s.enableNotifications,onChange:a},T("options_enableNotifications")),V.a.createElement(In,{name:"enableEasyReading",checked:s.enableEasyReading,onChange:a},T("options_enableEasyReading")),V.a.createElement(In,{name:"endTurnsOnLiveUpdate",checked:s.endTurnsOnLiveUpdate,onChange:a},T("options_endTurnsOnLiveUpdate")),V.a.createElement(In,{name:"copyOnSelect",checked:s.copyOnSelect,onChange:a},T("options_copyOnSelect")),V.a.createElement(P,{controlId:"antiIdleTime"},V.a.createElement(M,null,T("options_antiIdleTime")),V.a.createElement(zn,{trigger:"focus",placement:"right",overlay:V.a.createElement($n,{id:"tooltip_antiIdleTime"},T("tooltip_antiIdleTime"))},V.a.createElement(R,{name:"antiIdleTime",type:"number",value:s.antiIdleTime,onChange:l}))),V.a.createElement(P,{controlId:"lineWrap"},V.a.createElement(M,null,T("options_lineWrap")),V.a.createElement(R,{name:"lineWrap",type:"number",value:s.lineWrap,onChange:l}))),V.a.createElement("fieldset",{className:"PrefModal__Grid__Col--right__Fieldset"},V.a.createElement("legend",null,T("options_appearance")),V.a.createElement(P,{controlId:"fontFace"},V.a.createElement(M,null,T("options_fontFace")),V.a.createElement(zn,{trigger:"focus",placement:"right",overlay:V.a.createElement($n,{id:"tooltip_fontFace"},T("tooltip_fontFace"))},V.a.createElement(R,{name:"fontFace",type:"text",value:s.fontFace,onChange:c}))),V.a.createElement(P,{controlId:"bbsMargin"},V.a.createElement(M,null,T("options_bbsMargin")),V.a.createElement(R,{name:"bbsMargin",type:"number",value:s.bbsMargin,onChange:l})),V.a.createElement(P,{controlId:"termSizeMode"},V.a.createElement(M,null,T("options_termSize")),V.a.createElement(R,{componentClass:"select",name:"termSizeMode",value:s.termSizeMode,onChange:c},V.a.createElement("option",{key:"options_fixedTermSize",value:"fixed-term-size"},T("options_fixedTermSize")),V.a.createElement("option",{key:"options_fixedFontSize",value:"fixed-font-size"},T("options_fixedFontSize")),V.a.createElement("option",{key:"options_maxFontSize",value:"max-font-size"},T("options_maxFontSize")))),function(){switch(s.termSizeMode){case"fixed-term-size":return V.a.createElement("div",null,V.a.createElement(P,{controlId:"termSize_cols"},V.a.createElement(M,null,T("options_cols")),V.a.createElement(R,{name:"termSize.cols",type:"number",value:s.termSize.cols,onChange:l})),V.a.createElement(P,{controlId:"termSize_rows"},V.a.createElement(M,null,T("options_rows")),V.a.createElement(R,{name:"termSize.rows",type:"number",value:s.termSize.rows,onChange:l})),V.a.createElement(In,{name:"fontFitWindowWidth",checked:s.fontFitWindowWidth,onChange:a},T("options_fontFitWindowWidth")));case"fixed-font-size":return V.a.createElement(P,{controlId:"fontSize"},V.a.createElement(M,null,T("options_fontSize")),V.a.createElement(R,{name:"fontSize",type:"number",value:s.fontSize,onChange:l}));case"max-font-size":return V.a.createElement(P,{controlId:"fontSize"},V.a.createElement(M,null,T("options_fontSizeMax")),V.a.createElement(R,{name:"fontSize",type:"number",value:s.fontSize,onChange:l}));default:return null}}()),V.a.createElement("fieldset",{className:"PrefModal__Grid__Col--right__Fieldset"},V.a.createElement("legend",null,T("options_mouseBrowsing")),V.a.createElement(In,{name:"useMouseBrowsing",checked:s.useMouseBrowsing,onChange:a},T("options_useMouseBrowsing")),V.a.createElement(In,{name:"mouseBrowsingHighlight",checked:s.mouseBrowsingHighlight,onChange:a},T("options_mouseBrowsingHighlight")),V.a.createElement("div",{className:"PrefModal__Grid__Col--right__MouseBrowsingHighlightColor"},T("options_highlightColor"),V.a.createElement(R,{componentClass:"select",className:k()("b".concat(s.mouseBrowsingHighlightColor),"b".concat(s.mouseBrowsingHighlightColor)),name:"mouseBrowsingHighlightColor",value:s.mouseBrowsingHighlightColor,onChange:l},Array(16).fill(0,1).map(function(e,t){return V.a.createElement("option",{key:t,value:t,className:k()("b".concat(t))})}))),V.a.createElement(P,{controlId:"mouseLeftFunction"},V.a.createElement(M,null,T("options_mouseLeftFunction")),V.a.createElement(R,{componentClass:"select",name:"mouseLeftFunction",value:s.mouseLeftFunction,onChange:l},["options_none","options_enterKey","options_rightKey"].map(function(e,t){return V.a.createElement("option",{key:e,value:t},T(e))}))),V.a.createElement(P,{controlId:"mouseMiddleFunction"},V.a.createElement(M,null,T("options_mouseMiddleFunction")),V.a.createElement(R,{componentClass:"select",name:"mouseMiddleFunction",value:s.mouseMiddleFunction,onChange:l},["options_none","options_enterKey","options_leftKey","options_doPaste"].map(function(e,t){return V.a.createElement("option",{key:e,value:t},T(e))}))),V.a.createElement(P,{controlId:"mouseWheelFunction1"},V.a.createElement(M,null,T("options_mouseWheelFunction1")),V.a.createElement(R,{componentClass:"select",name:"mouseWheelFunction1",value:s.mouseWheelFunction1,onChange:l},["options_none","options_upDown","options_pageUpDown","options_threadLastNext"].map(function(e,t){return V.a.createElement("option",{key:e,value:t},T(e))}))),V.a.createElement(P,{controlId:"mouseWheelFunction2"},V.a.createElement(M,null,T("options_mouseWheelFunction2")),V.a.createElement(R,{componentClass:"select",name:"options_mouseWheelFunction2",value:s.options_mouseWheelFunction2,onChange:l},["options_none","options_upDown","options_pageUpDown","options_threadLastNext"].map(function(e,t){return V.a.createElement("option",{key:e,value:t},T(e))}))),V.a.createElement(P,{controlId:"mouseWheelFunction3"},V.a.createElement(M,null,T("options_mouseWheelFunction3")),V.a.createElement(R,{componentClass:"select",name:"options_mouseWheelFunction3",value:s.options_mouseWheelFunction3,onChange:l},["options_none","options_upDown","options_pageUpDown","options_threadLastNext"].map(function(e,t){return V.a.createElement("option",{key:e,value:t},T(e))}))))),V.a.createElement(Mn.Pane,{eventKey:"about"},V.a.createElement("div",null,V.a.createElement("legend",null,"PttChrome",V.a.createElement("small",null," - ",T("about_appName_subtitle")),V.a.createElement("button",{type:"button",className:"close",onClick:n},"×")),V.a.createElement("p",null,Qn("about_description",e))),V.a.createElement("div",null,V.a.createElement("legend",null,T("about_version_title")," - ","pttchrome-ccns"," v","2.12.2",""),V.a.createElement("ul",null,Qn("about_version_content",e).map(function(e,t){return V.a.createElement("li",{key:t},e)}))),V.a.createElement("div",null,V.a.createElement("legend",null,T("about_new_title")),V.a.createElement("ul",null,T("about_new_content").map(function(e,t){return V.a.createElement("li",{key:t},e)}))))))))))});function io(e,t,n){function o(t,n,e,o){o=o||n,Object.defineProperty(e,o,{get:function(){return t[n]},set:function(e){t[n]=e}})}this._core=e,this._view=t,this._termBuf=n,this._turnPageLines=22,this.easyReadingReachedPageEnd=!1,this.sendCommandAfterUpdate="",this.ignoreOneUpdate=!1,o(this._view,"useEasyReadingMode",this,"_enabled"),o(this._termBuf,"startedEasyReading",this),o(this._termBuf,"easyReadingShowReplyText",this),o(this._termBuf,"easyReadingShowPushInitText",this),this._termBuf.addEventListener("change",this._onChanged.bind(this)),this._termBuf.addEventListener("viewUpdate",this._onViewUpdated.bind(this))}function so(e){this.app=e,this.highlightCopy=!1,this.touchStarted=!1,this.touchedCenter={x:0,y:0},delete Hammer.defaults.cssProps.userSelect,this.ham=null,this.setupHandlers()}io.prototype._onChanged=function(e){console.log("page state: "+this._termBuf.prevPageState+"->"+this._termBuf.pageState);var t,n,o,r=no();2==this._termBuf.prevPageState&&3==this._termBuf.pageState&&!this._enabled&&r.enableEasyReading&&this._core.connectedUrl.easyReadingSupported?this._enabled=!0:r.enableEasyReading||(this._enabled=!1),this._enabled&&(r=this._termBuf.cols-1,t=this._termBuf.rows-1,o=this._termBuf.getRowText(t,0,this._termBuf.cols),3==this._termBuf.pageState?this.startedEasyReading=!0:this.startedEasyReading&&0===o.indexOf(" ◆ 未達看板發文限制:")?this.easyReadingShowPushInitText=!0:(this.easyReadingShowReplyText=!1,this.easyReadingShowPushInitText=!1,this.startedEasyReading=!1),this.startedEasyReading)&&(console.log("easy reading cursor pos: "+this._termBuf.cur_y+":"+this._termBuf.cur_x),this._termBuf.cur_y==t&&this._termBuf.cur_x==r?this.ignoreOneUpdate?this.ignoreOneUpdate=!1:(n=gt(o))?4==(r=this._termBuf.lines[t][0]).getBg()&&7==r.getFg()?this.easyReadingReachedPageEnd=!0:(this.easyReadingReachedPageEnd=!1,this.sendCommandAfterUpdate||(this.sendCommandAfterUpdate="[6~")):this.easyReadingShowPushInitText||(this._termBuf.pageState=5,this.startedEasyReading=!1):this._termBuf.cur_y==t?this.easyReadingShowPushInitText||(o=this._termBuf.getRowText(t,0,this._termBuf.cols),n=0===(r=o).indexOf("您覺得這篇文章 ")||0===r.search(/→ \w+ *: +/)||0===r.indexOf("很抱歉, 本板不開放回覆文章，要改回信給作者嗎？ [y/N]:"),this.easyReadingShowPushInitText=!!n):22==this._termBuf.cur_y&&(t=this._termBuf.getRowText(22,0,this._termBuf.cols),n=0===(o=t).indexOf("▲ 回應至 (F)看板 (M)作者信箱 (B)二者皆是 (Q)取消？[F] ")||0===o.indexOf("▲ 無法回應至看板。 改回應至 (M)作者信箱 (Q)取消？[Q]")||0===o.indexOf("把這篇文章收入到暫存檔？[y/N]")||0===o.indexOf("請選擇暫存檔 (0-9)[0]:"),this.easyReadingShowReplyText=!!n))},io.prototype._onViewUpdated=function(e){console.log("view update"),this.sendCommandAfterUpdate&&(console.log("send:"+this.sendCommandAfterUpdate),"skipOne"!=this.sendCommandAfterUpdate&&this._send(this.sendCommandAfterUpdate),this.sendCommandAfterUpdate="")},io.prototype.leaveCurrentPost=function(){console.log("leave curent post"),this.easyReadingReachedPageEnd||(this.ignoreOneUpdate=!0),this._termBuf.prevPageState=0},io.prototype.stopEasyReading=function(){console.log("stop easy reading"),this.sendCommandAfterUpdate="skipOne"},io.prototype._send=function(e){this._view.conn.send(e)},io.prototype._onKeyDown=function(e){if(this._enabled&&this.startedEasyReading&&(this._onKeyDownProcessUI(e),!e.defaultPrevented)){var t=!1;if(e.ctrlKey||e.altKey)e.ctrlKey&&!e.altKey&&"h"===e.key&&(this._send("[D[A[C"),t=!0);else switch(e.key){case"Backspace":case"ArrowUp":this._send("[D[A[C"),t=!0;break;case"ArrowDown":this._send("[D[B[C"),t=!0}t&&e.preventDefault()}},io.prototype._scrollBy=function(e){var t=this._view.mainDisplay;return!(e<0&&0==t.scrollTop||0<e&&t.scrollTop>=this._view.mainContainer.clientHeight-this._view.chh*this._termBuf.rows||(t.scrollTop+=this._view.chh*e,0))},io.prototype._scrollEnd=function(){return this._view.mainDisplay.scrollTop=this._view.mainContainer.clientHeight,!0},io.prototype._scrollTop=function(){return!(this._view.mainDisplay.scrollTop=0)},io.prototype._onKeyDownProcessUI=function(e){var t=!1;if(e.ctrlKey||e.altKey){if(e.ctrlKey&&!e.altKey)switch(e.key){case"f":this._scrollBy(this._turnPageLines),t=!0;break;case"b":this._scrollBy(-this._turnPageLines),t=!0;break;case"h":(t=this._scrollBy(-this._turnPageLines))||this.leaveCurrentPost();break;default:0<="@^_?".indexOf(e.key)&&(t=!0)}}else switch(e.key){case"Backspace":(t=this._scrollBy(-this._turnPageLines))||this.leaveCurrentPost();break;case"ArrowRight":case" ":case"t":(t=this._scrollBy(this._turnPageLines))||this.leaveCurrentPost();break;case"PageUp":this._scrollBy(-this._turnPageLines),t=!0;break;case"PageDown":this._scrollBy(this._turnPageLines),t=!0;break;case"ArrowLeft":this.stopEasyReading();break;case"ArrowUp":(t=this._scrollBy(-1))||this.leaveCurrentPost();break;case"Enter":case"ArrowDown":(t=this._scrollBy(1))||this.leaveCurrentPost();break;case"k":this._scrollBy(-1),t=!0;break;case"j":this._scrollBy(1),t=!0;break;case"Home":case"0":case"g":t=this._scrollTop();break;case"End":case"$":case"G":t=this._scrollEnd();break;case"Tab":t=!0;break;default:0<="abf=+-[]ABF".indexOf(e.key)?this.leaveCurrentPost():0<="123456789hops;,./\\H#OP:<>".indexOf(e.key)&&(t=!0)}t&&e.preventDefault()},io.prototype._onMouseClick=function(e){if(this._enabled&&this.startedEasyReading){var t=!1;switch(this._termBuf.mouseCursor){case 0:case 1:this.stopEasyReading();break;case 2:this._scrollBy(-this._turnPageLines),t=!0;break;case 3:this._scrollBy(this._turnPageLines),t=!0;break;case 4:this._scrollTop(),t=!0;break;case 5:this._scrollEnd(),t=!0;break;case 6:case 7:break;case 8:case 9:case 10:case 12:case 13:case 14:this.leaveCurrentPost()}t&&e.preventDefault()}},so.prototype.setupHandlers=function(){var t=this,n=this.app;document.body.ontouchmove=function(e){return 1==e.touches.length},document.body.ontouchstart=function(e){t.touchStarted=!0,n.inputArea.blur(),console.log("touchstart")},document.body.ontouchend=function(e){2==n.buf.pageState&&n.buf.highlightCursor&&-1!=n.buf.nowHighlight&&(n.onMouse_click(t.touchedCenter.x,t.touchedCenter.y),n.buf.nowHighlight=-1,n.buf.highlightCursor=t.highlightCopy,n.BBSWin.style.cursor="auto",t.touchStarted=!1,n.inputArea.focus()),console.log("touchend")},this.ham=new Hammer(n.BBSWin),this.ham.on("pan",function(e){"touch"==e.pointerType&&2==n.buf.pageState&&(e.preventDefault(),e.srcEvent.preventDefault(),t.highlightCopy=n.buf.highlightCursor,n.buf.highlightCursor=!0,n.onMouse_move(e.center.x,e.center.y),t.touchedCenter.x=e.center.x,t.touchedCenter.y=e.center.y)}),this.ham.on("tap",function(e){e.preventDefault(),e.srcEvent.stopPropagation(),e.srcEvent.preventDefault(),"touch"==e.pointerType&&(t.highlightCopy=n.buf.highlightCursor,n.buf.highlightCursor=!1,n.onMouse_move(e.center.x,e.center.y),n.onMouse_click(e.center.x,e.center.y),n.buf.nowHighlight=-1,n.buf.highlightCursor=t.highlightCopy,n.BBSWin.style.cursor="auto",t.touchStarted=!1,n.inputArea.focus(),console.log("touchtap"))})};function ao(e){return e=e.onDismiss,V.a.createElement(lo,{bsStyle:"info",className:"PageTopAlert",tabIndex:-1,onDismiss:e},V.a.createElement("h4",null,T("alert_pasteShortcutHeader")),V.a.createElement("p",null,T("alert_pasteShortcutText")),V.a.createElement("p",null,V.a.createElement(Fn,{bsStyle:"primary",onClick:e},T("alert_pasteShortcutClose"))))}var u={onDismiss:s.a.func,closeLabel:s.a.string},p=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,t=this.props,n=t.onDismiss,o=t.closeLabel,r=t.className,i=t.children,t=_(v(t,["onDismiss","closeLabel","className","children"])),s=t[0],t=t[1],a=!!n,s=b({},x(s),((e={})[w(s,"dismissable")]=a,e));return V.a.createElement("div",b({},t,{role:"alert",className:k()(r,s)}),a&&V.a.createElement(qe,{onClick:n,label:o}),i)},t}(V.a.Component),lo=(p.propTypes=u,p.defaultProps={closeLabel:"Close alert"},Ue(h()(Fe),Fe.INFO,l("alert",p))),co=_n(wn({componentDidMount:function(){var t=this;this.handler=function(e){13==e.keyCode&&t.props.onDismiss(),event.preventDefault(),event.stopImmediatePropagation()},window.addEventListener("keydown",this.handler,!0)},componentWillUnmount:function(){window.removeEventListener("keydown",this.handler,!0)}}))(function(e){e=e.onDismiss;return V.a.createElement(Se,{in:!0},V.a.createElement(lo,{bsStyle:"danger",className:"PageTopAlert",onDismiss:e},V.a.createElement("h4",null,T("alert_connectionHeader")),V.a.createElement("p",null,T("alert_connectionText")),V.a.createElement("p",null,V.a.createElement(Fn,{bsStyle:"danger",onClick:e},T("alert_connectionReconnect")))))}),He=o(88),uo=o.n(He),a={active:s.a.bool,disabled:s.a.bool,divider:d()(s.a.bool,function(e){var t=e.divider,e=e.children;return t&&e?new Error("Children will not be rendered for dividers"):null}),eventKey:s.a.any,header:s.a.bool,href:s.a.string,onClick:s.a.func,onSelect:s.a.func},m=function(n){function e(e,t){e=n.call(this,e,t)||this;return e.handleClick=e.handleClick.bind(i(i(e))),e}r(e,n);var t=e.prototype;return t.handleClick=function(e){var t=this.props,n=t.href,o=t.disabled,r=t.onSelect,t=t.eventKey;n&&!o||e.preventDefault(),o||r&&r(t,e)},t.render=function(){var e=this.props,t=e.active,n=e.disabled,o=e.divider,r=e.header,i=e.onClick,s=e.className,a=e.style,e=$e(v(e,["active","disabled","divider","header","onClick","className","style"]),["eventKey","onSelect"]),l=e[0],e=e[1];return o?(e.children=void 0,V.a.createElement("li",b({},e,{role:"separator",className:k()(s,"divider"),style:a}))):r?V.a.createElement("li",b({},e,{role:"heading",className:k()(s,w(l,"header")),style:a})):V.a.createElement("li",{role:"presentation",className:k()(s,{active:t,disabled:n}),style:a},V.a.createElement(An,b({},e,{role:"menuitem",tabIndex:"-1",onClick:E(i,this.handleClick)})))},e}(V.a.Component),N=(m.propTypes=a,m.defaultProps={divider:!1,disabled:!1,header:!1},l("dropdown",m)),fo={providers:[{name:"goo.gl",url:"https://goo.gl/%s"}]},po=_n(bn(function(){var r={};return{onDropdownMenuMount:function(){return function(e){r.dropdownMenu=e}},onMousePositionChange:function(e){var n=e.pageX,o=e.pageY;return function(){var e,t;r.dropdownMenu.style.cssText+="\n          top:".concat((e=o,t=r.dropdownMenu.clientHeight,window.innerHeight<e+t&&t<e?e-t:e),"px;\n          left:").concat((t=n,e=r.dropdownMenu.clientWidth,window.innerWidth<t+e&&e<t?t-e:t),"px;\n        ")}},onContextMenu:function(){return function(e){e.stopPropagation(),e.preventDefault()}}}}),wn({componentDidMount:function(){this.props.onMousePositionChange()},componentDidUpdate:function(e){this.props.pageX===e.pageX&&this.props.pageY===e.pageY||this.props.onMousePositionChange()}}))(function(e){var t=e.pageX,n=e.pageY,o=e.urlEnabled,r=e.normalEnabled,i=e.selEnabled,s=e.mouseBrowsingEnabled,a=e.selectedText,l=e.onMenuSelect,c=e.onInputHelperClick,u=e.onLiveArticleHelperClick,d=e.onSettingsClick,f=e.onQuickSearchSelect,p=e.onDropdownMenuMount,e=e.onContextMenu;return V.a.createElement("ul",{className:"dropdown-menu DropdownMenu--reset",ref:p,onContextMenu:e},i&&V.a.createElement(V.a.Fragment,null,V.a.createElement(N,{eventKey:"copy",onSelect:l},T("cmenu_copy"),V.a.createElement("span",{className:"DropdownMenu__Item__HotKey"},"Ctrl+C")),V.a.createElement(N,{eventKey:"copyAnsi",onSelect:l},T("cmenu_copyAnsi"))),r&&V.a.createElement(N,{eventKey:"paste",onSelect:l},T("cmenu_paste"),V.a.createElement("span",{className:"DropdownMenu__Item__HotKey"},"Shift+Insert")),i&&V.a.createElement(N,{eventKey:"searchGoogle",onSelect:l},T("cmenu_searchGoogle")," ",V.a.createElement("span",null,"'",15<(p=a).length?"".concat(p.substr(0,15)," …"):p,"'")),o&&V.a.createElement(V.a.Fragment,null,V.a.createElement(N,{eventKey:"openUrlNewTab",onSelect:l},T("cmenu_openUrlNewTab")),V.a.createElement(N,{eventKey:"copyLinkUrl",onSelect:l},T("cmenu_copyLinkUrl"))),V.a.createElement(N,{divider:!0}),i&&V.a.createElement(V.a.Fragment,null,V.a.createElement(N,{className:"DropdownMenu__Item--quickSearch"},T("cmenu_quickSearch")," ",V.a.createElement("span",{style:{float:"right"}},"►"),V.a.createElement("ul",{className:k()("dropdown-menu","DropdownMenu--reset","QuickSearchMenu",{"QuickSearchMenu--up":n>window.innerHeight/2,"QuickSearchMenu--left":t>.7*window.innerWidth}),role:"menu"},fo.providers.map(function(e){return V.a.createElement(N,{key:e.url,eventKey:e.url,onSelect:f},e.name)}))),V.a.createElement(N,{divider:!0})),r&&V.a.createElement(V.a.Fragment,null,V.a.createElement(N,{eventKey:"selectAll",onSelect:l},T("cmenu_selectAll"),V.a.createElement("span",{className:"DropdownMenu__Item__HotKey"},"Ctrl+A")),V.a.createElement(N,{eventKey:"mouseBrowsing",onSelect:l,className:k()({"DropdownMenu__Item--checked":s})},T("cmenu_mouseBrowsing")),V.a.createElement(N,{onClick:c},T("cmenu_showInputHelper")),V.a.createElement(N,{onClick:u},T("cmenu_showLiveArticleHelper")),V.a.createElement(N,{divider:!0})),V.a.createElement(N,{onClick:d},T("cmenu_settings")))}),f={componentClass:t.a},Le=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,e=_(v(e,["componentClass","className"])),o=e[0],e=e[1],o=x(o);return V.a.createElement(t,b({},e,{className:k()(n,o)}))},t}(V.a.Component),ho=(Le.propTypes=f,Le.defaultProps={componentClass:"div"},l("row",Le)),g={componentClass:t.a,xs:s.a.number,sm:s.a.number,md:s.a.number,lg:s.a.number,xsHidden:s.a.bool,smHidden:s.a.bool,mdHidden:s.a.bool,lgHidden:s.a.bool,xsOffset:s.a.number,smOffset:s.a.number,mdOffset:s.a.number,lgOffset:s.a.number,xsPush:s.a.number,smPush:s.a.number,mdPush:s.a.number,lgPush:s.a.number,xsPull:s.a.number,smPull:s.a.number,mdPull:s.a.number,lgPull:s.a.number},We=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,e=_(v(e,["componentClass","className"])),r=e[0],i=e[1],s=[];return Be.forEach(function(o){function e(e,t){var e=""+o+e,n=i[e];null!=n&&s.push(w(r,""+o+t+"-"+n)),delete i[e]}e("",""),e("Offset","-offset"),e("Push","-push"),e("Pull","-pull");var t=o+"Hidden";i[t]&&s.push("hidden-"+o),delete i[t]}),V.a.createElement(t,b({},i,{className:k()(n,s)}))},t}(V.a.Component),mo=(We.propTypes=g,We.defaultProps={componentClass:"div"},l("col",We)),n=o(54),go=o.n(n),e={vertical:s.a.bool,justified:s.a.bool,block:d()(s.a.bool,function(e){var t=e.block,e=e.vertical;return t&&!e?new Error("`block` requires `vertical` to be set to have any effect"):null})},c=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,t=this.props,n=t.block,o=t.justified,r=t.vertical,i=t.className,t=_(v(t,["block","justified","vertical","className"])),s=t[0],t=t[1],r=b({},x(s),((e={})[w(s)]=!r,e[w(s,"vertical")]=r,e[w(s,"justified")]=o,e[w(Fn.defaultProps,"block")]=n,e));return V.a.createElement("div",b({},t,{className:k()(i,r)}))},t}(V.a.Component),u=(c.propTypes=e,c.defaultProps={block:!1,justified:!1,vertical:!1},l("btn-group",c)),Ue=o(89),yo=o.n(Ue),h=o(56),bo=o.n(h),Fe={open:s.a.bool,pullRight:s.a.bool,onClose:s.a.func,labelledBy:s.a.oneOfType([s.a.string,s.a.number]),onSelect:s.a.func,rootCloseEvent:s.a.oneOf(["click","mousedown"])},p=function(t){function e(e){e=t.call(this,e)||this;return e.handleRootClose=e.handleRootClose.bind(i(i(e))),e.handleKeyDown=e.handleKeyDown.bind(i(i(e))),e}r(e,t);var n=e.prototype;return n.getFocusableMenuItems=function(){var e=oe.a.findDOMNode(this);return e?yo()(e.querySelectorAll('[tabIndex="-1"]')):[]},n.getItemsAndActiveIndex=function(){var e=this.getFocusableMenuItems(),t=e.indexOf(document.activeElement);return{items:e,activeIndex:t}},n.focusNext=function(){var e=this.getItemsAndActiveIndex(),t=e.items,e=e.activeIndex;0!==t.length&&t[e===t.length-1?0:e+1].focus()},n.focusPrevious=function(){var e=this.getItemsAndActiveIndex(),t=e.items,e=e.activeIndex;0!==t.length&&t[0===e?t.length-1:e-1].focus()},n.handleKeyDown=function(e){switch(e.keyCode){case Rn.a.codes.down:this.focusNext(),e.preventDefault();break;case Rn.a.codes.up:this.focusPrevious(),e.preventDefault();break;case Rn.a.codes.esc:case Rn.a.codes.tab:this.props.onClose(e,{source:"keydown"})}},n.handleRootClose=function(e){this.props.onClose(e,{source:"rootClose"})},n.render=function(){var e,t=this,n=this.props,o=n.open,r=n.pullRight,i=n.labelledBy,s=n.onSelect,a=n.className,l=n.rootCloseEvent,c=n.children,n=$e(v(n,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),["onClose"]),u=n[0],n=n[1],u=b({},x(u),((e={})[w(u,"right")]=r,e));return V.a.createElement(bo.a,{disabled:!o,onRootClose:this.handleRootClose,event:l},V.a.createElement("ul",b({},n,{role:"menu",className:k()(a,u),"aria-labelledby":i}),Nn.map(c,function(e){return V.a.cloneElement(e,{onKeyDown:E(e.props.onKeyDown,t.handleKeyDown),onSelect:E(e.props.onSelect,s)})})))},e}(V.a.Component),He=(p.propTypes=Fe,p.defaultProps={bsRole:"menu",pullRight:!1},l("dropdown-menu",p)),a={noCaret:s.a.bool,open:s.a.bool,title:s.a.string,useAnchor:s.a.bool},m=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.noCaret,n=e.open,o=e.useAnchor,r=e.bsClass,i=e.className,s=e.children,e=v(e,["noCaret","open","useAnchor","bsClass","className","children"]);delete e.bsRole;t=!t;return V.a.createElement(o?An:Fn,b({},e,{role:"button",className:k()(i,r),"aria-haspopup":!0,"aria-expanded":n}),s||e.title,t&&" ",t&&V.a.createElement("span",{className:"caret"}))},t}(V.a.Component),vo=(m.propTypes=a,m.defaultProps={open:!1,useAnchor:!1,bsRole:"toggle"},l("dropdown-toggle",m)),f=o(18),wo=o.n(f);s.a.oneOfType([s.a.string,s.a.number]);var xo=vo.defaultProps.bsRole,_o=He.defaultProps.bsRole,Le={dropup:s.a.bool,id:Ie()(s.a.oneOfType([s.a.string,s.a.number])),componentClass:t.a,children:d()(function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return wo()(function(e,t,n){var o;return r.every(function(t){return!!Nn.some(e.children,function(e){return e.props.bsRole===t})||(o=t,!1)}),o?new Error("(children) "+n+" - Missing a required child with bsRole: "+o+". "+n+" must have at least one child of each of the following bsRoles: "+r.join(", ")):null})}(xo,_o),function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return wo()(function(e,t,n){var o;return r.every(function(t){return!(1<Nn.filter(e.children,function(e){return e.props.bsRole===t}).length&&(o=t,1))}),o?new Error("(children) "+n+" - Duplicate children detected of bsRole: "+o+". Only one child each allowed with the following bsRoles: "+r.join(", ")):null})}(_o)),disabled:s.a.bool,pullRight:s.a.bool,open:s.a.bool,defaultOpen:s.a.bool,onToggle:s.a.func,onSelect:s.a.func,role:s.a.string,rootCloseEvent:s.a.oneOf(["click","mousedown"]),onMouseEnter:s.a.func,onMouseLeave:s.a.func},g={componentClass:u},We=function(n){function e(e,t){e=n.call(this,e,t)||this;return e.handleClick=e.handleClick.bind(i(i(e))),e.handleKeyDown=e.handleKeyDown.bind(i(i(e))),e.handleClose=e.handleClose.bind(i(i(e))),e._focusInDropdown=!1,e.lastOpenEventType=null,e}r(e,n);var t=e.prototype;return t.componentDidMount=function(){this.focusNextOnOpen()},t.UNSAFE_componentWillUpdate=function(e){!e.open&&this.props.open&&(this._focusInDropdown=jn()(oe.a.findDOMNode(this.menu),go()(document)))},t.componentDidUpdate=function(e){var t=this.props.open,e=e.open;t&&!e&&this.focusNextOnOpen(),!t&&e&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},t.focus=function(){var e=oe.a.findDOMNode(this.toggle);e&&e.focus&&e.focus()},t.focusNextOnOpen=function(){var e=this.menu;e&&e.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||e.focusNext())},t.handleClick=function(e){this.props.disabled||this.toggleOpen(e,{source:"click"})},t.handleClose=function(e,t){this.props.open&&this.toggleOpen(e,t)},t.handleKeyDown=function(e){if(!this.props.disabled)switch(e.keyCode){case Rn.a.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(e,{source:"keydown"}),e.preventDefault();break;case Rn.a.codes.esc:case Rn.a.codes.tab:this.handleClose(e,{source:"keydown"})}},t.toggleOpen=function(e,t){var n=!this.props.open;n&&(this.lastOpenEventType=t.source),this.props.onToggle&&this.props.onToggle(n,e,t)},t.renderMenu=function(e,t){var n=this,o=t.id,r=t.onSelect,i=t.rootCloseEvent,t=v(t,["id","onSelect","rootCloseEvent"]),s=function(e){n.menu=e};return"string"!=typeof e.ref&&(s=E(e.ref,s)),Object(Y.cloneElement)(e,b({},t,{ref:s,labelledBy:o,bsClass:w(t,"menu"),onClose:E(e.props.onClose,this.handleClose),onSelect:E(e.props.onSelect,r,function(e,t){return n.handleClose(t,{source:"select"})}),rootCloseEvent:i}))},t.renderToggle=function(e,t){var n=this,o=function(e){n.toggle=e};return"string"!=typeof e.ref&&(o=E(e.ref,o)),Object(Y.cloneElement)(e,b({},t,{ref:o,bsClass:w(t,"toggle"),onClick:E(e.props.onClick,this.handleClick),onKeyDown:E(e.props.onKeyDown,this.handleKeyDown)}))},t.render=function(){var e,t=this,n=this.props,o=n.componentClass,r=n.id,i=n.dropup,s=n.disabled,a=n.pullRight,l=n.open,c=n.onSelect,u=n.role,d=n.bsClass,f=n.className,p=n.rootCloseEvent,h=n.children,n=v(n,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete n.onToggle,(e={})[d]=!0,e.open=l,e.disabled=s;return i&&(e[d]=!1,e.dropup=!0),V.a.createElement(o,b({},n,{className:k()(f,e)}),Nn.map(h,function(e){switch(e.props.bsRole){case xo:return t.renderToggle(e,{id:r,disabled:s,open:l,role:u,bsClass:d});case _o:return t.renderMenu(e,{id:r,open:l,pullRight:a,bsClass:d,onSelect:c,rootCloseEvent:p});default:return e}}))},e}(V.a.Component),n=(We.propTypes=Le,We.defaultProps=g,l("dropdown",We),On(We,{open:"onToggle"})),Eo=(n.Toggle=vo,n.Menu=He,n),e=b({},Eo.propTypes,{title:s.a.node.isRequired,noCaret:s.a.bool,active:s.a.bool,activeKey:s.a.any,activeHref:s.a.string,children:s.a.node}),c=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.isActive=function(e,t,n){var o=this,e=e.props;return!!(e.active||null!=t&&e.eventKey===t||n&&e.href===n)||!!Nn.some(e.children,function(e){return o.isActive(e,t,n)})||e.active},n.render=function(){var t=this,e=this.props,n=e.title,o=e.activeKey,r=e.activeHref,i=e.className,s=e.style,a=e.children,e=v(e,["title","activeKey","activeHref","className","style","children"]),l=this.isActive(this,o,r),e=(delete e.active,delete e.eventKey,Ge(e,Eo.ControlledComponent)),c=e[0],e=e[1];return V.a.createElement(Eo,b({},c,{componentClass:"li",className:k()(i,{active:l}),style:s}),V.a.createElement(Eo.Toggle,b({},e,{useAnchor:!0}),n),V.a.createElement(Eo.Menu,null,Nn.map(a,function(e){return V.a.cloneElement(e,{active:t.isActive(e,o,r)})})))},t}(V.a.Component),Co=(c.propTypes=e,c),Ue=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return V.a.createElement(vo,b({},this.props,{useAnchor:!1,noCaret:!1}))},t}(V.a.Component),So=(Ue.defaultProps=vo.defaultProps,Ue),h=b({},Eo.propTypes,{bsStyle:s.a.string,bsSize:s.a.string,href:s.a.string,onClick:s.a.func,title:s.a.node.isRequired,toggleLabel:s.a.string,children:s.a.node}),Fe=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,o=e.title,r=e.toggleLabel,i=e.children,e=v(e,["bsSize","bsStyle","title","toggleLabel","children"]),s=Ge(e,Eo.ControlledComponent),a=s[0],s=s[1];return V.a.createElement(Eo,b({},a,{bsSize:t,bsStyle:n}),V.a.createElement(Fn,b({},s,{disabled:e.disabled,bsSize:t,bsStyle:n}),o),V.a.createElement(So,{"aria-label":r||o,bsSize:t,bsStyle:n}),V.a.createElement(Eo.Menu,null,i))},t}(V.a.Component),ko=(Fe.propTypes=h,Fe.Toggle=So,Fe),Oo={general:["，","、","。","．","？","！","～","＄","％","＠","＆","＃","＊","‧","；","︰","…","‥","﹐","﹒","˙","·","﹔","﹕","‘","’","“","”","〝","〞","‵","′","〃"],lineBorders:["├","─","┼","┴","┬","┤","┌","┐","│","▕","└","┘","╭","╮","╰","╯","╔","╦","╗","╠","═","╬","╣","╓","╥","╖","╒","╤","╕","║","╚","╩","╝","╟","╫","╢","╙","╨","╜","╞","╪","╡","╘","╧","╛"],blocks:["＿","ˍ","▁","▂","▃","▄","▅","▆","▇","█","▏","▎","▍","▌","▋","▊","▉","◢","◣","◥","◤"],lines:["﹣","﹦","≡","｜","∣","∥","–","︱","—","︳","╴","¯","￣","﹉","﹊","﹍","﹎","﹋","﹌","﹏","︴","∕","﹨","╱","╲","／","＼"],special:["↑","↓","←","→","↖","↗","↙","↘","㊣","◎","○","●","⊕","⊙","△","▲","☆","★","◇","Æ","□","■","▽","▼","§","￥","〒","￠","￡","※","♀","♂"],brackets:["〔","〕","【","】","《","》","（","）","｛","｝","﹙","﹚","『","』","﹛","﹜","﹝","﹞","＜","＞","﹤","﹥","「","」","︵","︶","︷","︸","︹","︺","︻","︼","︽","︾","〈","〉","︿","﹀","﹁","﹂","﹃","﹄"],greek:["Α","Β","Γ","Δ","Ε","Ζ","Η","Θ","Ι","Κ","Λ","Μ","Ν","Ξ","Ο","Π","Ρ","Σ","Τ","Υ","Φ","Χ","Ψ","Ω","α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","τ","υ","φ","χ","ψ","ω"],phonetic:["ㄅ","ㄆ","ㄇ","ㄈ","ㄉ","ㄊ","ㄋ","ㄌ","ㄍ","ㄎ","ㄏ","ㄐ","ㄑ","ㄒ","ㄓ","ㄔ","ㄕ","ㄖ","ㄗ","ㄘ","ㄙ","ㄚ","ㄛ","ㄜ","ㄝ","ㄞ","ㄟ","ㄠ","ㄡ","ㄢ","ㄣ","ㄤ","ㄥ","ㄦ","ㄧ","ㄨ","ㄩ","˙","ˊ","ˇ","ˋ"],math:["╳","＋","﹢","－","×","÷","＝","≠","≒","∞","ˇ","±","√","⊥","∠","∟","⊿","㏒","㏑","∫","∮","∵","∴","≦","≧","∩","∪"],hiragana:["あ","い","う","え","お","か","き","く","け","こ","さ","し","す","せ","そ","た","ち","つ","て","と","な","に","ぬ","ね","の","は","ひ","ふ","へ","ほ","ま","み","む","め","も","ら","り","る","れ","ろ","が","ぎ","ぐ","げ","ご","ざ","じ","ず","ぜ","ぞ","だ","ぢ","づ","で","ど","ば","び","ぶ","べ","ぼ","ぱ","ぴ","ぷ","ぺ","ぽ","や","ゆ","よ","わ","ん","を"],katakana:["ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ラ","リ","ル","レ","ロ","ガ","ギ","グ","ゲ","ゴ","ザ","ジ","ズ","ゼ","ゾ","ダ","ジ","ズ","デ","ド","バ","ビ","ブ","ベ","ボ","パ","ピ","プ","ペ","ポ","ヤ","ユ","ヨ","ワ","ン","ヲ"]},To={angry:["(ノ ゜Д゜)ノ ︵ ═╩════╩═","╯-____-)╯~═╩════╩═~","(╭∩╮\\_/╭∩╮)","( ︶︿︶)_╭∩╮","( ‵□′)───C＜─___-)|||","(￣ε(#￣) #○=(一-一o)","(o一-一)=○# (￣#)3￣)","╰(‵皿′＊)╯","○(#‵︿′ㄨ)○","◢▆▅▄▃-崩╰(〒皿〒)╯潰-▃▄▅▆◣"],meh:["(σ′▽‵)′▽‵)σ 哈哈哈哈～你看看你","( ￣ c￣)y▂ξ","( ′-`)y-～","′_>‵","╮(′～‵〞)╭",'╮(﹀_﹀")╭',"︿(￣︶￣)︿","..╮(﹋﹏﹌)╭..","╮(╯_╰)╭","╮(╯▽╰)/"],sweat:["(－^－)ｄ","(￣￣；)","(￣□￣|||)a","(●；－_－)●","￣▽￣||","╭ ﹀◇﹀〣","ˋ(′_‵||)ˊ","●( ¯▽¯；●","o(＞＜；)o o"],happy:["~(￣▽￣)~(＿△＿)~(￣▽￣)~(＿△＿)~(￣▽￣)~","(~^O^~)","(∩_∩)","<(￣︶￣)>","v(￣︶￣)y","﹨(╯▽╰)∕","\\(@^0^@)/","\\(^▽^)/","\\⊙▽⊙/"],other:["(．＿．?)","(？o？)","(‧Q‧)","〒△〒","m川@.川m","(¯(∞)¯)","(⊙o⊙)","(≧<>≦)","(☆_☆)",'o(‧"‧)o']};function Po(e,t,n){var o=e.fg,r=e.bg,i="0;",s=(7<o&&(o%=8,i="1;"),o+=30,r+=40,""),e=(e.isBlink&&(s="5;"),"[");t(e+="foreground"==n?i+s+o+"m":"background"==n?r+"m":i+s+o+";"+r+"m")}var Mo=_n(vn(function(){return{fg:7,bg:0,isBlink:!1}},{onColorClick:function(){return function(e){e=e.target.dataset.fg;return{fg:parseInt(e,10)}}},onColorContextMenu:function(e){var n=e.bg;return function(e){var t=e.target.dataset;return e.preventDefault(),e.stopPropagation(),{bg:"bg"in t?parseInt(t.bg,10):n}}},onBlinkChange:function(){return function(e){return{isBlink:e.target.checked}}},onSendClick:function(e,t){var n=t.onCmdSend;return function(){return Po(e,n)}},onSendSelect:function(t,e){var n=e.onCmdSend;return function(e){return Po(t,n,e)}},onSymEmoClick:function(e,t){var n=t.onConvSend;return function(e){e=e.target.textContent;return n(e)}}}),bn({onMouseDown:function(){return function(e){var t=e.currentTarget.dataset,n=e.clientX,e=e.clientY;t.dragActive=!0,t.dragLastX=n,t.dragLastY=e}},onMouseMove:function(){return function(e){var t=e.currentTarget,n=t.dataset,t=t.style,o=e.clientX,e=e.clientY;"true"===n.dragActive&&(window.getSelection().removeAllRanges(),t.cssText+="\n          top:".concat((parseFloat(t.top)||0)+e-n.dragLastY,"px;\n          left:").concat((parseFloat(t.left)||0)+o-n.dragLastX,"px;\n        "),n.dragLastX=o,n.dragLastY=e)}},onMouseUp:function(){return function(e){e.currentTarget.dataset.dragActive=!1}}}))(function(e){var t=e.show,n=e.onReset,o=e.onHide,r=e.onMouseDown,i=e.onMouseMove,s=e.onMouseUp,a=e.fg,l=e.bg,c=e.isBlink,u=e.onColorClick,d=e.onColorContextMenu,f=e.onBlinkChange,p=e.onSendClick,h=e.onSendSelect,m=e.onSymEmoClick;return V.a.createElement(Qe,{show:t,className:"InputHelperModal__Dialog",onMouseDown:r,onMouseMove:i,onMouseUp:s},V.a.createElement(Qe.Header,{closeButton:!0,onHide:o},V.a.createElement(Qe.Title,null,T("inputHelperTitle"))),V.a.createElement(Qe.Body,null,V.a.createElement(Mn.Container,{defaultActiveKey:"colors"},V.a.createElement(ho,{className:"clearfix"},V.a.createElement(mo,{sm:12},V.a.createElement(Dn,{bsStyle:"tabs"},V.a.createElement(Bn,{eventKey:"colors"},T("colorTitle")),V.a.createElement(Co,{eventKey:"symbols",title:T("symTitle")},Object.keys(Oo).map(function(e){return V.a.createElement(N,{eventKey:"symbols.".concat(e)},T("symTitle_".concat(e)))})),V.a.createElement(Co,{eventKey:"emoticons",title:T("emoTitle")},Object.keys(To).map(function(e){return V.a.createElement(N,{eventKey:"emoticons.".concat(e)},T("emoTitle_".concat(e)))})))),V.a.createElement(mo,{sm:12},V.a.createElement(Mn.Content,{animation:!0},V.a.createElement(Mn.Pane,{eventKey:"colors"},V.a.createElement(ho,null,V.a.createElement(mo,{xs:12,sm:7},V.a.createElement("ul",{className:"InputHelperModal__ColorList"},V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b0","data-fg":"0","data-bg":"0"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b1","data-fg":"1","data-bg":"1"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b2","data-fg":"2","data-bg":"2"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b3","data-fg":"3","data-bg":"3"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b4","data-fg":"4","data-bg":"4"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b5","data-fg":"5","data-bg":"5"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b6","data-fg":"6","data-bg":"6"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b7","data-fg":"7","data-bg":"7"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b8","data-fg":"8"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b9","data-fg":"9"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b10","data-fg":"10"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b11","data-fg":"11"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b12","data-fg":"12"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b13","data-fg":"13"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b14","data-fg":"14"}),V.a.createElement("li",{onClick:u,onContextMenu:d,className:"b15","data-fg":"15"}))),V.a.createElement(mo,{xs:12,sm:5},T("colorHelperTooltip1"),V.a.createElement("br",null),T("colorHelperTooltip2"))),V.a.createElement("div",{className:"InputHelperModal__Preview"},V.a.createElement(dt,{className:"InputHelperModal__Preview__Content",colorState:{fg:a,bg:l,blink:c},inner:T("colorHelperPreview")})),V.a.createElement(ho,null,V.a.createElement(mo,{xs:4},V.a.createElement(In,{checked:c,onChange:f},T("colorHelperBlink"))),V.a.createElement(mo,{xs:8,className:"InputHelperModal__SendButtonContainer"},V.a.createElement(ko,{title:T("colorHelperSend"),onClick:p},V.a.createElement(N,{eventKey:"foreground",onSelect:h},T("colorHelperSendMenuFore")),V.a.createElement(N,{eventKey:"background",onSelect:h},T("colorHelperSendMenuBack")),V.a.createElement(N,{divider:!0}),V.a.createElement(N,{eventKey:"reset",onSelect:n},T("colorHelperSendMenuReset")))))),Object.keys(Oo).map(function(e){return V.a.createElement(Mn.Pane,{eventKey:"symbols.".concat(e)},V.a.createElement("ul",{className:"InputHelperModal__SymbolList"},Oo[e].map(function(e,t){return V.a.createElement("li",{key:t,onClick:m},e)})))}),Object.keys(To).map(function(e){return V.a.createElement(Mn.Pane,{eventKey:"emoticons.".concat(e)},V.a.createElement("ul",{className:"InputHelperModal__EmoticonList"},To[e].map(function(e,t){return V.a.createElement("li",{key:t,onClick:m},e)})))})))))))}),p={id:Ie()(s.a.oneOfType([s.a.string,s.a.number])),placement:s.a.oneOf(["top","right","bottom","left"]),positionTop:s.a.oneOfType([s.a.number,s.a.string]),positionLeft:s.a.oneOfType([s.a.number,s.a.string]),arrowOffsetTop:s.a.oneOfType([s.a.number,s.a.string]),arrowOffsetLeft:s.a.oneOfType([s.a.number,s.a.string])},a=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.placement,n=e.positionTop,o=e.positionLeft,r=e.arrowOffsetTop,i=e.arrowOffsetLeft,s=e.className,a=e.style,l=e.children,e=_(v(e,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"])),c=e[0],e=e[1],t=b({},x(c),((u={})[t]=!0,u)),u=b({top:n,left:o},a),n={top:r,left:i};return V.a.createElement("div",b({},e,{role:"tooltip",className:k()(s,t),style:u}),V.a.createElement("div",{className:w(c,"arrow"),style:n}),V.a.createElement("div",{className:w(c,"inner")},l))},t}(V.a.Component),Ro=(a.propTypes=p,a.defaultProps={placement:"right"},l("tooltip",a)),No=_n(bn({onEnabledClick:function(e){var t=e.enabled,n=e.sec,o=e.onChange;return function(){return o({enabled:!t,sec:n})}},onSecChange:function(e){var t=e.enabled,n=e.onChange;return function(e){e=e.target.value;return n({enabled:t,sec:function(e){e=parseInt(e,10);return 1<e?e:1}(e)})}}}))(function(e){var t=e.show,n=e.onHide,o=e.enabled,r=e.sec,i=e.onEnabledClick,e=e.onSecChange;return V.a.createElement(Qe,{show:t},V.a.createElement(Qe.Body,{className:"LiveHelperModal__Body"},V.a.createElement(zn,{placement:"top",overlay:V.a.createElement(Ro,null,"Alt + r")},V.a.createElement(Fn,{active:o,onClick:i},T("liveHelperEnable"))),V.a.createElement("span",{className:"LiveHelperModal__Body__Text nomouse_command"},T("liveHelperSpan")),V.a.createElement("input",{type:"number",className:"LiveHelperModal__Body__Input form-control nomouse_command",value:r,onChange:e}),V.a.createElement("span",{className:"LiveHelperModal__Body__Text nomouse_command"},T("liveHelperSpanSec")),V.a.createElement("button",{type:"button",className:"LiveHelperModal__Body__Close close nomouse_command",onClick:n},"×")))});function Do(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function Lo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Do(Object(n),!0).forEach(function(e){Ao(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ao(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function Bo(){}function Fo(e,t){return e.onValuesPrefChange(t),e.modalShown=!1,e.setInputAreaFocus(),e.switchToEasyReadingMode(e.view.useEasyReadingMode),{showsSettings:!1}}Ao(m={},"C".charCodeAt(0),"copy"),Ao(m,"E".charCodeAt(0),"copyLinkUrl"),Ao(m,"P".charCodeAt(0),"paste"),Ao(m,"S".charCodeAt(0),"searchGoogle"),Ao(m,"T".charCodeAt(0),"openUrlNewTab");var Io,Ho=m,jo={copy:function(e,t){t=t.selectedText;return e.doCopy(t)},copyAnsi:function(e){return e.doCopyAnsi()},paste:function(e){return e.doPaste()},searchGoogle:function(e,t){t=t.selectedText;return e.doSearchGoogle(t)},openUrlNewTab:function(e,t){t=t.aElement;return e.doOpenUrlNewTab(t)},copyLinkUrl:function(e,t){t=t.contextOnUrl;return e.doCopy(t)},selectAll:function(e){return e.doSelectAll()},mouseBrowsing:function(e){return e.switchMouseBrowsing()}},Uo={open:!1,pageX:0,pageY:0,contextOnUrl:"",aElement:void 0,selectedText:"",urlEnabled:!1,normalEnabled:!1,selEnabled:!1,showsInputHelper:!1,showsLiveArticleHelper:!1,showsSettings:!1,liveHelperEnabled:!1,liveHelperSec:1},Wo=_n(vn(Uo,{onContextMenu:function(e,t){var a=t.pttchrome;return function(e){e.stopPropagation(),e.preventDefault();var t,n,o,r,i,s=a.CmdHandler;if("1"!==s.getAttribute("doDOMMouseScroll"))return a.contextMenuShown=!0,window.getSelection().isCollapsed?a.lastSelection=null:a.lastSelection=a.view.getSelectionColRow(),t="",(o=uo()(e.target)).is("a")?(t=o.attr("href"),n=o[0]):o.parent().is("a")&&(t=o.parent().attr("href"),n=o[0].parentNode),o=window.getSelection().toString().replace(/\u00a0/g," "),i=!(r=!!t)&&window.getSelection().isCollapsed,{open:open,pageX:e.pageX,pageY:e.pageY,contextOnUrl:t,aElement:n,selectedText:o,urlEnabled:r,normalEnabled:i,selEnabled:!i};s.setAttribute("doDOMMouseScroll","0")}},onHide:function(e,t){var n=t.pttchrome;return function(){if(e.open)return n.contextMenuShown=!1,Uo}},onMenuSelect:function(n,e){var o=e.pttchrome;return function(e,t){return jo[e](o,n),t.stopPropagation(),o.contextMenuShown=!1,Uo}},onInputHelperClick:function(e,t){var n=t.pttchrome;return function(e){return e.stopPropagation(),n.contextMenuShown=!1,Lo(Lo({},Uo),{},{showsInputHelper:!0})}},onLiveArticleHelperClick:function(e,t){var n=t.pttchrome;return function(e){return e.stopPropagation(),n.contextMenuShown=!1,Lo(Lo({},Uo),{},{showsLiveArticleHelper:!0})}},onSettingsClick:function(e,t){var n=t.pttchrome;return function(e){return e.stopPropagation(),n.contextMenuShown=!1,n.onDisableLiveHelperModalState(),n.modalShown=!0,Lo(Lo({},Uo),{},{showsSettings:!0})}},onQuickSearchSelect:function(e,t){var n=t.pttchrome,o=t.selectedText;return function(e,t){e=e.replace("%s",o);return window.open(e),t.stopPropagation(),n.contextMenuShown=!1,Uo}},onInputHelperHide:function(e,t){t.pttchrome;return function(){return{showsInputHelper:!1}}},onInputHelperReset:function(e,t){var n=t.pttchrome;return function(){n.conn.send("[m")}},onInputHelperCmdSend:function(e,t){var i=t.pttchrome;return function(e){var t,n,o,r;window.getSelection().isCollapsed||6!=i.buf.pageState||(t=i.view.getSelectionColRow(),r="",r+="[H",(n=i.buf.cur_y)>t.end.row?r+="[A".repeat(n-t.end.row):n<t.end.row&&(r+="[B".repeat(t.end.row-n)),o=i.buf.getRowText(t.end.row,0,t.end.col).length,r=r+("[C".repeat(o)+"[m")+"[H",(n=t.end.row)>t.start.row?r+="[A".repeat(n-t.start.row):n<t.start.row&&(r+="[B".repeat(t.start.row-n)),o=i.buf.getRowText(t.start.row,0,t.start.col).length,e=(r+="[C".repeat(o))+e),i.conn.send(e)}},onInputHelperConvSend:function(e,t){var n=t.pttchrome;return function(e){n.conn.convSend(e)}},onLiveHelperHide:function(){return function(){return{showsLiveArticleHelper:!1,liveHelperEnabled:!1}}},onLiveHelperChange:function(t,e){var n=e.pttchrome;return function(e){return t.liveHelperEnabled?(n.view.useEasyReadingMode=!1,n.switchToEasyReadingMode(),n.setAutoPushthreadUpdate(t.sec)):n.setAutoPushthreadUpdate(-1),{liveHelperEnabled:e.enabled,liveHelperSec:e.sec}}},onPrefSave:function(e,t){var n=t.pttchrome;return function(e){return Fo(n,e)}},onPrefReset:function(e,t){var n=t.pttchrome;return function(e){return n.view.redraw(!0),Fo(n,e)}}}),(Io=function(e){var t=e.pttchrome,n=e.liveHelperEnabled,o=e.onLiveHelperChange;n?(t.onToggleLiveHelperModalState=function(){o({enabled:!state.enabled,sec:state.sec})},t.onDisableLiveHelperModalState=function(){o({enabled:!1,sec:state.sec})}):t.onToggleLiveHelperModalState=t.onDisableLiveHelperModalState=Bo},gn(function(e){return Q({},e,"function"==typeof Io?Io(e):Io)})),wn({componentDidMount:function(){var n=this;this.contextMenuHandler=function(e){n.props.onContextMenu(e)},document.getElementById("BBSWindow").addEventListener("contextmenu",this.contextMenuHandler,!0),this.clickHandler=function(){n.props.onHide()},window.addEventListener("click",this.clickHandler,!1),this.touchStartHandler=function(e){"menuitem"!==e.target.getAttribute("role")&&n.props.onHide()},window.addEventListener("touchstart",this.touchStartHandler,!1),this.hotKeyUpHandler=function(e){var t;n.props.open&&(e.preventDefault(),e.stopPropagation(),e.altKey||e.ctrlKey||e.shiftKey||(t=Ho[e.keyCode])&&n.props.onMenuSelect(t,e))},window.addEventListener("keyup",this.hotKeyUpHandler,!1)},componentWillUnmount:function(){window.removeEventListener("keyup",this.hotKeyUpHandler,!1),window.removeEventListener("touchstart",this.touchStartHandler,!1),window.removeEventListener("click",this.clickHandler,!1),document.BBSWindow.removeEventListener("keyup",this.contextMenuHandler,!1)}}))(function(e){var t=e.pttchrome,n=e.pageX,o=e.pageY,r=e.open,i=e.urlEnabled,s=e.normalEnabled,a=e.selEnabled,l=e.selectedText,c=e.onMenuSelect,u=e.onInputHelperClick,d=e.onLiveArticleHelperClick,f=e.onSettingsClick,p=e.onQuickSearchSelect,h=e.showsInputHelper,m=e.showsLiveArticleHelper,g=e.showsSettings,y=e.liveHelperEnabled,b=e.liveHelperSec,v=e.onInputHelperHide,w=e.onInputHelperReset,x=e.onInputHelperCmdSend,_=e.onInputHelperConvSend,E=e.onLiveHelperHide,C=e.onLiveHelperChange,S=e.onPrefSave,e=e.onPrefReset;return V.a.createElement(V.a.Fragment,null,V.a.createElement("div",{className:k()({open:r})},V.a.createElement(po,{pageX:n,pageY:o,urlEnabled:i,normalEnabled:s,selEnabled:a,mouseBrowsingEnabled:t.buf.useMouseBrowsing,selectedText:l,onMenuSelect:c,onInputHelperClick:u,onLiveArticleHelperClick:d,onSettingsClick:f,onQuickSearchSelect:p})),V.a.createElement(Mo,{show:h,onHide:v,onReset:w,onCmdSend:x,onConvSend:_}),V.a.createElement(No,{show:m,onHide:E,enabled:y,sec:b,onChange:C}),V.a.createElement(ro,{show:g,onSave:S,onReset:e}))});function Ko(){}var D=function(){var t=this,e=(this.CmdHandler=document.getElementById("cmdHandler"),this.CmdHandler.setAttribute("useMouseBrowsing","1"),this.CmdHandler.setAttribute("doDOMMouseScroll","0"),this.CmdHandler.setAttribute("SkipMouseClick","0"),this.view=new un,this.buf=new en(80,24),this.buf.setView(this.view),this.view.setBuf(this.buf),this.view.setCore(this),this.parser=new y(this.buf),this.easyReading=new io(this,this.view,this.buf),this.antiIdleTime=0,this.idleTime=0,this.curX=0,this.curY=0,this.inputArea=document.getElementById("t"),this.BBSWin=document.getElementById("BBSWindow"),this.BBSWin.setAttribute("align","center"),this.view.mainDisplay.style.transformOrigin="center",this.mouseLeftButtonDown=!1,this.mouseRightButtonDown=!1,this.inputAreaFocusTimer=null,this.modalShown=!1,this.lastSelection=null,this.waterball={userId:"",message:""},this.appFocused=!0,this.endTurnsOnLiveUpdate=!1,this.copyOnSelect=!1,window.navigator.userAgent.match(/Chrom(e|ium)\/(\d+)\./)),n=(e&&2<e.length&&(this.chromeVersion=parseInt(e[2],10)),this);window.addEventListener("click",function(e){n.mouse_click(e)},!1),window.addEventListener("mousedown",function(e){n.mouse_down(e)},!1),$(window).mousedown(function(e){if(!1===n.middleMouse_down(e))return!1}),window.addEventListener("mouseup",function(e){n.mouse_up(e)},!1),document.addEventListener("mousemove",function(e){n.mouse_move(e)},!1),document.addEventListener("mouseover",function(e){n.mouse_over(e)},!1),"onwheel"in window?window.addEventListener("wheel",function(e){n.mouse_scroll(e)},!0):window.addEventListener("mousewheel",function(e){n.mouse_scroll(e)},!0),window.addEventListener("focus",function(e){n.appFocused=!0,n.view.titleTimer&&(n.view.titleTimer.cancel(),n.view.titleTimer=null,document.title=n.connectedUrl.site,n.view.notif.close())},!1),window.addEventListener("blur",function(e){n.appFocused=!1},!1),this.strToCopy=null,document.addEventListener("copy",function(e){n.onDOMCopy(e)}),this.inputArea.addEventListener("paste",function(e){n.onDOMPaste(e)}),this.view.innerBounds=this.getWindowInnerBounds(),this.view.firstGridOffset=this.getFirstGridOffsets(),window.onresize=function(){n.onWindowResize()},window.addEventListener("beforeunload",function(e){if(t.conn&&t.conn.isConnected&&0!=t.buf.pageState)return e.returnValue="You are currently connected. Are you sure?",e.returnValue}),this.dblclickTimer=null,this.mbTimer=null,this.timerEverySec=null,this.pushthreadAutoUpdateCount=0,this.maxPushthreadAutoUpdateCount=-1,this.onWindowResize(),this.setupContextMenus(),this.contextMenuShown=!1,this.chromeVersion&&37<=this.chromeVersion&&(this.touch=new so(this))};function zo(){sn();var e=new D;Promise.resolve().then(function(){e.connect("wsstelnet://ws.clam.moe/bbs"),console.log("load pref from storage"),e.onValuesPrefChange(no()),e.setInputAreaFocus(),$("#BBSWindow").show(),e.onWindowResize()})}function $o(t){return fetch(t).then(function(e){if(e.ok)return e.arrayBuffer();throw new Error("loadTable failed: "+e.statusText+": "+t)})}D.prototype.isConnected=function(){return 1==this.connectState&&!!this.conn},D.prototype.connect=function(e){this.connectState=0,console.log("connect: "+e);var t=this._parseURLSimple(e);if("wsstelnet"==t.protocol)this._setupWebsocketConn("wss://"+t.hostname+t.path);else{if("wstelnet"!=t.protocol)return void console.log("unsupport connect url protocol: "+parser.protocol);this._setupWebsocketConn("ws://"+t.hostname+t.path)}this.connectedUrl={url:e,site:t.hostname,port:t.port,easyReadingSupported:!0}},D.prototype._parseURLSimple=function(e){var t,n,o,e=e.split(/:\/\//,2);return 2!=e.length||2<(n=(t=e[1].split(/\//,2))[0].split(/:/))?null:(o=1<n.length?parseInt(n[1]):{wstelnet:80,wsstelnet:443,telnet:23,ssh:22}[e[0]],{protocol:e[0],hostname:t[0],host:n[0],port:o,path:"/"+(1<t.length?t[1]:"")})},D.prototype._setupWebsocketConn=function(e){e=new pn(e);this._attachConn(new fn(e))},D.prototype._attachConn=function(t){var n=this;this.conn=t,this.conn.addEventListener("open",this.onConnect.bind(this)),this.conn.addEventListener("close",this.onClose.bind(this)),this.conn.addEventListener("data",function(e){n.onData(e.detail.data)}),this.conn.addEventListener("doNaws",function(e){t.sendWillNaws(),t.sendNaws(n.buf.cols,n.buf.rows)})},D.prototype.onConnect=function(){this.conn.isConnected=!0,this.view.setConn(this.conn),console.info("pttchrome onConnect"),this.connectState=1,this.updateTabIcon("connect"),this.idleTime=0;var e=this;this.timerEverySec=an(!0,function(){e.antiIdle(),e.view.onBlink(),e.incrementCountToUpdatePushthread()},1e3)},D.prototype.onData=function(e){var t,n;this.parser.feed(e),!this.appFocused&&this.view.enableNotifications&&(e=mt(e),t=new RegExp(/\x1b\[1;33;46m\u2605(\w+)\x1b\[0;1;37;45m (.+) \x1b\[m\x1b\[K/g),t=(n=t.exec(e))&&3==n.length?{userId:n[1],message:n[2]}:(n=(t=new RegExp(/\x1b\[24;\d{2}H\x1b\[1;37;45m([^\x1b]+)(?:\x1b\[24;18H)?\x1b\[m/g)).exec(e))&&2==n.length?{message:n[1]}:null)&&("userId"in t&&(this.waterball.userId=t.userId),"message"in t&&(this.waterball.message=t.message),this.view.showWaterballNotification())},D.prototype.onClose=function(){var e=this,t=(console.info("pttchrome onClose"),this.timerEverySec&&this.timerEverySec.cancel(),this.conn.isConnected=!1,this.cancelMbTimer(),this.connectState=2,this.idleTime=0,document.getElementById("reactAlert"));ReactDOM.render(React.createElement(co,{onDismiss:function(){ReactDOM.unmountComponentAtNode(t),e.connect(e.connectedUrl.url)}}),t),this.updateTabIcon("disconnect")},D.prototype.sendData=function(e){1==this.connectState&&this.conn.convSend(e)},D.prototype.cancelMbTimer=function(){this.mbTimer&&(this.mbTimer.cancel(),this.mbTimer=null)},D.prototype.setMbTimer=function(){this.cancelMbTimer();var e=this;this.mbTimer=an(!1,function(){e.mbTimer.cancel(),e.mbTimer=null,e.CmdHandler.setAttribute("SkipMouseClick","0")},100)},D.prototype.cancelDblclickTimer=function(){this.dblclickTimer&&(this.dblclickTimer.cancel(),this.dblclickTimer=null)},D.prototype.setDblclickTimer=function(){this.cancelDblclickTimer();var e=this;this.dblclickTimer=an(!1,function(){e.dblclickTimer.cancel(),e.dblclickTimer=null},350)},D.prototype.setInputAreaFocus=function(){this.modalShown||this.touch&&this.touch.touchStarted||this.inputArea.focus()},D.prototype.onToggleLiveHelperModalState=Ko,D.prototype.onDisableLiveHelperModalState=Ko,D.prototype.switchToEasyReadingMode=function(e){this.easyReading.leaveCurrentPost(),e?(this.onDisableLiveHelperModalState(),this.buf.pageLines=[],3==this.buf.pageState&&this.view.conn.send("[D[C")):(this.view.mainContainer.style.paddingBottom="",this.view.lastRowIndex=22,this.view.lastRowDiv.style.display="",this.view.replyRowDiv.style.display="",this.buf.pageLines=[]),this.view.conn.send(function(e){for(var t="",n=0;n<e.length;++n){var o,r=e.charAt(n),i=e.charAt(n+1);if(n==e.length-1){t+=r;break}"\\"!=r||"\\"!=i&&"^"!=i?"^"==r?"@"<=i&&i<="_"?(o=e.charCodeAt(n+1)-64,t+=String.fromCharCode(o),n++):"?"==i?(t+="",n++):t+="^":t+=r:t+=i}return t}("^L"))},D.prototype.doCopy=function(e){e.indexOf("")<0&&(e=(e=(e=e.replace(/\r\n/g,"\r")).replace(/\n/g,"\r")).replace(/ +\r/g,"\r")),this.strToCopy=e,document.execCommand("copy")},D.prototype.doCopyAnsi=function(){if(this.lastSelection){var e=this.lastSelection,t=null,n=(this.view.useEasyReadingMode&&3==this.buf.pageState&&(t=this.buf.pageLines),"");if(e.start.row==e.end.row)n+=this.buf.getText(e.start.row,e.start.col,e.end.col,!0,!0,!1,t);else for(var o=e.start.row;o<=e.end.row;++o){var r=0,i=this.buf.cols-1;o==e.start.row?r=e.start.col:o==e.end.row&&(i=e.end.col),n+=this.buf.getText(o,r,i,!0,!0,!1,t),o!=e.end.row&&(n+="\r")}this.doCopy(n)}},D.prototype.onDOMCopy=function(e){this.strToCopy&&(e.clipboardData.setData("text",this.strToCopy),e.preventDefault(),console.log("copied: ",this.strToCopy),this.strToCopy=null)},D.prototype.doPaste=function(){var t=this;navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(function(e){return t.onPasteDone(e)},function(){return t.showPasteUnimplemented()}):this.showPasteUnimplemented()},D.prototype.showPasteUnimplemented=function(){function e(){ReactDOM.unmountComponentAtNode(n),t.modalShown=!1}var t=this,n=document.getElementById("reactAlert");ReactDOM.render(React.createElement(ye,{show:!0,onExited:e,backdropClassName:"modal-backdrop",containerClassName:"modal-open",transition:Se,dialogTransitionTimeout:Qe.TRANSITION_DURATION,backdropTransitionTimeout:Qe.BACKDROP_TRANSITION_DURATION},React.createElement(ao,{onDismiss:e})),n),this.modalShown=!0},D.prototype.onPasteDone=function(e){this.view.onTextInput(e,!0)},D.prototype.onDOMPaste=function(e){var t=e.clipboardData.getData("text");t&&(e.preventDefault(),this.onPasteDone(t))},D.prototype.onSymFont=function(e){console.log("using "+(e?"extension":"system")+" font");var e="@font-face { font-family: MingLiUNoGlyph; "+(e?"src: url("+e.data+");":"")+" }",t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)},D.prototype.doSelectAll=function(){window.getSelection().selectAllChildren(this.view.mainDisplay)},D.prototype.doSearchGoogle=function(e){window.open("http://google.com/search?q="+e)},D.prototype.doOpenUrlNewTab=function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!0,!1,!1,!1,0,null),e.dispatchEvent(t)},D.prototype.incrementCountToUpdatePushthread=function(e){-1==this.maxPushthreadAutoUpdateCount?this.pushthreadAutoUpdateCount=0:++this.pushthreadAutoUpdateCount>=this.maxPushthreadAutoUpdateCount&&(this.pushthreadAutoUpdateCount=0,3!=this.buf.pageState&&2!=this.buf.pageState||this.view.conn.send("[D[C[4~"))},D.prototype.setAutoPushthreadUpdate=function(e){this.maxPushthreadAutoUpdateCount=e},D.prototype.onWindowResize=function(){var e=this;this.view.innerBounds=this.getWindowInnerBounds(),this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizer?this.resizeTimeout=setTimeout(function(){e.resizeTimeout=null,e.resizer&&e.resizer()},500):this.view.fontResize()},D.prototype.setTermSize=function(e,t){this.buf.cols==e&&this.buf.rows==t||(this.buf.resize(e,t),this.conn&&this.conn.sendNaws(e,t))},D.prototype.switchMouseBrowsing=function(){"1"==this.CmdHandler.getAttribute("useMouseBrowsing")?(this.CmdHandler.setAttribute("useMouseBrowsing","0"),this.buf.useMouseBrowsing=!1):(this.CmdHandler.setAttribute("useMouseBrowsing","1"),this.buf.useMouseBrowsing=!0),this.buf.useMouseBrowsing?(this.buf.resetMousePos(),this.view.redraw(!0),this.view.updateCursorPos()):(this.buf.BBSWin.style.cursor="auto",this.buf.clearHighlight(),this.buf.mouseCursor=0,this.buf.nowHighlight=-1,this.buf.tempMouseCol=0,this.buf.tempMouseRow=0)},D.prototype.antiIdle=function(){this.antiIdleTime&&this.idleTime>this.antiIdleTime?1==this.connectState&&(this.conn.send(""),this.idleTime=0):1==this.connectState&&(this.idleTime+=1e3)},D.prototype.updateTabIcon=function(e){var t=o(28);switch(e){case"connect":t=o(28),this.setInputAreaFocus();break;case"disconnect":t=o(28)}e=document.querySelector("link[rel~='icon']");e?e.setAttribute("href",t):((e=document.createElement("link")).setAttribute("rel","icon"),e.setAttribute("href",t),document.head.appendChild(e))},D.prototype.getWindowInnerBounds=function(){return{width:document.documentElement.clientWidth-2*this.view.bbsViewMargin,height:document.documentElement.clientHeight-2*this.view.bbsViewMargin}},D.prototype.getFirstGridOffsets=function(){var e=$(".main")[0];return{top:e.offsetTop,left:e.offsetLeft}},D.prototype.clientToPos=function(e,t){var n,o=this.view.innerBounds.width,r=this.view.innerBounds.height,o=1!=this.view.scaleX||1!=this.view.scaleY?(n=e-(o-this.view.chw*this.buf.cols*this.view.scaleX)/2,t-(r-this.view.chh*this.buf.rows*this.view.scaleY)/2):(n=e-parseFloat(this.view.firstGridOffset.left),t-parseFloat(this.view.firstGridOffset.top)),r=Math.floor(n/(this.view.chw*this.view.scaleX)),e=Math.floor(o/(this.view.chh*this.view.scaleY));return e<0?e=0:e>=this.buf.rows-1&&(e=this.buf.rows-1),r<0?r=0:r>=this.buf.cols-1&&(r=this.buf.cols-1),{col:r,row:e}},D.prototype.onMouse_click=function(e){var t=e.clientX,n=e.clientY;if(this.conn&&this.conn.isConnected&&(this.onDisableLiveHelperModalState(),this.easyReading._onMouseClick(e),!e.defaultPrevented))switch(this.buf.mouseCursor){case 1:this.conn.send("[D");break;case 2:this.conn.send("[5~");break;case 3:this.conn.send("[6~");break;case 4:this.conn.send("[1~");break;case 5:this.conn.send("[4~");break;case 6:if(-1!=this.buf.nowHighlight){var o="";if(this.buf.cur_y>this.buf.nowHighlight)for(var r=this.buf.cur_y-this.buf.nowHighlight,i=0;i<r;++i)o+="[A";else if(this.buf.cur_y<this.buf.nowHighlight)for(r=this.buf.nowHighlight-this.buf.cur_y,i=0;i<r;++i)o+="[B";this.conn.send(o+="\r")}break;case 7:var s=this.clientToPos(t,n),o="";if(this.buf.cur_y>s.row)for(r=this.buf.cur_y-s.row,i=0;i<r;++i)o+="[A";else if(this.buf.cur_y<s.row)for(r=s.row-this.buf.cur_y,i=0;i<r;++i)o+="[B";this.conn.send(o+="\r");break;case 0:this.conn.send("[D");break;case 8:this.conn.send("[");break;case 9:this.conn.send("]");break;case 10:this.conn.send("=");break;case 12:this.conn.send("[D\r[4~");break;case 13:this.conn.send("[D\r[4~[]");break;case 14:this.conn.send("[D[4~[]\r")}},D.prototype.onMouse_move=function(e,t){e=this.clientToPos(e,t);this.buf.onMouse_move(e.col,e.row,!1)},D.prototype.resetMouseCursor=function(e,t){this.buf.BBSWin.style.cursor="auto",this.buf.mouseCursor=11},D.prototype.onValuesPrefChange=function(e){var t,n=this;for(t in e)this.onPrefChange(t,e[t]);try{switch(this.resizer=null,e.termSizeMode){case"fixed-term-size":this.view.fontFitWindowWidth=e.fontFitWindowWidth;var o=e.termSize;this.setTermSize(o.cols,o.rows),this.view.fontResize(),this.view.redraw(!0);break;case"fixed-font-size":this.view.fontFitWindowWidth=!1;var r=e.fontSize;this.resizer=function(){var e=n.view.calcTermSizeFromFont(r);n.setTermSize(e.cols,e.rows),n.view.fixedResize(r),n.view.redraw(!0)},this.resizer();break;case"max-font-size":this.view.fontFitWindowWidth=!1;var i=e.fontSize,s=80,a=24;this.resizer=function(){var e=n.view.calcFontSizeFromTerm(s,a),e=Math.min(e,i),t=n.view.calcTermSizeFromFont(e);n.setTermSize(t.cols,t.rows),n.view.fixedResize(e),n.view.redraw(!0)},this.resizer()}this.view.fontFitWindowWidth?$(".main").addClass("trans-fix"):$(".main").removeClass("trans-fix")}catch(e){}},D.prototype.onPrefChange=function(e,t){try{switch(e){case"useMouseBrowsing":var n=t;this.CmdHandler.setAttribute("useMouseBrowsing",n?"1":"0"),this.buf.useMouseBrowsing=n,this.buf.useMouseBrowsing||(this.buf.BBSWin.style.cursor="auto",this.buf.clearHighlight(),this.buf.mouseCursor=0,this.buf.nowHighlight=-1,this.buf.tempMouseCol=0,this.buf.tempMouseRow=0),this.buf.resetMousePos(),this.view.redraw(!0),this.view.updateCursorPos();break;case"mouseBrowsingHighlight":this.buf.highlightCursor=t,this.view.redraw(!0),this.view.updateCursorPos();break;case"mouseBrowsingHighlightColor":this.view.highlightBG=t,this.view.redraw(!0),this.view.updateCursorPos();break;case"mouseLeftFunction":this.view.leftButtonFunction=t,"boolean"==typeof this.view.leftButtonFunction&&(this.view.leftButtonFunction=this.view.leftButtonFunction?1:0);break;case"mouseMiddleFunction":this.view.middleButtonFunction=t;break;case"mouseWheelFunction1":this.view.mouseWheelFunction1=t;break;case"mouseWheelFunction2":this.view.mouseWheelFunction2=t;break;case"mouseWheelFunction3":this.view.mouseWheelFunction3=t;break;case"copyOnSelect":this.copyOnSelect=t;break;case"endTurnsOnLiveUpdate":this.endTurnsOnLiveUpdate=t;break;case"enablePicPreview":this.view.enablePicPreview=t;break;case"enableNotifications":this.view.enableNotifications=t;break;case"enableEasyReading":break;case"antiIdleTime":this.antiIdleTime=1e3*t;break;case"dbcsDetect":this.view.dbcsDetect=t;break;case"lineWrap":this.conn.lineWrap=t;break;case"fontFace":var o=(o=t)||"monospace";this.view.setFontFace(o);break;case"bbsMargin":this.view.bbsViewMargin=t,this.onWindowResize()}}catch(e){}},D.prototype.checkClass=function(e){return 0<=e.indexOf("closeSI")||0<=e.indexOf("EPbtn")||0<=e.indexOf("closePP")||0<=e.indexOf("picturePreview")||0<=e.indexOf("drag")||0<=e.indexOf("floatWindowClientArea")||0<=e.indexOf("WinBtn")||0<=e.indexOf("sBtn")||0<=e.indexOf("nonspan")||0<=e.indexOf("nomouse_command")},D.prototype.mouse_click=function(e){var t,n;this.modalShown||(n="1"==this.CmdHandler.getAttribute("SkipMouseClick"),this.CmdHandler.setAttribute("SkipMouseClick","0"),2!=e.button&&(0===e.button?$(e.target).is("a")||$(e.target).parent().is("a")||window.getSelection().isCollapsed&&(this.buf.useMouseBrowsing?(t=!0,e.target.className&&this.checkClass(e.target.className)&&(t=!1),e.target.tagName&&0<=e.target.tagName.indexOf("menuitem")&&(t=!1),n&&(t=!1,n=this.clientToPos(e.clientX,e.clientY),this.buf.onMouse_move(n.col,n.row,!0)),t&&(this.onMouse_click(e),this.setDblclickTimer(),e.preventDefault(),this.setInputAreaFocus())):this.view.leftButtonFunction&&(1==this.view.leftButtonFunction?(this.setBBSCmd("doEnter",this.CmdHandler),e.preventDefault(),this.setInputAreaFocus()):2==this.view.leftButtonFunction&&(this.setBBSCmd("doRight",this.CmdHandler),e.preventDefault(),this.setInputAreaFocus()))):e.button))},D.prototype.middleMouse_down=function(e){if(1==e.button&&!$(e.target).is("a")&&!$(e.target).parent().is("a"))return 1==this.view.middleButtonFunction?(this.conn.send("\r"),!1):2==this.view.middleButtonFunction?(this.conn.send("[D"),!1):3==this.view.middleButtonFunction?(this.doPaste(),!1):void 0},D.prototype.mouse_down=function(e){this.modalShown||(0===e.button?(this.buf.useMouseBrowsing&&(this.dblclickTimer&&(e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0),this.setDblclickTimer()),this.mouseLeftButtonDown=!0,window.getSelection().isCollapsed||this.CmdHandler.setAttribute("SkipMouseClick","1"),e.target.className&&this.checkClass(e.target.className),e.target.tagName&&e.target.tagName.indexOf("menuitem")):2==e.button&&(this.mouseRightButtonDown=!0))},D.prototype.mouse_up=function(e){var t,n;this.modalShown||(0===e.button?(this.setMbTimer(),this.mouseLeftButtonDown=!1):2==e.button&&(this.mouseRightButtonDown=!1),0===e.button||2==e.button?window.getSelection().isCollapsed?(this.buf.useMouseBrowsing&&this.onMouse_move(e.clientX,e.clientY),this.setInputAreaFocus(),0===e.button&&(t=!0,e.target.className&&this.checkClass(e.target.className)&&(t=!1),t=!(e.target.tagName&&0<=e.target.tagName.indexOf("menuitem"))&&t)&&e.preventDefault()):this.copyOnSelect&&this.doCopy(window.getSelection().toString().replace(/\u00a0/g," ")):(this.setInputAreaFocus(),e.preventDefault()),(n=this).inputAreaFocusTimer=an(!1,function(){clearTimeout(n.inputAreaFocusTimer),n.inputAreaFocusTimer=null,window.getSelection().isCollapsed&&n.setInputAreaFocus()},10))},D.prototype.mouse_move=function(e){this.buf.useMouseBrowsing&&(window.getSelection().isCollapsed?this.mouseLeftButtonDown||this.onMouse_move(e.clientX,e.clientY):this.resetMouseCursor())},D.prototype.mouse_over=function(e){this.modalShown||(this.curX=e.clientX,this.curY=e.clientY,window.getSelection().isCollapsed&&!this.mouseLeftButtonDown&&this.setInputAreaFocus())},D.prototype.mouse_scroll=function(e){var t,n;this.modalShown||this.view.useEasyReadingMode&&3==this.buf.pageState||(n=["none","doArrowUp","doPageUp","previousThread"],t=["none","doArrowDown","doPageDown","nextThread"],n=e.deltaY<0||0<e.wheelDelta?this.mouseRightButtonDown?n[this.view.mouseWheelFunction2]:this.mouseLeftButtonDown?n[this.view.mouseWheelFunction3]:n[this.view.mouseWheelFunction1]:this.mouseRightButtonDown?t[this.view.mouseWheelFunction2]:this.mouseLeftButtonDown?t[this.view.mouseWheelFunction3]:t[this.view.mouseWheelFunction1],this.setBBSCmd(n),e.stopPropagation(),e.preventDefault(),this.mouseRightButtonDown&&this.CmdHandler.setAttribute("doDOMMouseScroll","1"),this.mouseLeftButtonDown&&this.buf.useMouseBrowsing&&this.CmdHandler.setAttribute("SkipMouseClick","1"))},D.prototype.setBBSCmd=function(e){switch(e){case"doArrowUp":this.view.useEasyReadingMode&&this.buf.startedEasyReading?0===this.view.mainDisplay.scrollTop?(this.easyReading.leaveCurrentPost(),this.conn.send("[D[A[C")):this.view.mainDisplay.scrollTop-=this.view.chh:this.conn.send("[A");break;case"doArrowDown":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop>=this.view.mainContainer.clientHeight-this.view.chh*this.buf.rows?(this.easyReading.leaveCurrentPost(),this.conn.send("[B")):this.view.mainDisplay.scrollTop+=this.view.chh:this.conn.send("[B");break;case"doPageUp":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop-=this.view.chh*this.easyReading._turnPageLines:this.conn.send("[5~");break;case"doPageDown":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop+=this.view.chh*this.easyReading._turnPageLines:this.conn.send("[6~");break;case"previousThread":this.view.useEasyReadingMode&&this.buf.startedEasyReading?(this.easyReading.leaveCurrentPost(),this.conn.send("[")):2!=this.buf.pageState&&3!=this.buf.pageState&&4!=this.buf.pageState||this.conn.send("[");break;case"nextThread":this.view.useEasyReadingMode&&this.buf.startedEasyReading?(this.easyReading.leaveCurrentPost(),this.conn.send("]")):2!=this.buf.pageState&&3!=this.buf.pageState&&4!=this.buf.pageState||this.conn.send("]");break;case"doEnter":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop>=this.view.mainContainer.clientHeight-this.view.chh*this.buf.rows?(this.easyReading.leaveCurrentPost(),this.conn.send("\r")):this.view.mainDisplay.scrollTop+=this.view.chh:this.conn.send("\r");break;case"doRight":this.view.useEasyReadingMode&&this.buf.startedEasyReading?this.view.mainDisplay.scrollTop>=this.view.mainContainer.clientHeight-this.view.chh*this.buf.rows?(this.easyReading.leaveCurrentPost(),this.conn.send("[C")):this.view.mainDisplay.scrollTop+=this.view.chh*this.easyReading._turnPageLines:this.conn.send("[C")}},D.prototype.setupContextMenus=function(){ReactDOM.render(React.createElement(Wo,{pttchrome:this}),document.getElementById("cmenuReact"))},Promise.all([$o(o(174)),$o(o(175))]).then(function(e){window.lib=window.lib||{},window.lib.b2uArray=new Uint8Array(e[0]),window.lib.u2bArray=new Uint8Array(e[1]),$(document).ready(zo)},function(e){console.log("loadResources failed: "+e)})}]);
//# sourceMappingURL=pttchrome.fa244fb1bf4841de9efb.js.map